!function(){window.SKYSALES={};var F=window.SKYSALES;F.Json=window.JSON,F.Resource={},F.Util={},F.Class={},F.Instance={},F.Instance.index=0,F.Instance.getNextIndex=function(){return F.Instance.index+=1,F.Instance.index},window.__doPostBack=function(t,e){var n=document,i=n.SkySales,a=n.getElementById("eventTarget"),r=n.getElementById("eventArgument"),s=n.getElementById("viewState");!i||i.onsubmit&&!1===i.onsubmit()||(a.value=t||a.value,a.name="__EVENTTARGET",null!==e&&(r.value=e),r.name="__EVENTARGUMENT",s.name="__VIEWSTATE",i.submit())},F.Class.LocaleCurrency=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t),n=F.Util.getResource(),d=0,i="",a="",r="",s=!0,h=n.currencyCultureInfo,o=function(){var t,e=(t=h.positivePattern,s||(t=h.negativePattern),t||"");return F.Util.replace(e,"n",r)},l=function(){var t;e.currency=e.num.toString(),s=0<=e.num,e.num=Math.abs(e.num),i=function(t){var e,n,i=h.groupSizes||[],a=h.groupSeparator,r=0,s=0,o=3,l=0,u=[];for(r>i.length&&(o=i[r]),l=o-1,e=(d=Math.floor(t)).toString().split("").reverse(),u=[],n=function(){var t=3;return t=r<=i.length-2?i[r+=1]:o,l+=t,t},s=0;s<e.length;s+=1)l<s&&(o=n(),u.push(a)),u.push(e[s]);return u.reverse().join("")}(e.num),t=e.num,a=(t-d).toFixed(h.decimalDigits).substring(2),r=i,0<h.decimalDigits&&(r+=h.decimalSeparator+a),e.integerPart=i,e.currency=o()};return e.num=null,e.localeCurrency=null,e.integerPart="",e.init=function(t){this.setSettingsByObject(t),null!==this.num&&l()},e},F.Class.Resource=function(){var e=new F.Class.SkySales,o=F.Util.extendObject(e);return o.carLocationInfo={},o.carLocationArray=[],o.carLocationHash={},o.activityLocationInfo={},o.activityLocationArray=[],o.activityLocationHash={},o.hotelLocationInfo={},o.hotelLocationArray=[],o.hotelLocationHash={},o.countryInfo={},o.provinceStateInfo={},o.stationInfo={},o.macInfo={},o.marketInfo={},o.macHash={},o.stationHash={},o.marketHash={},o.sourceInfo={},o.clientHash={},o.dateCultureInfo={},o.currencyCultureInfo={},o.carrierInfo={},o.carrierHash={},o.datePickerInfo={},o.passengerInfo={},o.passengerHash={},o.titleInfo={},o.carInfo={},o.externalRateInfo={},o.currencyInfo={},o.currencyHash={},o.populateMacHash=function(){var t=0,e=[],n={},i=null,a=-1;if(o.macInfo&&o.macInfo.MacList)for(a=(e=o.macInfo.MacList).length,t=0;t<a;t+=1)n[(i=e[t]).code]=i;o.macHash=n},Array.prototype.removeValue=function(n,i){var t=$.map(this,function(t,e){return t[n]===i?null:t});this.length=0,this.push.apply(this,t)},o.populateStationList=function(){var t=0,e=[],n=-1;if(o.stationInfo&&o.stationInfo.StationList)for(n=(e=o.stationInfo.StationList).length,t=0;t<n;t+=1)e[t].index=t;e.removeValue("code","BNA"),e.removeValue("code","CLT"),e.removeValue("code","CLE"),e.removeValue("code","PIT"),e.removeValue("code","RIC"),e.removeValue("code","EWR"),e.removeValue("code","IND"),e.removeValue("code","RDU"),e.removeValue("code","CMH"),e.removeValue("code","LAN"),e.removeValue("code","LTO"),e.removeValue("code","UPN"),e.removeValue("code","QRO"),e.removeValue("code","DEN"),e.removeValue("code","PBC"),e.removeValue("code","ZLO"),e.removeValue("code","SAP"),e.removeValue("code","SJU"),e.removeValue("code","NAS"),e.removeValue("code","PTY"),e.removeValue("code","YYZ"),e.removeValue("code","YUL"),e.removeValue("code","DCA"),e.removeValue("code","SLW"),e.removeValue("code","YVR"),e.removeValue("code","MBJ"),o.stationInfo.StationList=e},o.populateStationHash=function(){var t=0,e=[],n={},i=null,a=-1;if(o.stationInfo&&o.stationInfo.StationList)for(a=(e=o.stationInfo.StationList).length,t=0;t<a;t+=1)n[(i=e[t]).code]=i;o.stationHash=n},o.populatePassengerHash=function(){var t=0,e=[],n={},i=null,a=-1;if(o.passengerInfo&&o.passengerInfo.PassengerList)for(a=(e=o.passengerInfo.PassengerList).length,t=0;t<a;t+=1)n[(i=e[t]).PassengerNumber]=i;o.passengerHash=n},o.populateCarrierHash=function(){var t=0,e=[],n=0,i={},a=null,r=this.carrierInfo;if(r){if((e=r.carrierList)&&0<(n=e.length))for(t=0;t<n;t+=1)i[(a=e[t]).code]=a;o.carrierHash=i}},o.populateMarketHash=function(){var t=0,e=[],n={},i={},a="",r={},s=o.stationHash;if(o.marketInfo&&o.marketInfo.MarketList){for(a in r=o.marketInfo.MarketList)if(r.hasOwnProperty(a)){for(t=(e=r[a]).length-1;0<=t;t-=1)(i=s[(n=e[t]).code])?(n.name=i.name,n.index=i.index):e.splice(t,1);e.sort(this.destinationSort)}o.marketHash=r}},o.destinationSort=function(t,e){return t.index-e.index},o.populateClientHash=function(){var t=[],e=0,n="",i="",a="",r=-1,s=-1;if(window.document.cookie)for(s=(t=document.cookie.split("; ")).length,e=0;e<s;e+=1)-1<(r=(n=t[e]).indexOf("="))&&(i=n.substring(0,r),a=n.substring(r+1,n.length),i&&(a=F.Util.decodeUriComponent(a),o.clientHash[i]=a))},o.populateCurrencyHash=function(){var t=0,e=[],n={},i=null,a=-1;if(o.currencyInfo&&o.currencyInfo.CurrencyList)for(a=(e=o.currencyInfo.CurrencyList).length,t=0;t<a;t+=1)n[(i=e[t]).code]=i;o.currencyHash=n},o.populateAOSLocationInfoArray=function(t,e){var n,i,a=0,r=null,s="",o=null;for(i=(n=(t=t||{}).LocationList||[]).length,a=0;a<i;a+=1)(s=(r=n[a]).parent)&&(o=e[s])&&(r.name="    "+o.name+" - "+r.name,r.optionClass="subLocation");return n},o.getAOSLocationHash=function(t){var e,n,i=0,a={},r=null;for(n=(e=(t||{}).LocationList||[]).length,i=0;i<n;i+=1)a[(r=e[i]).code]=r;return a=a||{}},o.setSettingsByObject=function(t){e.setSettingsByObject.call(this,t),F.datepicker=this.datePickerInfo,this.populateStationList(),this.populateStationHash(),this.populateCarrierHash(),this.populateMacHash(),this.populateMarketHash(),this.populateClientHash(),this.populatePassengerHash(),this.populateCurrencyHash(),o.carLocationHash=this.getAOSLocationHash(this.carLocationInfo),o.carLocationArray=this.populateAOSLocationInfoArray(this.carLocationInfo,this.carLocationHash),o.activityLocationHash=this.getAOSLocationHash(this.activityLocationInfo),o.activityLocationArray=this.populateAOSLocationInfoArray(this.activityLocationInfo,this.activityLocationHash),o.hotelLocationHash=this.getAOSLocationHash(this.hotelLocationInfo),o.hotelLocationArray=this.populateAOSLocationInfoArray(this.hotelLocationInfo,this.hotelLocationHash)},o},F.Util.createObjectArray=[],F.Util.createObject=function(t,e,n,i){i=i||"ready";var a=F.Util.createObjectArray;a[a.length]={objNameBase:t,objType:e,json:n,createEvent:i}},F.Util.initObjects=function(t){t=t||"ready";var e=0,n=F.Util.createObjectArray,i="",a="",r=null,s=null;for(e=0;e<n.length;e+=1)(s=n[e]).createEvent===t&&(i=s.objNameBase+F.Instance.getNextIndex(),a=s.objType,r=s.json||{},F.Class[a]&&(F.Instance[i]=new F.Class[a],F.Instance[i].init(r)))},F.Util.decodeUriComponent=function(t){return t=t||"",window.decodeURIComponent&&(t=window.decodeURIComponent(t)),t=F.Util.replace(t,/\+/g," ")},F.Util.encodeUriComponent=function(t){return t=t||"",window.encodeURIComponent&&(t=window.encodeURIComponent(t)),t},F.Util.getTime=function(t,e,n){var i,a="";return i=t=Number(t),e=Number(e),n=Number(n),!1===isNaN(t)&&(12<t?t-=12:0===t?t=12:1===t.toString().length&&(t="0"+t),a=t,!1===isNaN(e)&&(1===e.toString().length&&(e="0"+e),a=a+":"+e,!1===isNaN(n)&&(1===n.toString().length&&(n="0"+n),a=a+":"+n)),a+=11<i&&i<24?" PM":" AM"),a},F.Util.getResource=function(){return F.Resource},F.Util.getAttributeValue=function(t,e){var n=e+".validation";return t.data(n)},F.Util.setAttribute=function(t,e,n){var i=e+".validation";t.data(i,n)},F.Util.removeAttribute=function(t,e){var n=e+".validation";t.removeData(n)},F.Util.setRequiredAttribute=function(t,e){var n=F.Util.setAttribute;n(t,"required","true"),e&&n(t,"requirederror",e),F.Util.formatInputLabel(t)},F.Util.removeRequiredAttribute=function(t){var e=F.Util.removeAttribute;e(t,"required"),e(t,"requirederror"),F.Util.formatInputLabel(t)},F.Util.extendObject=function(t){var e=function(){};return e.prototype=t,new e},F.Util.supplant=function(t,i){return t&&t.replace&&i?t.replace(/\[(\w+)\]/g,function(t,e){var n=null;return i.hasOwnProperty(e)&&(n=i[e]),null===n?n="":void 0===n&&(n=e),n}):""},F.Util.parseIsoDate=function(t){var e=null,n=/^(\d{4})-([0-3]\d)-(\d{2})/.exec(t);return n&&(e=new Date(+n[1],n[2]-1,+n[3])),e},F.Util.dateToIsoString=function(t){var e=t.getFullYear(),n=(t.getMonth()+1).toString(),i=t.getDate().toString();return 1===n.length&&(n="0"+n),1===i.length&&(i="0"+i),e+"-"+n+"-"+i},F.Util.parseIsoDate=function(t){var e=null,n=/^(\d{4})-(\d{2})-(\d{2})/.exec(t);return n&&(e=new Date(+n[1],n[2]-1,+n[3])),e},F.Util.dateToIsoString=function(t){var e=t.getFullYear(),n=(t.getMonth()+1).toString(),i=t.getDate().toString();return 1===n.length&&(n="0"+n),1===i.length&&(i="0"+i),e+"-"+n+"-"+i},F.Util.populateSelect=function(t){var e=(t=t||{}).selectedItem||null,n=t.objectArray||[],i=t.selectBox||null,a=t.showCode||!1,r=t.clearOptions||!1,s="",o="",l=null,u=null,d=0,h=0,c="",p=Option,g=t.codeName||"code",m=t.nameProperty||"name",y=null;if(0<i.length&&(l=i[0])&&l.options){for(y=l.options,r?y.length=0:(l.originalOptionLength||(l.originalOptionLength=l.options.length),y.length=l.originalOptionLength),h=n.length,d=0;d<h;d+=1)s=(u=n[d]||{})[m]||"",(o=u[g])||0===o||(o=""),a&&(s+=" ("+o+")"),c+='<option value="'+o+'"',u.optionClass&&(c+=' class"="'+u.optionClass+'"'),c+=">"+s+"</option>";null!==e&&(i.val(e),i.val()!==(e=String(e))&&(c=new p(e,e,!1,!1),i.append(c),i.val(e)))}},F.Util.populate=function(t){var e=(t=t||{}).input||$([]);e&&e[0]&&e[0].options?(t.selectBox=e,F.Util.populateSelect(t)):e&&(t.options=t.objectArray||[],F.Class.DropDown.getDropDown(t))},F.Util.cloneArray=function(t){return t.concat()},F.Util.convertToLocaleCurrency=function(t){var e={num:t},n=new F.Class.LocaleCurrency;return n.init(e),n.currency},F.Util.convertToLocaleInteger=function(t){var e={num:t},n=new F.Class.LocaleCurrency;return n.init(e),n.integerPart},F.Util.formatAmount=function(t,e,n,i){var a="",r="0"===e||""===e;return""===t||r?""!==t&&r?a=t:""!==t||r||(a=e+" "+n):a=e+" "+n+" "+i+" "+t,a},F.Util.replace=function(t,e,n){var i=typeof e;return n=String(n),i=i.toLowerCase(),t=String(t),"object"===i&&(n=n.replace(/\$/g,"$$$$")),t.replace(e,n)},F.Class.SkySales=function(){var t=this;return t.containerId="",t.container=null,t.init=F.Class.SkySales.prototype.init,t.getById=F.Class.SkySales.prototype.getById,t.setSettingsByObject=F.Class.SkySales.prototype.setSettingsByObject,t.addEvents=F.Class.SkySales.prototype.addEvents,t.setVars=F.Class.SkySales.prototype.setVars,t.hide=F.Class.SkySales.prototype.hide,t.show=F.Class.SkySales.prototype.show,t},F.Class.SkySales.prototype.init=function(t){this.setSettingsByObject(t),this.setVars()},F.Class.SkySales.prototype.getById=function(t,e){var n=null;return t&&e?n=$("#"+t,e):t&&(n=window.document.getElementById(t))&&(n=$(n)),n||(n=$([])),n},F.Class.SkySales.prototype.setSettingsByObject=function(t){var e="";for(e in t)t.hasOwnProperty(e)&&void 0!==this[e]&&(this[e]=t[e])},F.Class.SkySales.prototype.addEvents=function(){},F.Class.SkySales.prototype.setVars=function(){this.container=this.getById(this.containerId)},F.Class.SkySales.prototype.hide=function(){this.container.hide()},F.Class.SkySales.prototype.show=function(){this.container.show("slow")},F.Class.BaseToggleView=function(){var t=F.Class.SkySales(),r=F.Util.extendObject(t);return r.toggleViewIdArray=[],r.toggleViewArray=[],r.addToggleView=function(t){t.toggleViewIdArray&&(t=t.toggleViewIdArray);var e=t||[],n=null,i=0,a=null;for(void 0===e.length&&((e=[])[0]=t),i=0;i<e.length;i+=1)n=e[i],(a=new F.Class.ToggleView).init(n),r.toggleViewArray[r.toggleViewArray.length]=a},r},F.Class.FlightSearch=function(){var a=new F.Class.SkySales,r=F.Util.extendObject(a),s=[];return r.marketArray=[],r.flightTypeInputIdArray=[],r.countryInputIdArray=[],r.countryInputArray=[],r.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.initFlightTypeInputIdArray(),this.initCountryInputIdArray(),this.populateFlightType()},r.setSettingsByObject=function(t){a.setSettingsByObject.call(this,t);var e=0,n=this.marketArray||[],i=null;for(e=0;e<n.length;e+=1)(i=new F.Class.FlightSearchMarket).flightSearch=this,i.index=e,i.init(n[e]),this.marketArray[e]=i},r.initCountryInputIdArray=function(){var t=0,e=null,n={},i=this.countryInputIdArray||[];for(t=0;t<i.length;t+=1)e=i[t],(n=new F.Class.CountryInput).init(e),r.countryInputArray[this.countryInputArray.length]=n},r.initFlightTypeInputIdArray=function(){var t=0,e=null,n={},i=this.flightTypeInputIdArray||[];for(t=0;t<i.length;t+=1)e=i[t],(n=new F.Class.FlightTypeInput).flightSearch=this,n.index=t,n.init(e),s[s.length]=n},r.populateFlightType=function(){var t=0,e=null,n=null;for(t=0;t<s.length;t+=1)if(e=s[t],(n=$(e.input)).attr("checked")){n.click();break}},r.updateFlightType=function(t){var e,n=0,i=null;for(n=0;n<s.length;n+=1)for(i=s[n].hideInputArray,e=0;e<i.length;e+=1)$(i[e]).show();for(i=t.hideInputArray,e=0;e<i.length;e+=1)$(i[e]).hide()},r},F.Class.FlightSearchMarket=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t),a=[],r=[],s=[],o=[];return e.flightSearch=null,e.index=-1,e.validationMessageObject={},e.validationObjectIdArray=[],e.stationInputIdArray=[],e.stationDropDownIdArray=[],e.marketInputIdArray=[],e.macInputIdArray=[],e.marketDateIdArray=[],e.lowFareAvailabilityArray=[],e.marketDateArray=[],e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.initMarketInputIdArray(),this.initStationInputIdArray(),this.initStationDropDownIdArray(),this.initMacInputIdArray(),this.initMarketDateIdArray(),this.initLowFareAvailabilityArray()},e.initMacInputIdArray=function(){var t=0,e=null,n={},i=this.macInputIdArray||[];for(t=0;t<i.length;t+=1)e=i[t],(n=new F.Class.MacInput).init(e),(o[o.length]=n).showMac.call(n.stationInput)},e.initMarketDateIdArray=function(){var t=0,e=null,n={},i=this.marketDateIdArray||[];for(t=0;t<i.length;t+=1)e=i[t],(n=new F.Class.MarketDate).init(e),this.marketDateArray[this.marketDateArray.length]=n},e.initMarketInputIdArray=function(){var t=0,e=null,n={},i=this.marketInputIdArray||[];for(t=0;t<i.length;t+=1)e=i[t],(n=new F.Class.MarketInput).init(e),a[a.length]=n},e.initStationInputIdArray=function(){var t=0,e=null,n={},i=this.stationInputIdArray;for(t=0;t<i.length;t+=1)e=i[t],(n=new F.Class.StationInput).init(e),r[r.length]=n},e.initStationDropDownIdArray=function(){var t=0,e=null,n={},i=this.stationDropDownIdArray;for(t=0;t<i.length;t+=1)e=i[t],(n=new F.Class.StationDropDown).init(e),s[s.length]=n},e.initLowFareAvailabilityArray=function(){var t=0,e=null,n=this.lowFareAvailabilityArray,i=n.length,a={};for(t=0;t<i;t+=1)e=new F.Class.LowFareAvailability,(a=n[t]).datePickerManager=this.marketDateArray[0].datePickerManager,e.init(a),n[n.length]=e},e},F.Class.LowFareAvailability=function(){var t=new F.Class.SkySales,b=F.Util.extendObject(t),T="",A="",x="";return b.request={},b.url="TripPlannerLowFareSelectAjax-resource.aspx",b.containerId="lowFareAvailabilityContainerId",b.container={},b.showId="",b.show=null,b.flightSearch={},b.tripPlannerSearchFlight={},b.originId="",b.destinationId="",b.marketDateId="",b.marketDateObject={},b.datePickerManager={},b.requestStartDate=null,b.requestEndDate=null,b.lowFareAvailabilityMisconfiguredErrorDivId="lowFareAvailabilityMisconfiguredErrorText",b.lowFareAvailabilityMisconfiguredErrorText="",b.updateShow=function(){this.tripPlannerSearchFlight.tripPlannerSearchFlights.dontRequireOriginAndDestinationOnFlights(),this.tripPlannerSearchFlight.requireOriginAndDestination(),this.validate()&&(this.populateRequest(),this.sendLowFareAvailabilityRequest())},b.updateShowHandler=function(){b.updateShow()},b.validate=function(){return F.Util.validate(this.show[0])},b.addEvents=function(){this.show.click(this.updateShowHandler)},b.populateRequest=function(){var t,e,n,i=this.flightSearch.countryInputArray[0].input.val(),a=this.tripPlannerSearchFlight.tripPlannerSearchFlights.tripPlannerSearch,r=a.preferredFareDropDown.val(),s=a.passengerDiscountDropDown.val(),o={},l=a.passengerTypeDropDowns.passengerTypeDropDownArray||[],u=l.length,d=0,h="",c="",p=T.val(),g=A.val(),m=x.val().split("-"),y=m[0],f=m[1]-1,v=m[2],I=new Date,D=new Date,C=new Date,S=new Date,w=new Date;for(b.marketDateObject=new Date(y,f,v),b.request={"Search.ResidentCountry":i,"Search.PreferredFare":r,"Search.DiscountCode":s},d=0;d<u;d+=1)h=(o=l[d]).attr("name"),c=o.val(),b.request[h]=c;D=new Date(I.getFullYear(),I.getMonth(),I.getDate()-1),(C=new Date(this.marketDateObject)).setDate(C.getDate()-7),S=C<D?D:C,(w=new Date(this.marketDateObject)).setDate(w.getDate()+7),b.requestStartDate=S,b.requestEndDate=w,t="Search.DateMarkets[0].",b.request[t+"OriginStation.MarketCode"]=p,b.request[t+"DestinationStation.MarketCode"]=g,e=F.Util.dateToIsoString(S),b.request[t+"DepartureDate"]=e,n=F.Util.dateToIsoString(w),b.request[t+"ArrivalDate"]=n,this.tripPlannerSearchFlight.hideTripIsUnavailable(),this.tripPlannerSearchFlight.hideTripHasNoFares()},b.sendLowFareAvailabilityRequest=function(){$.post(this.url,this.request,this.responseHandler)},b.availabilityExists=function(t){for(var e=!1,n=(t=t||[]).length||0,i=0;i<n&&!e;)0<t[i].JourneyDateMarketList.length&&(e=!0),i+=1;return e},b.makeDateMarketHash=function(t){var e,n={},i=0,a=(t=t||[]).length,r=[],s=0,o=0,l={},u=0,d=[],h=[],c=[],p=[],g=[],m=0,y="";for(i=0;i<a;i+=1)for(s=(r=t[i].JourneyDateMarketList).length,o=0;o<s;o+=1)u=(l=(e=r[o]).DepartureDate).Month-1,y="date_0_"+l.Year+"_"+u+"_"+l.Day,m=0,(d=e.Journeys||[]).length&&(h=d[0].Segments||[]).length&&(c=h[0].Fares||[]).length&&(p=c[0].PaxFares||[]).length&&(g=p[0].ServiceCharges||[]).length&&(m=(g[0]||{}).Amount||0,m=parseFloat(m,10)),n[y]={year:l.Year,month:u,day:l.Day,containerId:y,price:m};return n},b.processResponse=function(t){var e=$(t).html(),n=F.Json.parse(e),i={containerId:"lowFareAvailabilityContainerId",templateId:"tripPlannerCalendar",totalTemplateId:"totalTemplateId",totalId:"totalId",marketArray:[],requestStartDate:this.requestStartDate,requestEndDate:this.requestEndDate},a=[],r={},s=(n.TripAvailabilityResponse||{}).Schedules||[],o=[],l=0,u={},d={};this.availabilityExists(s)?0<s.length&&(0<(o=s[0].JourneyDateMarketList||[]).length&&(r={departureStation:(u=o[0]).DepartureStation,arrivalStation:u.ArrivalStation,selectedDate:this.marketDateObject,startYear:u.DepartureDate.Year,startMonth:u.DepartureDate.Month-1,startDay:u.DepartureDate.Day},0<(l=o.length)&&(d=o[l-1],r.endYear=d.DepartureDate.Year,r.endMonth=d.DepartureDate.Month-1,r.endDay=d.DepartureDate.Day)),r.dateMarketHash=this.makeDateMarketHash(s),r.datePickerManager=this.datePickerManager,a.push(r),i.marketArray=a,(new F.Class.TripPlannerCalendarAvailabilityInput).init(i),this.container.show()):(this.tripPlannerSearchFlight.showTripIsUnavailable(),this.container.hide())},b.validateResponse=function(t){var e=!0;return""===t?e=!1:$(t)[0].innerHTML||(e=!1),e},b.validateAndProcessResponse=function(t){var e=$(t);this.validateResponse(e)?this.processResponse(e):alert(b.lowFareAvailabilityMisconfiguredErrorText)},b.responseHandler=function(t){b.validateAndProcessResponse(t)},b.ajaxErrorHandler=function(t){b.ajaxError(t)},b.setVars=function(){var t=this.getById(this.lowFareAvailabilityMisconfiguredErrorDivId);0<t.length&&(b.lowFareAvailabilityMisconfiguredErrorText=t.text()),b.show=this.getById(this.showId),b.container=this.getById(this.containerId),T=this.getById(this.originId),A=this.getById(this.destinationId),x=this.getById(this.marketDateId),b.flightSearch=this.tripPlannerSearchFlight.tripPlannerSearchFlights.tripPlannerSearch.flightSearch},b.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},b},F.Class.MacInput=function(){var e=new F.Class.SkySales,r=F.Util.extendObject(e);return r.macHash=F.Util.getResource().macHash,r.stationHash=F.Util.getResource().stationHash,r.stationInputId="",r.macContainerId="",r.macLabelId="",r.macInputId="",r.macContainer={},r.stationInput={},r.macInput={},r.macLabel={},r.showMac=function(){var t,e=$(this).val(),n="",i="",a=null;e=(e=e||"").toUpperCase(),r.macInput.removeAttr("checked"),r.macContainer.hide(),(t=r.stationHash[e])&&(n=t.macCode,(a=r.macHash[n])&&0<a.stations.length&&(i=a.stations.join(),r.macLabel.html(i),r.macContainer.show()))},r.addEvents=function(){r.stationInput.change(r.showMac)},r.setVars=function(){r.stationInput=this.getById(r.stationInputId),r.macContainer=this.getById(r.macContainerId),r.macLabel=this.getById(r.macLabelId),r.macInput=this.getById(r.macInputId)},r.init=function(t){e.init.call(this,t),r.macContainer.hide(),this.addEvents()},r},F.Class.MarketDate=function(){var t=new F.Class.SkySales,u=F.Util.extendObject(t);return u.dateFormat=F.datepicker.datePickerFormat,u.dateDelimiter=F.datepicker.datePickerDelimiter,u.marketDateId="",u.marketDate=null,u.marketDayId="",u.marketDay=null,u.marketMonthYearId="",u.marketMonthYear=null,u.useJQueryDatePicker=!0,u.datePickerManager={},u.fullDateFormatString="mm/dd/yy",u.parseDate=function(t){var e="",n="",i="",a=new Date,r="",s=[],o=0,l=F.Util.parseIsoDate(t);if(l)a=l;else if(-1<t.indexOf(u.dateDelimiter)){for(s=t.split(this.dateDelimiter),o=0;o<this.dateFormat.length;o+=1)switch("0"===(r=s[o]).charAt(0)&&(r=r.substring(1)),this.dateFormat.charAt(o)){case"m":n=r;break;case"d":e=r;break;case"y":i=r}a=new Date(i,n-1,e)}return a},u.addEvents=function(){var t={isAOS:!1,yearMonth:this.marketMonthYear,day:this.marketDay,linkedDate:this.marketDate,useJQueryDatePicker:this.useJQueryDatePicker,fullDateFormatString:this.fullDateFormatString};u.datePickerManager=new F.Class.DatePickerManager,this.datePickerManager.init(t)},u.setVars=function(){u.marketDate=this.getById(this.marketDateId),u.marketDay=this.getById(this.marketDayId),u.marketMonthYear=this.getById(this.marketMonthYearId)},u.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},u.datesInOrder=function(t){var e,n=!0;return e=this.parseDate(t[0]),this.parseDate(t[1])<e&&(n=!1),n},u},F.Class.CountryInput=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.countryInfo=F.Util.getResource().countryInfo,e.countryInputId="",e.input={},e.defaultValue=null,e.showCode=!0,e.populateCountryInput=function(){var t,e=this.countryInfo||{},n=this.defaultValue,i=e.CountryList||[];null===n&&(n=e.DefaultValue),t={input:this.input,objectArray:i,selectedItem:n,showCode:this.showCode},F.Util.populate(t)},e.setVars=function(){e.input=this.getById(this.countryInputId)},e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.populateCountryInput(),this.addEvents()},e},F.Class.DateInput=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.yearStart=1900,e.yearEnd=0,e.dayCount=31,e.date=null,e.dateId="",e.dateYear=null,e.dateYearId="",e.dateYearValue="",e.dateMonth=null,e.dateMonthId="",e.dateMonthValue="",e.dateDay=null,e.dateDayId="",e.dateDayValue="",e.dateDayInfo=[],e.dateMonthInfo=[],e.dateYearInfo=[],e.useOneBasedMonth=!1,e.useTwoDigitMonth=!1,e.showNumberMonth=!1,e.defaultDayOfMonth="",e.initDateInfo=function(){var t,e=(F.Util.getResource()||{}).dateCultureInfo.monthNamesShort||[],n="",i=0,a=0,r=this.useOneBasedMonth,s=this.dayCount,o=this.yearStart,l=(new Date).getFullYear(),u=this.yearEnd||l,d=this.dateDayInfo,h=this.dateMonthInfo,c=this.dateYearInfo,p=this.useTwoDigitMonth,g=this.showNumberMonth;for(i=1;i<=s;i+=1)d.push({name:i,code:i});for(t=e.length,i=0;i<t;i+=1)(n=e[a=i])&&(g&&(n=a,n=parseInt(n,10),(n+=1)<10&&(n="0"+n)),r&&(a=i+1),p&&a<10&&(a="0"+a),h.push({name:n,code:a}));if(u<o)for(i=u;i<=o;i+=1)c.push({name:i,code:i});else for(i=u;o<=i;i-=1)c.push({name:i,code:i})},e.initDropDown=function(t,e){var n;n={objectArray:t,input:e,showCode:!1,clearOptions:!1,selectedItem:""},F.Util.populate(n)},e.initDropDownValues=function(){var t=null,e="",n="",i="";""!==this.dateYearValue&&""!==this.dateMonthValue&&""!==this.dateDayValue&&(t=new Date(this.dateYearValue,this.dateMonthValue-1,this.dateDayValue))&&(e=t.getFullYear(),n=t.getMonth(),i=t.getDate(),9999!==e&&(this.dateYear.val(e),this.dateMonth.val(n),this.dateDay.val(i),this.updateDate()))},e.updateDateHandler=function(){e.updateDate()},e.updateDate=function(){var t="",e=null,n=0,i=0,a=0,r=this.defaultDayOfMonth;n=this.dateYear.val(),i=this.dateMonth.val(),(a=this.dateDay.val())||"last"!==r||(n=parseInt(n,10),i=parseInt(i,10),a=1,e=new Date(n,i,a),this.useOneBasedMonth||e.setMonth(e.getMonth()+1),e.setDate(e.getDate()-1),a=e.getDate()),n&&""!==i&&a&&null!==i&&(n=parseInt(n,10),i=parseInt(i,10),this.useOneBasedMonth&&(i-=1),a=parseInt(a,10),e=new Date(n,i,a),t=F.Util.dateToIsoString(e)),this.date.val(t)},e.setVars=function(){this.date=this.getById(this.dateId),this.dateYear=this.getById(this.dateYearId),this.dateMonth=this.getById(this.dateMonthId),this.dateDay=this.getById(this.dateDayId)},e.addEvents=function(){this.dateYear.change(this.updateDateHandler),this.dateMonth.change(this.updateDateHandler),this.dateDay.change(this.updateDateHandler)},e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.initDateInfo(),this.initDropDown(this.dateYearInfo,this.dateYear),this.initDropDown(this.dateMonthInfo,this.dateMonth),this.initDropDown(this.dateDayInfo,this.dateDay),this.initDropDownValues(),this.addEvents()},e},F.Class.FlightTypeInput=function(){var i=new F.Class.SkySales,a=F.Util.extendObject(i);return a.flightSearch=null,a.index=-1,a.flightTypeId="",a.hideInputIdArray=[],a.hideInputArray=[],a.input={},a.updateFlightTypeHandler=function(){a.flightSearch.updateFlightType(a)},a.addEvents=function(){i.addEvents.call(this),this.input.click(this.updateFlightTypeHandler)},a.setVars=function(){i.setVars.call(this);var t=0,e=null,n=[];for(a.input=this.getById(this.flightTypeId),t=0;t<this.hideInputIdArray.length;t+=1)(e=a.getById(this.hideInputIdArray[t]))&&(n[n.length]=e);a.hideInputArray=$(n)},a.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},a},F.Class.MarketInput=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t),n=F.Util.getResource()||{};return e.marketHash=n.marketHash,e.stationList=n.stationInfo.StationList||[],e.containerId="",e.container=null,e.disableInputId="",e.disableInput=null,e.originId="",e.origin=null,e.destinationId="",e.destination=null,e.toggleMarketCount=0,e.toggleMarketHandler=function(){e.toggleMarket()},e.toggleMarket=function(){this.toggleMarketCount%2==0?$(":input",this.container).attr("disabled","disabled"):$(":input",this.container).removeAttr("disabled"),e.toggleMarketCount+=1},e.updateMarketOriginHandler=function(){var t=$(this).val();e.updateMarketOrigin(t)},e.updateMarketOrigin=function(t){var e,n=[];t=t.toUpperCase(),n=(n=this.marketHash[t])||[],e={input:this.destination,objectArray:n,showCode:!0},F.Util.populate(e),this.destination.change()},e.addEvents=function(){this.origin.change(this.updateMarketOriginHandler),this.disableInput.click(this.toggleMarketHandler)},e.setVars=function(){e.container=this.getById(this.containerId),e.disableInput=this.getById(this.disableInputId),e.origin=this.getById(this.originId),e.destination=this.getById(this.destinationId)},e.populateMarketInput=function(t){var e;e={input:t,objectArray:this.stationList,showCode:!0},F.Util.populate(e)},e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.populateMarketInput(this.origin),this.populateMarketInput(this.destination),this.disableInput.click(),this.disableInput.removeAttr("checked")},e},F.Class.StationInput=function(){var e=new F.Class.SkySales,t=F.Util.extendObject(e);return t.stationInputId="",t.stationInput=null,t.setVars=function(){e.setVars.call(this),t.stationInput=this.getById(this.stationInputId)},t.init=function(t){e.init.call(this,t),this.addEvents()},t},F.Class.StationDropDown=function(){var e=new F.Class.SkySales,n=F.Util.extendObject(e);return n.selectBoxId="",n.selectBox=null,n.inputId="",n.input=null,n.updateStationDropDown=function(){var t=$(this).val();t&&n.selectBox.val(t)},n.updateStationInput=function(){var t=$(this).val();n.input.val(t),n.input.change()},n.addEvents=function(){n.input.change(n.updateStationDropDown),n.selectBox.change(n.updateStationInput)},n.setVars=function(){n.selectBox=this.getById(n.selectBoxId),n.input=this.getById(n.inputId)},n.init=function(t){e.init.call(this,t),this.addEvents(),n.input.change()},n},F.Class.TravelDocumentInput=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.instanceName="",e.delimiter="_",e.travelDocumentInfoId="",e.travelDocumentInfo=null,e.documentNumberId="",e.documentNumber=null,e.documentTypeId="",e.documentType=null,e.documentIssuingCountryId="",e.documentIssuingCountry=null,e.documentBirthCountryId="",e.documentBirthCountry=null,e.documentExpYearId="",e.documentExpYear=null,e.documentExpMonthId="",e.documentExpMonth=null,e.documentExpDayId="",e.documentExpDay=null,e.actionId="",e.action=null,e.travelDocumentKey="",e.missingDocumentText="",e.missingDocumentTypeText="",e.invalidExpDateText="",e.emptyExpDateText="",e.invalidDaysOfMonthTextPre="",e.invalidDaysOfMonthTextMid="",e.invalidDaysOfMonthTextPost="",e.missingDocumentNumberText="",e.missingDocumentCountryText="",e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},e.setVars=function(){e.travelDocumentInfo=this.getById(this.travelDocumentInfoId),e.documentType=this.getById(this.documentTypeId),e.documentNumber=this.getById(this.documentNumberId),e.documentIssuingCountry=this.getById(this.documentIssuingCountryId),e.documentBirthCountry=this.getById(this.documentBirthCountryId),e.documentExpYear=this.getById(this.documentExpYearId),e.documentExpMonth=this.getById(this.documentExpMonthId),e.documentExpDay=this.getById(this.documentExpDayId),e.action=this.getById(this.actionId)},e.setTravelDocumentInfo=function(){var t="",e=this.documentType.val(),n=this.documentNumber.val(),i=this.documentIssuingCountry.val(),a=this.documentBirthCountry.val();return e&&n&&i&&(t=this.delimiter+e+this.delimiter+n+this.delimiter+i+this.delimiter+a,this.travelDocumentInfo.val(t)),!0},e.validateTravelDocumentHandler=function(){return e.validateTravelDocument()},e.validateTravelDocument=function(){this.setTravelDocumentInfo();var t=this.action[0];return F.Util.validate(t)&&this.validateInput()},e.addEvents=function(){this.action.click(this.validateTravelDocumentHandler)},e.validateInput=function(){var t=!0,e="",n="",i=this.documentNumber.val()||"",a=this.documentExpYear.val()||"",r=this.documentExpMonth.val()||"",s=this.documentExpDay.val()||"",o=this.documentType.val()||"",l=this.documentIssuingCountry.val()||"",u=!1,d=!1,h="";return(i||o||l||a||r||s)&&(i||(e=e+this.missingDocumentNumberText+"\n"),o||(e=e+this.missingDocumentTypeText+"\n"),l||(e=e+this.missingDocumentCountryText+"\n"),d=this.checkDaysOfMonth(s,r,a),u=this.isPastDate(s,r,a),s&&r&&a?d?u||(e=e+this.invalidExpDateText+"\n"):(h=this.documentExpMonth.find(":selected").text(),n=this.invalidDaysOfMonthTextPre+s,e=e+(n+=this.invalidDaysOfMonthTextMid+h+this.invalidDaysOfMonthTextPost)+"\n"):e=e+this.emptyExpDateText+"\n",e&&(window.alert(this.missingDocumentText+"\n"+e),t=!1)),t},e.checkDaysOfMonth=function(t,e,n){n=window.parseInt(n,10),e=window.parseInt(e,10),t=window.parseInt(t,10);var i=!1,a=null;return n&&e&&t&&(e-=1,(a=new Date).setMonth(2),a.setDate(1),a.setDate(a.getDate()-1),t<=[31,a.getDate(),31,30,31,30,31,31,30,31,30,31][e]&&(i=!0)),i},e.isPastDate=function(t,e,n){n=window.parseInt(n,10),e=window.parseInt(e,10),t=window.parseInt(t,10);var i=!1;return n&&e&&t&&(e-=1,new Date<new Date(n,e,t)&&(i=!0)),i},e},F.Class.ControlGroup=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.actionId="SkySales",e.action=null,e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},e.setVars=function(){t.setVars.call(this),e.action=this.getById(this.actionId)},e.addEvents=function(){t.addEvents.call(this),this.action.click(this.validateHandler)},e.validateHandler=function(){return e.validate()},e.validate=function(){var t=this.action[0];return F.Util.validate(t)},e},F.Class.ControlGroupRegister=function(){var n=new F.Class.ControlGroup,i=F.Util.extendObject(n);return i.travelDocumentInput=null,i.setSettingsByObject=function(t){n.setSettingsByObject.call(this,t);var e=new F.Class.TravelDocumentInput;e.init(this.travelDocumentInput),i.travelDocumentInput=e},i.validateHandler=function(){return i.validate()},i.validate=function(){var t=!1;return(t=this.travelDocumentInput.setTravelDocumentInfo()&&this.travelDocumentInput.validateExpDate())&&(t=n.validate.call(this)),t},i},F.Class.PersonInput=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t),n=F.Util.getResource();return e.countryInputId="",e.countryInput=null,e.stateInputId="",e.stateInput=null,e.emptyStateSelect="",e.defaultProvinceStateCode="",e.defaultCountryCode="",e.countryStateHash=null,e.clientHash=n.clientHash,e.countryArray=n.countryInfo.CountryList,e.allStateArray=n.provinceStateInfo.ProvinceStateList,e.enableSeatLocation=!1,e.seatLocationInputId="",e.seatLocationInput=null,e.seatLocationHiddenFieldId="",e.seatLocationHiddenField=null,e.seatTypeInputId="",e.seatTypeInput=null,e.seatTypeArray=[],e.seatLocationArray=[],e.defaultSeatLocation="",e.defaultSeatType="",e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.initCountryInput(),this.initStateInput(),this.initializeSeatPreferences()},e.initCountryInput=function(){var t,e=this.countryArray||[];t={selectedItem:this.defaultCountryCode,input:this.countryInput,objectArray:e,showCode:!1},F.Util.populate(t)},e.initStateInput=function(){var t,e,n=this.allStateArray||[],i=0,a=n.length,r=this.defaultCountryCode+"|"+this.defaultProvinceStateCode;for(-1<this.defaultProvinceStateCode.indexOf("|")&&(r=this.defaultProvinceStateCode),i=0;i<a;i+=1)(e=n[i]).code=e.ccode+"|"+e.scode;"|"!==r&&r.indexOf("|")!==r.length-1||(r=""),t={selectedItem:r,input:this.stateInput,objectArray:n,showCode:!1},F.Util.populate(t)},e.getCountryStateHash=function(){var t,e=0,n=0,i=[],a=null,r=null,s={},o=0,l=this.countryArray,u=this.allStateArray;for(t=l.length,e=0;e<t;e+=1){for(r=l[e],(i=[]).push({name:this.emptyStateSelect,code:"",ccode:"",scode:""}),o=u.length,n=0;n<o;n+=1)(a=u[n]).ccode===r.code&&i.push(a);s[r.code]=i}return s},e.updateCountryHandler=function(){e.updateCountry()},e.updateCountry=function(){var t=this.stateInput.val().split("|"),e="";2===t.length&&(e=t[0],this.countryInput.val(e))},e.updateStateHandler=function(){e.updateState()},e.updateState=function(){var t,e,n=this.countryInput.val(),i=[],a={},r=[],s=0;for(0===(i=(i=this.getCountryStateHash()[n])||[]).length&&(r.push({name:this.emptyStateSelect,code:"",ccode:"",scode:""}),i=this.allStateArray),t=i.length,s=0;s<t;s+=1)a=i[s],r.push(a);e={objectArray:r,input:this.stateInput,showCode:!1,clearOptions:!0},F.Util.populate(e)},e.addEvents=function(){this.countryInput.change(this.updateStateHandler),this.stateInput.change(this.updateCountryHandler),this.seatLocationInput.change(this.updateSeatLocationHiddenHandler)},e.updateSeatLocationHiddenHandler=function(){e.updateSeatLocationHidden()},e.updateSeatLocationHidden=function(){var t=(this.seatLocationInput||{}).val();(this.seatLocationHiddenField||{}).val(t)},e.setVars=function(){e.countryInput=this.getById(this.countryInputId),e.stateInput=this.getById(this.stateInputId),e.seatLocationHiddenField=this.getById(this.seatLocationHiddenFieldId),e.seatLocationInput=this.getById(this.seatLocationInputId),e.seatTypeInput=this.getById(this.seatTypeInputId)},e.populateSeatDropDowns=function(){var t,e;t={selectBox:this.seatTypeInput,objectArray:this.seatTypeArray,selectedItem:this.defaultSeatType},F.Util.populateSelect(t),e={selectBox:this.seatLocationInput,objectArray:this.seatLocationArray,selectedItem:this.defaultSeatLocation},F.Util.populateSelect(e)},e.updateSeatLocationDropDownList=function(){var t=this.enableSeatLocation||!1,e=this.seatLocationInput||{};t?e.removeAttr("disabled"):e.attr("disabled","disabled")},e.initializeSeatPreferences=function(){this.populateSeatDropDowns(),this.updateSeatLocationDropDownList(),this.updateSeatLocationHidden()},e},F.Class.AgencyInput=function(){var t=new F.Class.PersonInput,e=F.Util.extendObject(t);return e.updateCountryHandler=function(){e.updateCountry()},e.updateStateHandler=function(){e.updateState()},e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.initCountryInput(),this.initStateInput()},e},F.Class.ContactInput=function(){var a=new F.Class.PersonInput,o=F.Util.extendObject(a);return o.clientId="",o.keyIdArray=[],o.keyArray=[],o.clientStoreIdHash=null,o.imContactId="",o.imContact=null,o.currentContactData={},o.logOutButton=null,o.clearCurrentContactHandler=function(){o.clearCurrentContact()},o.clearCurrentContact=function(){var t=this.clientId;this.getById(t+"_DropDownListTitle").val(""),this.getById(t+"_TextBoxFirstName").val(""),this.getById(t+"_TextBoxMiddleName").val(""),this.getById(t+"_TextBoxLastName").val(""),this.getById(t+"_TextBoxAddressLine1").val(""),this.getById(t+"_TextBoxAddressLine2").val(""),this.getById(t+"_TextBoxAddressLine3").val(""),this.getById(t+"_TextBoxCity").val(""),this.getById(t+"_DropDownListStateProvince").val(""),this.getById(t+"_DropDownListCountry").val(""),this.getById(t+"_TextBoxPostalCode").val(""),this.getById(t+"_TextBoxHomePhone").val(""),this.getById(t+"_TextBoxWorkPhone").val(""),this.getById(t+"_TextBoxOtherPhone").val(""),this.getById(t+"_TextBoxFax").val(""),this.getById(t+"_TextBoxEmailAddress").val("")},o.populateCurrentContactHandler=function(){o.populateCurrentContact()},o.populateCurrentContact=function(){this.currentContactData&&(!0===this.imContact.attr("checked")?this.populateContactFields():this.clearCurrentContact())},o.populateContactFields=function(){var t=this.clientId,e=this.currentContactData;this.getById(t+"_DropDownListTitle").val(e.title),this.getById(t+"_TextBoxFirstName").val(e.firstName),this.getById(t+"_TextBoxMiddleName").val(e.middleName),this.getById(t+"_TextBoxLastName").val(e.lastName),this.getById(t+"_TextBoxAddressLine1").val(e.streetAddressOne),this.getById(t+"_TextBoxAddressLine2").val(e.streetAddressTwo),this.getById(t+"_TextBoxAddressLine3").val(e.streetAddressThree),this.getById(t+"_TextBoxCity").val(e.city),this.getById(t+"_DropDownListStateProvince").val(e.country+"|"+e.stateProvince),this.getById(t+"_DropDownListCountry").val(e.country),this.getById(t+"_TextBoxPostalCode").val(e.postalCode),this.getById(t+"_TextBoxHomePhone").val(e.eveningPhone),this.getById(t+"_TextBoxWorkPhone").val(e.dayPhone),this.getById(t+"_TextBoxOtherPhone").val(e.mobilePhone),this.getById(t+"_TextBoxFax").val(e.faxPhone),this.getById(t+"_TextBoxEmailAddress").val(e.email)},o.updateCountryHandler=function(){o.updateCountry()},o.updateStateHandler=function(){o.updateState()},o.getKey=function(){var t=0,e=this.keyArray,n="",i=e.length;for(t=0;t<i;t+=1)n+=e[t].val();return n=this.clientId+"_"+n.toLowerCase()},o.populateClientStoreIdHash=function(){var t=this.clientHash,e=0,n=[],i="",a=-1,r=this.getKey(),s=null;if(o.clientStoreIdHash={},r&&t&&t[r])for(o.clientStoreIdHash=this.clientStoreIdHash||{},n=t[r].split("&"),e=0;e<n.length;e+=1)-1<(a=(i=n[e]).indexOf("="))&&(r=i.substring(0,a),s=i.substring(a+1,i.length),r&&(o.clientStoreIdHash[r]=s))},o.autoPopulateFormHandler=function(){o.autoPopulateForm()},o.autoPopulateForm=function(){var t=this.clientStoreIdHash,e="",n="";for(e in this.populateClientStoreIdHash(),t)t.hasOwnProperty(e)&&(n=t[e],this.getById(e).val(n))},o.addEvents=function(){var t=0,e=this.keyArray,n=e.length;for(a.addEvents.call(this),t=0;t<n;t+=1)e[t].change(this.autoPopulateFormHandler);this.imContact.click(this.populateCurrentContactHandler),this.logOutButton.click(this.clearCurrentContactHandler)},o.setVars=function(){var t=0,e=this.keyIdArray,n=this.keyArray,i="";for(a.setVars.call(this),t=0;t<e.length;t+=1)i=e[t],n[n.length]=this.getById(i);o.imContact=this.getById(this.imContactId),o.logOutButton=this.getById("MemberLoginContactView_ButtonLogOut")},o.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.initCountryInput(),this.initStateInput()},o},F.Class.ToggleView=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.showId="",e.hideId="",e.elementId="",e.show=null,e.hide=null,e.element=null,e.setVars=function(){t.setVars.call(this),e.show=this.getById(this.showId),e.hide=this.getById(this.hideId),e.element=this.getById(this.elementId)},e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},e.updateShowHandler=function(){e.updateShow()},e.updateHideHandler=function(){e.updateHide()},e.updateShow=function(){this.element.show("slow")},e.updateHide=function(){this.element.hide()},e.updateToggleHandler=function(){e.updateToggle()},e.updateToggle=function(){this.element.is(":visible")?this.updateHide():this.updateShow()},e.addEvents=function(){t.addEvents.call(this),this.showId===this.hideId?this.show.click(this.updateToggleHandler):(this.show.click(this.updateShowHandler),this.hide.click(this.updateHideHandler))},e},F.Class.ToggleTabsAndView=function(){var t=new F.Class.ToggleView,e=F.Util.extendObject(t);return e.updateShowHandler=function(){e.updateShow()},e.updateHideHandler=function(){e.updateHide()},e.updateShow=function(){this.element.show()},e.updateHide=function(){this.hide.addClass("activeSummaryTab"),this.show.removeClass("activeSummaryTab"),this.element.hide()},e},F.Class.TcThumbnails=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.enlargeId="",e.thumbnailArray=[],e.selected=null,e.imageDescriptionId="",e.imageDescription=null,e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.initThumbnailArray()},e.initThumbnailArray=function(){var t=0,e=this.thumbnailArray||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=new F.Class.TcThumbnail).enlargeId=this.enlargeId,i.ref=this,i.init(e[t]),(e[t]=i).isDefault&&i.thumbnail.click()},e.setVars=function(){t.setVars.call(this),e.imageDescription=this.getById(this.imageDescriptionId)},e.showSelected=function(t){this.selected&&this.selected.thumbnail.removeClass("activeThumbnail"),t.thumbnail.addClass("activeThumbnail"),this.selected=t},e},F.Class.TcThumbnail=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.thumbnailId="",e.thumbnail=null,e.imgSrc="",e.enlargeId="",e.enlarge=null,e.ref=null,e.imgDesc="",e.isDefault=!1,e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},e.setVars=function(){this.thumbnail=this.getById(this.thumbnailId),this.enlarge=this.getById(this.enlargeId)},e.addEvents=function(){this.thumbnail.click(this.updateEnlargeImageHandler)},e.updateEnlargeImageHandler=function(){e.updateEnlargeImage()},e.updateEnlargeImage=function(){this.enlarge.attr("src",this.imgSrc),this.ref.showSelected(this),this.ref.imageDescription.text(this.imgDesc)},e},F.Class.PaymentInputBase=function(){var t=F.Class.SkySales(),e=F.Util.extendObject(t);return e.paymentInputCreditCardTypeId="",e.paymentInputCreditCardType={},e.paymentInputCreditCardNumberId="",e.paymentInputCreditCardNumber={},e.paymentInputCreditCardExpirationMonthId="",e.paymentInputCreditCardExpirationMonth={},e.paymentInputCreditCardExpirationYearId="",e.paymentInputCreditCardExpirationYear={},e.paymentInputCreditCardHolderNameId="",e.paymentInputCreditCardHolderName={},e.paymentInputCreditCardAmountId="",e.paymentInputCreditCardAmount={},e.paymentInputCreditCardCvvId="",e.paymentInputCreditCardCvv={},e.paymentInputCreditCardIssueNumberId="",e.paymentInputCreditCardIssueNumber={},e.init=function(t){this.setSettingsByObject(t),this.setVars()},e.setVars=function(){e.paymentInputCreditCardAmount=this.getById(this.paymentInputCreditCardAmountId),e.paymentInputCreditCardCvv=this.getById(this.paymentInputCreditCardCvvId),e.paymentInputCreditCardExpirationMonth=this.getById(this.paymentInputCreditCardExpirationMonthId),e.paymentInputCreditCardExpirationYear=this.getById(this.paymentInputCreditCardExpirationYearId),e.paymentInputCreditCardHolderName=this.getById(this.paymentInputCreditCardHolderNameId),e.paymentInputCreditCardNumber=this.getById(this.paymentInputCreditCardNumberId),e.paymentInputCreditCardType=this.getById(this.paymentInputCreditCardTypeId),e.paymentInputCreditCardIssueNumber=this.getById(this.paymentInputCreditCardIssueNumberId)},e},F.Class.InlineDCC=function(){var t=F.Class.PaymentInputBase(),e=F.Util.extendObject(t);return e.inlineDCCOfferKeyInputId="",e.cultureCode="",e.foreignAmountId="",e.foreignCurrencyNameId="",e.foreignCurrencySymbolId="",e.ownCurrencyAmountId="",e.ownCurrencyNameId="",e.ownCurrencySymbolId="",e.rejectInlineDccRadioButtonId="",e.acceptInlineDccRadioButtonId="",e.doubleOptOutId="",e.inlineDCCAjaxAttemptedId="",e.inlineDCCAjaxSucceededId="",e.dccId="",e.inlineDCCConversionLabelId="",e.paymentMethodInputId="",e.paymentMethodInput={},e.amountInputId="",e.accountNumberInputId="",e.currencyCode="",e.feeAmt=null,e.inlineDCCJson={},e.inlineDCCActive=!1,e.paymentMethod=null,e.setDCCVars=function(t){e.dcc=this.getById(this.dccId),e.inlineDCCConversionLabel=this.getById(this.inlineDCCConversionLabelId),e.paymentMethodInput=t.methodInput,e.accountNoTextBox=t.accountNumber,e.amountTextBox=t.amountDom,e.inlineDCCAjaxAttempted=this.getById(this.inlineDCCAjaxAttemptedId),e.inlineDCCAjaxSucceeded=this.getById(this.inlineDCCAjaxSucceededId),e.inlineDCCActive=t.inlineDCCActive},e.inlineDCCAjaxRequestHandler=function(){e.getInlineDCC()},e.addEvents=function(){this.accountNoTextBox&&this.accountNoTextBox.change(this.inlineDCCAjaxRequestHandler)},e.init=function(t){this.setSettingsByObject(t)},e.getInlineDCC=function(t){this.setDCCVars(t),this.clearInlineDCCOffer();var e={},n=t.key,i=0,a=t.inlineDCCActive,r=t.paymentType.paymentTypes.paymentFees.paymentFeeHash,s=t.accountNumberValue,o=0,l=0;a?(i=(r[n]||{}).amount||0,o||(o=t.accountNumber.val())||(o=t.maskedNumber),l||(l=this.amountTextBox.val()),l&&o?(e={amount:l,paymentFee:i,currencyCode:this.currencyCode,accountNumber:o,accountNumberId:s,paymentMethod:n,cultureCode:this.cultureCode},this.currencyCode&&l&&o&&0<parseFloat(l)&&12<=o.length&&(this.inlineDCCAjaxSucceeded.val("false"),this.paymentMethod=t,$.post("DccOffer-rest.aspx",e,this.inlineDCCResponseHandler))):this.clearInlineDCCOffer()):this.clearInlineDCCOffer()},e.clearInlineDCCOffer=function(){this.dcc.html("")},e.setVarsAfterAjaxResponse=function(t){e.foreignAmount=t.foreignCurrencyAmount,e.foreignCurrencyName=t.foreignCurrencyName,e.foreignCurrencySymbol=t.foreignCurrencySymbol,e.ownCurrencyAmount=t.ownCurrencyAmount,e.ownCurrencyName=t.ownCurrencyName,e.ownCurrencySymbol=t.ownCurrencySymbol,e.rejectInlineDccRadioButton=this.getById(this.rejectInlineDccRadioButtonId),e.acceptInlineDccRadioButton=this.getById(this.acceptInlineDccRadioButtonId)},e.foreignUpdateConversionLabel=function(){this.inlineDCCConversionLabel.text("( "+this.foreignAmount+" "+this.foreignCurrencyName+")")},e.ownUpdateConversionLabel=function(){this.inlineDCCConversionLabel.text("")},e.noThanks=function(){this.getById("dccCont").show("slow")},e.noShowThanks=function(){this.getById("dccCont").hide("slow")},e.updateAcceptRadioBtn=function(t){this.acceptInlineDccRadioButton.attr("checked",t),this.rejectInlineDccRadioButton.attr("checked",!t),this.foreignUpdateConversionLabel()},e.updateInlineDCCOffer=function(t){var e={},n=this.getById(this.inlineDCCOfferKeyInputId),i=this.dcc,a="",r="",s=this.paymentMethod,o=s.paymentType.getCurrentPaymentMethodKey(),l=s.accountNumber.val();t&&(e=F.Json.parse(t))&&(this.inlineDCCAjaxAttempted.val("true"),"ExternalAccount:"+e.paymentMethodCode===o&&e.accountNumber===l&&(e.paymentMethodCode&&this.inlineDCCAjaxSucceeded.val("true"),n.val(t),i.empty(),!0===e.applicable&&(r=$("#inlineDccTemplate").html(),r=F.Util.replace(r,"\x3c!--",""),r=F.Util.replace(r,"--\x3e",""),a=F.Util.supplant(r,e),i.append(a)),this.setVarsAfterAjaxResponse(e),this.updateAcceptRadioBtn(e.acceptByDefault)))},e.inlineDCCResponseHandler=function(t){e.updateInlineDCCOffer(t)},e},F.Class.PaymentFees=function(){var t=F.Class.SkySales(),e=F.Util.extendObject(t);return e.paymentFeeArray=[],e.paymentFeeHash={},e.quotedAmount=-1,e.templateId="",e.template=null,e.submitName="",e.url="PaymentFeesAjax-resource.aspx",e.quotedAmountName="",e.keyName="",e.key="",e.paymentMethod={},e.setVars=function(){t.setVars.call(this),e.template=this.getById(this.templateId)},e.updatePaymentAmountHandler=function(){e.updatePaymentAmount()},e.updatePaymentAmount=function(t,e){var n=this.submitName,i=e,a=this.quotedAmountName,r=this.keyName,s={};s[a]=i,s[r]=t,s.__EVENTTARGET="",s[n]="UpdatePaymentArray",$.post(this.url,s,this.updatePaymentFeeArrayHandler)},e.updatePaymentFeeArrayHandler=function(t){e.updatePaymentFeeArray(t)},e.updatePaymentFeeArray=function(t){t=$(t).text(),t=F.Json.parse(t)||{},e.paymentFeeArray=t.paymentFeeArray||[],e.quotedAmount=t.quotedAmount||0,e.key=t.key||"",this.initPaymentFeeHash(),this.updatePaymentFee(this.key,this.quotedAmount)},e.updatePaymentFeeHandler=function(){e.updatePaymentFee()},e.updatePaymentFee=function(t,e){var n=this.paymentFeeHash[t]||{},i=this.quotedAmount,a=this.paymentMethod;this.deactivatePaymentFees(),e=parseFloat(e,10),(i=parseFloat(i,10))===e?(this.activatePaymentFees(n),a&&a.paymentType.paymentTypes.inlineDCC.getInlineDCC(a)):this.updatePaymentAmount(t,e)},e.activatePaymentFees=function(t){var e="",n=t.amount;0<(n=parseFloat(n,10))&&(e=this.getHtml(t),this.container.html(e),this.container.show())},e.deactivatePaymentFees=function(){this.container.html(""),this.container.hide()},e.getHtml=function(t){var e="";return e=this.template.text(),e=F.Util.supplant(e,t)},e.initPaymentFeeHash=function(){var t=this.paymentFeeArray||[],e=null,n=0,i=t.length,a={};for(n=0;n<i;n+=1)(e=new F.Class.PaymentFee).init(t[n]),a[e.key]=e;this.paymentFeeHash=a},e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.initPaymentFeeHash()},e},F.Class.PaymentFee=function(){var t=F.Class.SkySales(),e=F.Util.extendObject(t);return e.amount=-1,e.total=-1,e.feeCode=-1,e.isFixedAmount=!1,e.key="",e.amountFormatted="",e.totalFormatted="",e.init=function(t){this.setSettingsByObject(t),e.amount=parseFloat(this.amount,10),e.total=parseFloat(this.total,10)},e},F.Class.PaymentTypes=function(){var t=F.Class.SkySales(),e=F.Util.extendObject(t);return e.paymentTypeArray=[],e.paymentFees={},e.showDeviceFingerprint=!1,e.passThroughForChargePaymentArray=[],e.passThroughForHoldPaymentArray=[],e.inlineDCC={},e.storedPaymentInputId="",e.storedPaymentInput={},e.initPaymentTypeArray=function(){var t=this.paymentTypeArray||[],e=null,n=0,i=t.length,a=!1;for(n=0;n<i;n+=1)(e=new F.Class.PaymentType).paymentTypes=this,e.init(t[n]),!0===(t[n]=e).isDefault&&!1===a&&(e.activate(),a=!0);this.paymentTypeArray=t},e.initPassThroughPaymentArray=function(t,e){t=t||"",e=e||{};var n=this.passThroughForChargePaymentArray||[],i=this.passThroughForHoldPaymentArray||[],a=null,r=null,s=0,o={},l=e.paymentMethodType||"",u=t+l+"_"+(e.paymentMethodCode||"")+"_",d=n.concat(i),h=d.length;for(s=0;s<h;s+=1)r=d[s],a=new F.Class.PassThroughPayment,o={paymentInputCreditCardTypeId:l+"_PaymentMethodCode",paymentInputCreditCardNumberId:u+"ACCTNO",paymentInputCreditCardExpirationMonthId:u+"EXPDAT_MONTH",paymentInputCreditCardExpirationYearId:u+"EXPDAT_YEAR",paymentInputCreditCardHolderNameId:u+"CC::AccountHolderName",paymentInputCreditCardCvvId:u+"CC::VerificationCode",paymentInputCreditCardIssueNumberId:u+"CC::IssueNumber"},r.paymentInputContentIds=o,a.init(r),d[s]=a;this.passThroughPaymentArray=d},e.initPaymentFees=function(){var t;(t=new F.Class.PaymentFees).init(this.paymentFees),this.paymentFees=t},e.updatePaymentTypes=function(t){var e=this.paymentTypeArray||[],n=0,i=e.length;if(t){for(n=0;n<i;n+=1)e[n].deactivate();t.activate()}},e.enableDeviceFingerprint=function(){var t=F.Class.PaymentTypes.deviceFingerprintLoaded;!0===this.showDeviceFingerprint&&!1===t&&(F.Class.PaymentTypes.deviceFingerprintLoaded=!0,$("body").append('<iframe id="deviceFingerprint" src="DeviceFingerprint.aspx" width="0" height="0"></iframe>'))},e.initDCC=function(){var t=new F.Class.InlineDCC;t.init(this.inlineDCC),this.inlineDCC=t},e.setVars=function(){e.storedPaymentInput=this.getById(this.storedPaymentInputId)},e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.initDCC(),this.initPaymentFees(),this.initPassThroughPaymentArray(),this.initPaymentTypeArray(),this.enableDeviceFingerprint()},e},F.Class.PaymentTypes.deviceFingerprintLoaded=!1,F.Class.PaymentType=function(){var t=F.Class.SkySales(),e=F.Util.extendObject(t);return e.paymentTypes=null,e.actionId="",e.action=null,e.paymentMethodActionId="",e.paymentMethodAction=null,e.isDefault=!1,e.nameSpaceName="",e.nameSpaceId="",e.hint="",e.paymentMethodArray=[],e.setVars=function(){t.setVars.call(this),e.action=this.getById(this.actionId),e.paymentMethodAction=this.getById(this.paymentMethodActionId)},e.addEvents=function(){this.action.click(this.updatePaymentTypeHandler),this.paymentMethodAction.change(this.updatePaymentMethodHandler)},e.updatePaymentTypeHandler=function(t){return t.preventDefault(),e.updatePaymentType(),!1},e.updatePaymentType=function(){this.paymentTypes.updatePaymentTypes(this)},e.deactivate=function(){this.action.removeClass("tabactive"),this.container.hide();var t=this.paymentMethodArray||[],e=0,n=t.length,i=this.nameSpaceName,a=this.paymentMethodAction,r=a.attr("name")||"",s=this.hint,o=new F.Hint;for(""!==s&&0<a.length&&(o.removeEventFunction.call(a[0]),F.Util.removeAttribute(a,"hint",s)),r=F.Util.replace(r,i,""),this.paymentMethodAction.attr("name",r),e=0;e<n;e+=1)t[e].deactivate()},e.activate=function(){this.action.addClass("tabactive"),this.container.show();var t=this.nameSpaceName,e=this.paymentMethodAction,n=e.attr("name")||"",i=this.hint,a=new F.Hint,r=this.getActivePaymentMethod();""!==i&&0<e.length&&(F.Util.setAttribute(e,"hint",i),a.eventFunction.call(e[0])),n=t+n,e.attr("name",n),this.updatePaymentMethod(r.staticKey)},e.getActivePaymentMethod=function(){var t=this.paymentMethodArray||[],e=this.paymentMethodAction.val(),n={},i={},a=t.length,r=0;if(0<a)for(n=t[0],r=0;r<a;r+=1)if((i=t[r]).staticKey===e){n=i;break}return n},e.initPaymentMethodArray=function(){var t=this.paymentMethodArray||[],e=null,n=0,i=t.length;for(n=0;n<i;n+=1)(e=new F.Class.PaymentMethod).paymentType=this,e.nameSpaceName=this.nameSpaceName,e.init(t[n]),t[n]=e;this.paymentMethodArray=t},e.updatePaymentMethodHandler=function(){var t=$(this).val();e.updatePaymentMethod(t)},e.getCurrentStoredPaymentId=function(){var t=this.paymentMethodAction.val();return this.getStoredPaymentIdFromValue(t)},e.getStoredPaymentIdFromValue=function(t){var e=0,n=(t=t||"").split("-");return 1<n.length&&(e=n[1]),e},e.getCurrentPaymentMethodKey=function(){var t=this.paymentMethodAction.val();return this.getPaymentMethodKeyFromValue(t)},e.getPaymentMethodKeyFromValue=function(t){return(t=t||"").split("-")[0]},e.updatePaymentMethod=function(t){var e=t=t||"",n=this.paymentMethodArray||[],i={},a=0,r=n.length,s=e.indexOf("-"),o=e.indexOf("_"),l="";for(-1<s&&(e=e.substring(0,s)),-1<o&&(l=e.substring(o+1,e.length),e=e.substring(0,o)),a=0;a<r;a+=1)(i=n[a]).deactivate();for(a=0;a<r;a+=1)t===(i=n[a]).staticKey&&(i.activate(),l&&i.updateRefundPaymentAmount(l))},e.setPaymentFieldsOnStoredPayments=function(){var t=this.paymentMethodArray,e=null,n=null,i=0,a=t.length,r=0;for(i=0;i<a;i+=1)if((n=t[i]).isStoredPayment)for(r=0;r<a;r+=1)(e=t[r]).isStoredPayment||n.key!==e.key||(n.paymentFieldArray=e.paymentFieldArray)},e.setPaymentFieldsOnBookingPayments=function(){var t=this.paymentMethodArray,e=null,n=null,i=0,a=t.length,r=0;for(i=0;i<a;i+=1)if((n=t[i]).isBookingPayment)for(r=0;r<a;r+=1)(e=t[r]).isBookingPayment||n.key!==e.key||(n.paymentFieldArray=e.paymentFieldArray)},e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.initPaymentMethodArray()},e},F.Class.PaymentMethod=function(){var r=F.Class.SkySales(),u=F.Util.extendObject(r);return u.paymentInputJson={},u.paymentInput={},u.paymentType=null,u.isDefault=!1,u.key="",u.staticKey="",u.accountNumberId="",u.accountNumberValue=0,u.accountNumber=null,u.amountId="",u.amountDom=null,u.paymentFieldArray=[],u.nameSpaceName="",u.isStoredPayment=!1,u.isBookingPayment=!1,u.inlineDCCActive=!1,u.paymentMethodType="",u.paymentMethodCode="",u.maskedNumber="",u.expirationYear="",u.expirationMonth="",u.expirationYearInputId="",u.expirationYearInput="",u.expirationMonthInputId="",u.expirationMonthInput="",u.cardNameIdArray=[],u.cardNameArray=[],u.cardNameValue="",u.isActive=!1,u.accountNumberTextId="",u.accountNumberText=null,u.refundAmount=0,u.refundAmountFormatted="",u.clearFields=!1,u.supportPaymentFees=!0,u.initPaymentFieldArray=function(){var t=this.paymentFieldArray||[],e=null,n=0,i=t.length;for(n=0;n<i;n+=1)(e=new F.Class.PaymentField).nameSpaceName=this.nameSpaceName,e.init(t[n]),t[n]=e;this.paymentFieldArray=t},u.deactivate=function(){this.container.hide();var t=this.paymentFieldArray||[],e=0,n=t.length;for(u.isActive=!1,this.clearFields&&this.clearStoredFields(),e=0;e<n;e+=1)t[e].deactivate()},u.activate=function(){var t=this.paymentFieldArray||[],e=0,n=t.length,i=this.amountDom.val(),a=this.paymentType,r=a.paymentTypes,s=r.paymentFees,o=this.accountNumber,l=this.accountNumberText;for(u.isActive=!0,this.isStoredPayment||(o.show(),l.html("")),0===n&&(this.paymentType.setPaymentFieldsOnStoredPayments(),this.paymentType.setPaymentFieldsOnBookingPayments(),n=(t=this.paymentFieldArray||[]).length),this.isStoredPayment&&this.populateStoredFields(),e=0;e<n;e+=1)t[e].activate(this);this.container.show(),this.supportPaymentFees&&(s.paymentMethod=this,s.updatePaymentAmount(this.key,i),r.initPassThroughPaymentArray(a.nameSpaceId,this))},u.populateStoredFields=function(){var t=this.accountNumber,e=this.cardNameArray,n=0,i=e.length,a=this.cardNameValue,r=this.accountNumberText,s=(this.staticKey||"").split("-"),o=s.length,l=this.paymentType.paymentTypes.storedPaymentInput||{};for(t.val(this.maskedNumber),t.hide(),r.html(this.maskedNumber),n=0;n<i;n+=1)e[n].val(a);2===o&&this.key===s[0]&&l.val(s[1]),1===this.expirationMonth.length&&(this.expirationMonth="0"+this.expirationMonth),this.expirationYearInput.val(this.expirationYear),this.expirationMonthInput.val(this.expirationMonth),this.expirationYearInput.change()},u.clearStoredFields=function(){var t=this.accountNumber,e=this.cardNameArray,n=0,i=e.length,a=this.paymentType.paymentTypes.storedPaymentInput||{};for(t.val(""),n=0;n<i;n+=1)e[n].val("");a.val(""),1===this.expirationMonth.length&&(this.expirationMonth="0"+this.expirationMonth),this.expirationYearInput.val(""),this.expirationMonthInput.val(""),this.expirationYearInput.change()},u.updatePaymentAmountHandler=function(){u.updatePaymentAmount()},u.updatePaymentAmount=function(){var t=this.amountDom.val(),e=((this.paymentType||{}).paymentTypes||{}).paymentFees;this.isActive&&e&&e.updatePaymentAmount(this.key,t)},u.updateRefundPaymentAmount=function(){(this.amountDom||{}).val(this.refundAmountFormatted)},u.setVars=function(){var t=0,e="",n=null,i=this.cardNameIdArray,a=i.length;for(r.setVars.call(this),u.amountDom=this.getById(this.amountId),u.accountNumber=this.getById(this.accountNumberId),u.accountNumberText=this.getById(this.accountNumberTextId),u.methodInput=this.paymentType.paymentMethodAction,u.expirationYearInput=this.getById(this.expirationYearInputId),u.expirationMonthInput=this.getById(this.expirationMonthInputId),t=0;t<a;t+=1)e=i[t],n=this.getById(e),this.cardNameArray.push(n)},u.updatePaymentAccountNumberHandler=function(){u.updatePaymentAccountNumber()},u.updatePaymentAccountNumber=function(){this.isActive&&this.paymentType.paymentTypes.inlineDCC.getInlineDCC(this)},u.addEvents=function(){this.amountDom.change(this.updatePaymentAmountHandler),this.accountNumber.change(this.updatePaymentAccountNumberHandler)},u.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.initPaymentFieldArray()},u},F.Class.PaymentField=function(){var t=F.Class.SkySales(),e=F.Util.extendObject(t);return e.nameSpaceName="",e.requiredType="",e.requiredError="",e.validationFunction=null,e.validationFunctionParams=[],e.validationTypeError="",e.valueMaxLength=-1,e.valueMinLength=-1,e.fieldType="",e.maxValue="",e.maxLengthError="",e.minValue="",e.minLengthError="",e.valueRegEx="",e.valueType="",e.hint="",e.deactivate=function(){var t=this.nameSpaceName,e=this.container.attr("name")||"";e=F.Util.replace(e,t,""),this.container.attr("name",e),this.removeAttributes()},e.activate=function(t){var e=this.nameSpaceName,n=this.container.attr("name")||"";n=e+n,this.container.attr("name",n),this.addAttributes(t)},e.removeAttributes=function(){var t=this.requiredType,e=this.valueMaxLength,n=this.maxLengthError,i=this.valueMinLength,a=this.minLengthError,r=this.valueRegEx,s=this.valueType,o=this.validationFunction,l=this.validationFunctionParams,u=this.validationTypeError,d=this.fieldType||"",h=this.hint,c=new F.Hint,p=this.container;t=t.toLowerCase(),d=d.toLowerCase(),"required"===t&&F.Util.removeRequiredAttribute(p),s=s.toLowerCase(),F.Util.removeAttribute(p,"requirederror",""),F.Util.removeAttribute(p,"validationtype",s),F.Util.removeAttribute(p,"validationfunction",o),F.Util.removeAttribute(p,"validationfunctionparams",l),F.Util.removeAttribute(p,"validationtypeerror",u),F.Util.removeAttribute(p,"minlength",i),F.Util.removeAttribute(p,"maxlength",e),F.Util.removeAttribute(p,"minlengtherror",a),F.Util.removeAttribute(p,"maxlengtherror",n),F.Util.removeAttribute(p,"regex",r),"amount"===d&&(F.Util.removeAttribute(p,"maxvalue"),F.Util.removeAttribute(p,"minvalue")),""!==h&&0<p.length&&(c.removeEventFunction.call(p[0]),F.Util.removeAttribute(p,"hint",h))},e.addAttributes=function(t){var e=this.requiredType,n=this.requiredError,i=this.valueMaxLength,a=this.maxLengthError,r=this.valueMinLength,s=this.minLengthError,o=this.valueRegEx,l=this.valueType,u=this.validationFunction,d=this.validationFunctionParams,h=this.validationTypeError,c=this.hint,p=this.fieldType||"",g=this.maxValue||"",m=this.minValue||"",y=t.isStoredPayment,f=this.container,v=new F.Hint,I=F.Util.setAttribute;l=l.toLowerCase(),p=p.toLowerCase(),e=e.toLowerCase(),y&&"accountnumber"===p||("required"===e&&F.Util.setRequiredAttribute(f),"notallowed"===e&&f.css("visibility","hidden"),I(f,"requirederror",n),I(f,"validationtype",l),I(f,"validationtypeerror",h),I(f,"minlength",r),I(f,"maxlength",i),I(f,"minlengtherror",s),I(f,"maxlengtherror",a),I(f,"regex",o),"amount"===p&&(t.isBookingPayment&&(g=t.refundAmount),I(f,"maxvalue",g=g.toString()),I(f,"minvalue",m)),u&&(I(f,"validationfunction",u),I(f,"validationfunctionparams",d))),""!==c&&0<f.length&&(I(f,"hint",c),v.eventFunction.call(f[0]))},e.init=function(t){this.setSettingsByObject(t),this.setVars()},e},F.Class.BookingPayment=function(){var t=F.Class.SkySales(),e=F.Util.extendObject(t);return e.paymentId="",e.paymentMethodType="",e.paymentMethodCode="",e.refundAmount="",e.init=function(t){this.setSettingsByObject(t),this.setVars()},e},F.Class.PriceDisplay=function(){var t=new F.Class.SkySales,a=F.Util.extendObject(t);return a.toggleViewIdArray=null,a.init=function(t){this.setSettingsByObject(t);var e=this.toggleViewIdArray||[],n=0,i=null;for(n=0;n<e.length;n+=1)(i=new F.Class.ToggleView).init(e[n]),a.toggleViewIdArray[n]=i},a},F.Class.FlightDisplay=function(){var t=new F.Class.SkySales,a=F.Util.extendObject(t);return a.toggleViewIdArray=null,a.init=function(t){this.setSettingsByObject(t);var e=this.toggleViewIdArray||[],n=0,i=null;for(n=0;n<e.length;n+=1)(i=new F.Class.ToggleView).init(e[n]),a.toggleViewIdArray[n]=i},a},F.Class.UpgradeAvailabilityInput=function(){var t=new F.Class.SkySales,a=F.Util.extendObject(t);return a.cabinUpgradeSegmentArray=[],a.init=function(t){this.setSettingsByObject(t),this.initCabinUpgradeSegmentArray()},a.initCabinUpgradeSegmentArray=function(){var t=0,e=this.cabinUpgradeSegmentArray||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=new F.Class.CabinUpgradeSegment).init(e[t]),a.cabinUpgradeSegmentArray[t]=i},a},F.Class.CabinUpgradeSegment=function(){var t=new F.Class.SkySales,a=F.Util.extendObject(t);return a.segmentInputId="",a.segmentInput=null,a.cabinUpgradeOptionsArray=[],a.init=function(t){this.setSettingsByObject(t),this.setVars(),this.initCabinUpgradeOptionsArray()},a.initCabinUpgradeOptionsArray=function(){var t=0,e=this.cabinUpgradeOptionsArray||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=new F.Class.CabinUpgrade).init(e[t]),i.cabinUpgradeSegment=this,a.cabinUpgradeOptionsArray[t]=i},a.setVars=function(){a.segmentInput=this.getById(this.segmentInputId)},a},F.Class.CabinUpgrade=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.upgradeOptionId="",e.upgradeOption=null,e.optionValue="",e.cabinUpgradeSegment=null,e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},e.setVars=function(){e.upgradeOption=this.getById(this.upgradeOptionId)},e.addEvents=function(){this.upgradeOption.click(this.updateDataHandler)},e.updateDataHandler=function(){e.updateData()},e.updateData=function(){(this.cabinUpgradeSegment||{}).segmentInput.val(this.optionValue)},e},F.Class.RandomImage=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.imageUriArray=[],e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.setAsBackground()},e.getRandomNumber=function(){var t=this.imageUriArray.length;return Math.floor(Math.random()*t)},e.setAsBackground=function(){var t=this.getRandomNumber(),e="url("+this.imageUriArray[t]+")";this.container.css("background-image",e)},e},F.Class.DropDown=function(t){t=t||{};var e=new F.Class.SkySales,l=F.Util.extendObject(e);return l.container={},l.name="",l.showCode=!0,l.options=[],l.currentFilteredOptions=[],l.dropDownContainer=null,l.dropDownContainerInput=null,l.document=null,l.optionList=null,l.optionActiveClass="optionActive",l.timeOutObj=null,l.timeOut=225,l.minCharLength=2,l.optionMax=100,l.html='<div></div><div class="dropDownContainer"></div>',l.autoComplete=!0,l.getOptionHtml=function(t){t=(t=t||"").toLowerCase();var e={},n="",i="",a=this.options,r=this.showCode,s="",o="";if(l.currentFilteredOptions=[],t.length<l.minCharLength)i="";else for(n in a)a.hasOwnProperty(n)&&(s=(s=(e=a[n]).name||"").toLowerCase(),o=(o=e.code||"").toLowerCase(),(-1<s.indexOf(t)||-1<o.indexOf(t))&&(l.currentFilteredOptions[l.currentFilteredOptions.length]=[s,o],i+="<div"+(e.optionClass?' class="'+e.optionClass+'"':"")+"><span>"+e.code+"</span>"+e.name,r&&(i+=" ("+e.code+")"),i+="</div>",1));return i},l.close=function(){l.timeOutObj&&window.clearTimeout(l.timeOutObj),l.document.unbind("click",l.close),l.optionList&&(l.optionList.unbind("hover"),l.optionList.unbind("click")),l.optionList=null,l.dropDownContainer.html("")},l.getActiveOptionIndex=function(){var t=-1,e=$("."+l.optionActiveClass,l.dropDownContainer);return l.optionList&&0<e.length&&(t=l.optionList.index(e[0])),t},l.arrowDown=function(){var t=l.getActiveOptionIndex();l.optionList?-1===t&&0<l.optionList.length?l.optionActive.call(l.optionList[0]):l.optionList.length>t+1?(l.optionInActive.call(l.optionList[t]),l.optionActive.call(l.optionList[t+1])):l.arrowDownOpen():l.arrowDownOpen()},l.arrowDownOpen=function(){var t=l.minCharLength;l.minCharLength=0,l.open(),l.minCharLength=t},l.arrowUp=function(){var t=l.getActiveOptionIndex();l.optionList&&(-1===t&&0<l.optionList.length?l.optionActive.call(l.optionList[0]):0<t&&0<l.optionList.length&&(l.optionInActive.call(l.optionList[t]),l.optionActive.call(l.optionList[t-1])))},l.selectButton=function(){var t=l.getActiveOptionIndex(),e=l.optionMax;-1<t?l.selectOption.call(l.optionList[t]):!0===l.autoComplete&&(l.optionMax=1,l.open(),l.optionList&&0<l.optionList.length&&l.selectOption.call(l.optionList[0]),l.optionMax=e)},l.keyEvent=function(t){var e=!0,n=t.which;return 40===n?(l.arrowDown(),e=!(l.autoComplete=!0)):38===n?(l.arrowUp(),e=!(l.autoComplete=!0)):9===n?(l.selectButton(),l.inputBlur()):13===n?(l.selectButton(),e=l.autoComplete=!1):l.autoComplete=!0,e},l.inputKeyEvent=function(t){var e=!0,n=t.which;return 40!==n&&38!==n&&9!==n&&13!==n&&(l.timeOutObj&&window.clearTimeout(l.timeOutObj),l.timeOutObj=window.setTimeout(l.open,l.timeOut),e=!1),e},l.catchEvent=function(){return!1},l.open=function(){var t=l.dropDownContainerInput.val(),e=l.getOptionHtml(t);l.dropDownContainer.html(e),l.addOptionEvents(),l.dropDownContainer.click(l.catchEvent),l.document.click(l.close),l.dropDownContainer.show(),l.optionList&&0<l.optionList.length&&l.optionActive&&l.optionActive.call(l.optionList[0]),l.dropDownContainer.width()},l.optionActive=function(){var t=$(this);l.optionList.removeClass(l.optionActiveClass),t.addClass(l.optionActiveClass)},l.optionInActive=function(){$(this).removeClass(l.optionActiveClass)},l.selectOption=function(){var t=l.dropDownContainerInput.val().toLowerCase(),e=$("span",this).text(),n=!1,i=l.currentFilteredOptions,a="",r="",s=0;for(s=0;s<i.length&&(a=i[s][0],r=i[s][1],a=a.toLowerCase(),r=r.toLowerCase(),(-1<a.indexOf(t)||-1<r.indexOf(t))&&-1<r.indexOf(e.toLowerCase())&&(n=!0),!n);s+=1);n&&(l.dropDownContainerInput.val(e),l.close(),l.dropDownContainerInput.change())},l.addOptionEvents=function(){l.optionList=$("div",l.dropDownContainer),l.optionList.hover(l.optionActive,l.optionInActive),l.optionList.click(l.selectOption)},l.inputBlur=function(){l.close()},l.addEvents=function(t){l.dropDownContainerInput=t.input,l.dropDownContainer=$("div.dropDownContainer",l.container),l.document=$(document),l.dropDownContainerInput.keyup(l.inputKeyEvent),l.dropDownContainerInput.keydown(l.keyEvent)},l.init=function(t){l.setSettingsByObject(t);var e=l.html;t.input.attr("autocomplete","off"),t.input.wrap('<span class="dropDownOuterContainer"></span>'),t.input.after(e),l.container=t.input.parent("span.dropDownOuterContainer"),l.addEvents(t),F.Class.DropDown.dropDownArray[F.Class.DropDown.dropDownArray.length]=l},l.init(t),l},F.Class.DropDown.dropDownArray=[],F.Class.DropDown.getDropDown=function(t){var e=null,n=0,i=F.Class.DropDown.dropDownArray,a=null,r=t.input[0];for(n=0;n<i.length;n+=1)(a=i[n].dropDownContainerInput[0])&&r&&a===r&&(e=i[n],t.options&&(e.options=t.options));return e||(e=new F.Class.DropDown(t)),e},F.Class.DatePickerManager=function(){var t=new F.Class.SkySales,a=F.Util.extendObject(t),s=[],l="-",i="yy-mm",e=new RegExp("\\d{4}-\\d{2}"),n=new Date;return a.isAOS=!1,a.yearMonth=null,a.day=null,a.linkedDate=null,a.useJQueryDatePicker=!0,a.yearMonthOptionArray=[],a.fullDateFormatString="mm/dd/yy",a.beginDateBound=new Date,a.endDateBound=new Date,a.currentDate=new Date,a.setBeginDateBound=function(t){a.beginDateBound=t,a.yearMonthOptionArray=[]},a.setEndDateBound=function(t){a.endDateBound=t,a.yearMonthOptionArray=[]},a.getDaysInMonth=function(t){return 32-new Date(t.getFullYear(),t.getMonth(),32).getDate()},a.validateDay=function(t){return(t=t||"").match(/\d{2}/)},a.validateYearMonth=function(t){return(t=t||"").match(e)},a.getDate=function(t,e){var n=null,i=0,a=1,r=[],s=0,o=0;return t=t||this.yearMonth.val(),e=e||this.day.val(),t&&e?(r=t.split(l),!0===this.isAOS&&(i=1,a=0),s=r[i],o=r[a]-1,n=new Date(s,o,e)):n=this.currentDate,n},a.parseDate=function(t,e){var n=new Date,i=e,a=this.validateYearMonth(t),r={},s=31,o=1;return i&&a?(r=this.getDate(t,e),(s=this.getDaysInMonth(r))<(o=e)&&(o=s),n=new Date(r.getFullYear(),r.getMonth(),o)):n=new Date,n},a.readLinked=function(){var t=this.parseDate(this.yearMonth.val(),this.day.val()),e=F.Util.dateToIsoString(t);if($(".hasDatepicker").css("display","inline-block"),-1<this.yearMonth.attr("id").indexOf("_DropDownListMarketMonth1")||-1<this.yearMonth.attr("id").indexOf("_DropDownListMarketDay1")){var n=t;n.setDate(n.getDate()+2),AuxdateString=F.Util.dateToIsoString(n),$("select[id*='_DropDownListMarketMonth2']").val(AuxdateString.substring(0,7)).trigger("change"),$("select[id*='_DropDownListMarketDay2']").val(Number(AuxdateString.substring(8,10))).trigger("change")}return this.linkedDate.val(e),{}},a.readLinkedHandler=function(){return a.readLinked()},a.trimDaysBeforeBeginDateBound=function(t){var e=this.beginDateBound.getFullYear(),n=this.beginDateBound.getMonth(),i=this.beginDateBound.getDate(),a=parseInt(t[0].code,10),r=0,s=this.currentDate.getFullYear();return this.currentDate.getMonth()===n&&s===e&&a<i&&(r=i-a,t.splice(0,r)),t},a.dayArrayIndexOf=function(t,e){var n=e.length,i=0,a={},r=-1;for(i=0;i<n;i+=1)if(a=e[i],parseInt(a.code,10)===t){r=i;break}return r},a.trimDaysAfterEndDateBound=function(t){var e=this.endDateBound.getFullYear(),n=this.endDateBound.getMonth(),i=this.endDateBound.getDate(),a=t[t.length-1].code,r=0,s=0,o=this.currentDate.getFullYear();return this.currentDate.getMonth()===n&&o===e&&i<a&&0<=(s=this.dayArrayIndexOf(i,t)+1)&&(r=a-i,t.splice(s,r)),t},a.removeDaysOutsideOfBounds=function(t){return t=this.trimDaysBeforeBeginDateBound(t),t=this.trimDaysAfterEndDateBound(t)},a.dayPopulate=function(t){var e,n=t.getDate(),i=31-this.getDaysInMonth(t),a=F.Util.cloneArray(s),r=31;0<i&&(r=31-i,a.splice(r,i)),e={selectedItem:n,objectArray:a=this.removeDaysOutsideOfBounds(a),input:this.day,clearOptions:!0},F.Util.populate(e)},a.getYearMonthOptionArray=function(){var t=this.yearMonthOptionArray,e=0,n=2009,i=0,a={},r="",s="",o=this.beginDateBound,l=this.endDateBound,u={},d={},h=31;if(0===t.length)for(e=o.getMonth(),n=o.getFullYear(),a=F.Resource.dateCultureInfo.monthNamesShort,i=0;i<12;i+=1){if(u=new Date(n,e,1),h=this.getDaysInMonth(u),o<=(d=new Date(n,e,h))&&u<=l)r=a[e],s=n+"-"+(e<9?"0":"")+(e+1),t[i]={name:r,code:s};else if(d>this.endDateBound)break;11<(e+=1)&&(e=0,n+=1)}return t},a.yearMonthPopulate=function(t){var e,n=this.getYearMonthOptionArray();e={selectedItem:$.datepicker.formatDate(i,t),objectArray:n,input:this.yearMonth,clearOptions:!0},F.Util.populate(e)},a.datePopulate=function(t){t?a.currentDate=t:t=this.currentDate,this.yearMonthPopulate(t),this.dayPopulate(t),this.copyDayAndYearMonthInputToLinkedDate()},a.repopulateDayInputAndUpdateLinkedDate=function(){var t,e=this.day.val(),n=this.getDate(this.yearMonth.val(),1),i=this.getDaysInMonth(n);i<e&&(e=i),(n=new Date(n.getFullYear(),n.getMonth(),e))<this.beginDateBound&&(n=this.beginDateBound),a.currentDate=n,this.dayPopulate(n),t=F.Util.dateToIsoString(n),this.linkedDate.val(t)},a.repopulateDayInputAndUpdateLinkedDateHandler=function(){a.repopulateDayInputAndUpdateLinkedDate()},a.setYearMonthAndDayInput=function(t){var e="",n=F.Util.parseIsoDate(t);n&&(e=$.datepicker.formatDate(i,n),this.yearMonth.val(e),this.repopulateDayInputAndUpdateLinkedDate(),this.dayPopulate(n),this.readLinked()),a.currentDate=n},a.setYearMonthAndDayInputHandler=function(t){a.setYearMonthAndDayInput(t)},a.copyDayAndYearMonthInputToLinkedDate=function(){var t=this.yearMonth.val(),e=this.day.val(),n=this.parseDate(t,e),i=F.Util.dateToIsoString(n);this.linkedDate.val(i),a.currentDate=n},a.copyDayAndYearMonthInputToLinkedDateHandler=function(){a.copyDayAndYearMonthInputToLinkedDate()},a.createAllDayOptionArray=function(){var t=[],e=1,n={};for(e=1;e<=31;e+=1)(n={}).name=e,t[(n.code=e)-1]=n;return t},a.dateLastDayOfMonthOneYearFromToday=function(){var t=n.getFullYear()+1,e=n.getMonth();return new Date(t,e,0)},a.setVars=function(){this.beginDateBound.setDate(n.getDate()-1),this.endDateBound=this.dateLastDayOfMonthOneYearFromToday(),!0===this.isAOS&&(l="/",i="m/yy",e=new RegExp("\\d{1,2}\\/\\d{4}"),"eq(1)"),s=this.createAllDayOptionArray()},a.initInputs=function(){var t=new Date;null!==(t=this.isAOS?new Date(this.linkedDate.val()):this.getDate(this.yearMonth.val(),this.day.val()))&&(a.currentDate=t,this.dayPopulate(t),a.currentDate=t,this.isAOS||this.copyDayAndYearMonthInputToLinkedDate())},a.getMaxDate=function(){var t=null,e=new Date,n=31;return null!==this.yearMonth.val()?(t=$("option:last",this.yearMonth).val(),e=this.getDate(t,1),n=this.getDaysInMonth(e),e=new Date(e.getFullYear(),e.getMonth(),n)):e.setYear(e.getFullYear()+1),e},a.addEventsToJQueryDatePicker=function(){var t,e=new Date,n=F.Util.getResource().dateCultureInfo,i=F.datepicker,a={};e.setDate(e.getDate()-1),t=this.getMaxDate(),this.useJQueryDatePicker&&(a={beforeShow:this.readLinkedHandler,onSelect:this.setYearMonthAndDayInputHandler,minDate:e,maxDate:t,showOn:"both",buttonImageOnly:!0,buttonImage:"/assets/images/icons/icn-calendar.png",buttonText:"Calendar",numberOfMonths:2,mandatory:!0,monthNames:n.monthNames,monthNamesShort:n.monthNamesShort,dayNames:n.dayNames,dayNamesShort:n.dayNamesShort,dayNamesMin:n.dayNamesMin,closeText:i.closeText,prevText:i.prevText,nextText:i.nextText,currentText:i.currentText,dateFormat:"yy-mm-dd"},this.linkedDate.datepicker(a))},a.addEvents=function(){this.yearMonth.change(this.repopulateDayInputAndUpdateLinkedDateHandler),this.day.change(this.copyDayAndYearMonthInputToLinkedDateHandler),this.addEventsToJQueryDatePicker()},a.init=function(t){this.setSettingsByObject(t),this.setVars(),this.initInputs(),this.addEvents()},a},F.initializeSkySalesForm=function(){document.SkySales=document.forms.SkySales},F.getSkySalesForm=function(){return $("SkySales")[0]},F.Common=function(){var i=this,e=null;i.allInputObjects=null,i.initializeCommon=function(){var t=new F.Hint;i.addKeyDownEvents(),i.addSetAndEraseEvents(),i.setValues(),t.addHintEvents()},i.setValues=function(){i.getAllInputObjects().each(function(){null!==this.jsvalue&&void 0!==this.jsvalue&&(this.value=this.jsvalue)})},i.stopSubmit=function(){return!1},i.resetSubmit=function(){$("form").unbind("submit",i.stopSubmit)},i.addKeyDownEvents=function(){this.getAllInputObjects().keydown(function(t){var e=$("form");return 13!==t.keyCode||(e.submit(i.stopSubmit),t.preventDefault(),t.stopPropagation(),setTimeout(i.resetSubmit,25),!1)})},i.getAllInputObjects=function(){return null===i.allInputObjects&&(i.allInputObjects=$(":input")),i.allInputObjects},i.addSetAndEraseEvents=function(){var e,n,t;e=function(){var t=$(this),e=F.Util.getAttributeValue(t,"requiredempty");i.eraseElement(this,e)},n=function(){var t=$(this),e=F.Util.getAttributeValue(t,"requiredempty");i.setElement(this,e),t.change()},t=function(){var t=$(this);null!=F.Util.getAttributeValue(t,"requiredempty")&&t.is(":text")&&!1===t.is(":hidden")&&(t.focus(e),t.blur(n))},i.getAllInputObjects().each(t)},i.eraseElement=function(t,e){t.value===e&&(t.value="")},i.setElement=function(t,e){""===t.value&&(t.value=e)},i.getCountryInfo=function(){return null===e&&(e=window.countryInfo),e},i.setCountryInfo=function(t){return e=t,i},i.isEmpty=function(t,e){var n,i=!1;return t&&void 0===e&&(e=t.requiredempty?t.requiredempty:""),null!=(n=F.Common.getValue(t))&&0!==n.length&&n!==e||(i=!0),i},i.stripeTables=function(){return $(".stripeMe tr:even").addClass("alt"),i}},F.Common.addEvent=function(t,e,n){$(t).bind(e,n)},F.Common.getValue=function(t){return t?$(t).val():null},F.Util.getRequiredFlag=function(){return"*"},F.Util.formatInputLabel=function(t){var e=t.attr("id"),n=F.Util.getRequiredFlag(),i=null,a="",r="";e&&(a=(i=$("label[for="+e+"]")).text())&&(r=(r=(r=F.Util.getAttributeValue(t,"required"))||"").toString().toLowerCase(),0===a.indexOf(n)&&(a=a.substring(1)),"true"===r&&(a=n+a),i.text(a))},F.Dhtml=function(){return this.getX=function(t){var e=0;if(t.x)e+=t.x;else if(t.offsetParent)for(;t.offsetParent;)e+=t.offsetLeft,t=t.offsetParent;return e},this.getY=function(t){var e=0;if(t.y)e+=t.y;else if(t)for(;t;)e+=t.offsetTop,t=t.offsetParent;return e},this},F.Hint=function(){var t=new F.Class.SkySales,g=F.Util.extendObject(t);return g.addHintEvents=function(){F.common.getAllInputObjects().each(this.eventFunction)},g.eventFunction=function(){F.Util.getAttributeValue($(this),"hint")&&(this.tagName&&"input"===this.tagName.toString().toLowerCase()?g.addHintFocusEvents(this):g.addHintHoverEvents(this))},g.removeEventFunction=function(){var t=$(this);F.Util.getAttributeValue(t,"hint")&&(this.tagName&&"input"===this.tagName.toString().toLowerCase()?(t.unbind("focus"),t.unbind("blur")):(t.unbind("mouseenter"),t.unbind("mouseleave")))},g.addHintFocusEvents=function(t,e){var n,i;n=function(){g.showHint(t,e)},!(i=function(){g.hideHint(t,e)})===$(t).is(":hidden")&&($(t).focus(n),$(t).blur(i))},g.addHintHoverEvents=function(t,e){var n,i;n=function(){g.showHint(t,e)},i=function(){g.hideHint(t,e)},$(t).hover(n,i)},g.getHintDivId=function(){return"cssHint"},g.showHint=function(t,e,n,i,a){var r,s,o,l=g.getHintDivId(),u=this.getById(l),d=0,h=0,c=F.Util.getAttributeValue($(t),"hint"),p=null;void 0===n&&(n=t.hintxoffset),void 0===i&&(i=t.hintyoffset),void 0===a&&(a=t.hintReferenceid),r=this.getById(a)[0],p=new F.Dhtml,r?(d=p.getX(r),h=p.getY(r),void 0===n&&(d+=r.offsetWidth+5)):(d=p.getX(t),h=p.getY(t),void 0===n&&(d+=t.offsetWidth+5)),!e&&c&&(e=c),u.html(e),u.show(),n=void 0!==n?n:0,i=void 0!==i?i:0,s=parseInt(n,10)+parseInt(d,10),o=parseInt(i,10)+parseInt(h,10),u.css("left",s+"px"),u.css("top",o+"px")},g.hideHint=function(){var t=g.getHintDivId();this.getById(t).hide()},g},F.ValidationErrorReadAlong=function(){var t=new F.Class.SkySales,h=F.Util.extendObject(t);return h.objId="",h.obj=null,h.errorMessage="",h.isError=!1,h.hasBeenFixed=!1,h.hasValidationEvents=!1,h.getValidationErrorHtml=function(){return'<div class="modal-dialog center" role="document">','<div class="modal-content">','<div class="modal-header">',"</div>",'<div class="modal-body">','<div id="validationErrorContainerReadAlongList"></div>',"</div > ",'<div class="modal-footer">','<button id="validationErrorContainerReadAlongCloseButton" type="button" class="btn btn-secondary btn-outline" data-dismiss="modal">Aceptar</button>',"</div>","</div>","</div>","</div>",'<div class="modal fade modalalert error modalalertpay" id="validationErrorContainerReadAlongIFrame" tabindex="-1" role="dialog"><div class="modal-dialog center" role="document"><div class="modal-content"><div class="modal-header"></div><div class="modal-body"><div id="validationErrorContainerReadAlongList"></div></div > <div class="modal-footer"><button id="validationErrorContainerReadAlongCloseButton" type="button" class="btn btn-secondary btn-outline" data-dismiss="modal">Aceptar</button></div></div></div></div>'},h.getValidationErrorCloseId=function(){return"validationErrorContainerReadAlongCloseButton"},h.getValidationErrorListId=function(){return"validationErrorContainerReadAlongList"},h.getValidationErrorIFrameId=function(){return"validationErrorContainerReadAlongIFrame"},h.getValidationErrorDivId=function(){return"validationErrorContainerReadAlong"},h.getFixedClass=function(){return"fixedValidationError"},h.addCloseEvent=function(){var t,e=h.getValidationErrorCloseId();t=function(){h.hide()},this.getById(e).click(t)},h.addValidationErrorDiv=function(){this.getById("SkySales").append(h.getValidationErrorHtml()),$("#validationErrorContainerReadAlongIFrame").modal("show")},h.hide=function(){var t=h.getValidationErrorIFrameId(),e=h.getValidationErrorDivId();this.getById(t).hide(),this.getById(e).hide()},h.addFocusEvent=function(){var t,e={obj:this};!(t=function(t){var e=t.data.obj,n=null,i=0,a=0,r=null;if(!0===e.isError)return(new F.Hint).hideHint(),n=h.getById(h.getValidationErrorDivId()),parseInt(n.width(),10)+5,parseInt(n.height(),10)+5,i=(r=new F.Dhtml).getX(e.obj),a=r.getY(e.obj),i=i+this.offsetWidth+5,a-=72,n.css("left",i),n.css("top",a),n.css("position","absolute"),n.show("slow"),!1})===$(this.obj).is(":hidden")&&$(this.obj).bind("focus",e,t)},h.addBlurEvent=function(d){var t,e={obj:this};t=function(t){var e,n,i,a,r=t.data.obj,s=new F.Validate(null,"","",null),o=!1,l=!0,u=null;return s.validateSingleElement(this),e=s.errors,0<s.validationErrorArray.length&&!1===s.validationErrorArray[0].isError&&(o=!0),n=r.getValidationErrorListId(),u=h.getById(n).find("li").eq(d),i=r.getFixedClass(),a=function(){!0===l&&-1===$(this).attr("class").indexOf("hidden")&&-1===$(this).attr("class").indexOf(i)&&(l=!1)},!0===o?(r.hasBeenFixed=!0,u.addClass(i),l=!0,h.getById(n).find("li").each(a),!0===l&&h.hide()):(r.hasBeenFixed=!1,u.removeClass(i),u.removeClass("hidden"),r.isError=!0,r.errorMessage=e,u.text(e)),!1},$(this.obj).bind("blur",e,t)},h},F.errorsHeader="Please correct the following.\n\n",F.Validate=function(t,e,n,i){var d,a=new F.Class.SkySales,h=F.Util.extendObject(a);return void 0===n&&(n=F.errorsHeader),h.form=t,h.namespace=e,h.errors="",h.validationErrorArray=[],h.setfocus=null,h.clickedObj=null,h.errorDisplayMethod="read_along",h.errorsHeader=n,h.namedErrors=[],h.dateRangeArray=[],i&&(h.regexElementIdFilter=i),h.requiredAttribute="required",h.requiredEmptyAttribute="requiredempty",h.validationTypeAttribute="validationtype",h.regexAttribute="regex",h.minLengthAttribute="minlength",h.numericMinLengthAttribute="numericminlength",h.maxLengthAttribute="maxlength",h.numericMaxLengthAttribute="numericmaxlength",h.minValueAttribute="minvalue",h.maxValueAttribute="maxvalue",h.equalsAttribute="equals",h.dateRangeAttribute="daterange",h.dateRange1HiddenIdAttribute="date1hiddenid",h.dateRange2HiddenIdAttribute="date2hiddenid",h.defaultErrorAttribute="error",h.requiredErrorAttribute="requirederror",h.validationTypeErrorAttribute="validationtypeerror",h.regexErrorAttribute="regexerror",h.minLengthErrorAttribute="minlengtherror",h.maxLengthErrorAttribute="maxlengtherror",h.minValueErrorAttribute="minvalueerror",h.maxValueErrorAttribute="maxvalueerror",h.equalsErrorAttribute="equalserror",h.dateRangeErrorAttribute="daterangeerror",h.defaultError="{label} is invalid.",h.defaultRequiredError="{label} is required.",h.defaultValidationTypeError="{label} is invalid.",h.defaultRegexError="{label} is invalid.",h.defaultMinLengthError="{label} is too short in length.",h.defaultMaxLengthError="{label} is too long in length.",h.defaultMinValueError="{label} must be greater than {minValue}.",h.defaultMaxValueError="{label} must be less than {maxValue}.",h.defaultEqualsError="{label} is not equal to {equals}",h.defaultNotEqualsError="{label} cannot equal {equals}",h.defaultValidationErrorClass="incorrect",h.defaultValidationErrorLabelClass="validationErrorLabel",h.run=function(){var t=$(":input",F.getSkySalesForm()).get(),e=null,n=0;for(n=0;n<t.length;n+=1)e=t[n],this.isExemptFromValidation(e)||h.validateSingleElement(e);return h.outputErrors()},h.runBySelector=function(t){var e=$(t).find(":input").get(),n=null,i=0;for(i=0;i<e.length;i+=1)n=e[i],h.validateSingleElement(n);return!1},h.validateSingleElement=function(t){0<$("#"+t.id+"_container").length?$("#"+t.id+"_container").removeClass(this.defaultValidationErrorClass):$("#"+t.id+"_container").addClass(this.defaultValidationErrorClass),0<$("#"+t.id).length&&0==$("#"+t.id+"_container").length?$("#"+t.id).removeClass("incorrect-input"):$("#"+t.id).addClass("incorrect-input");var e,n=new F.ValidationErrorReadAlong;n.objId=t.id,n.obj=t,this.validationErrorArray[h.validationErrorArray.length]=n,this.validateRequired(t),e=h.getValue(t),h.errors.length<1&&null!==e&&""!==e&&(h.validateType(t),h.validateRegex(t),h.validateMinLength(t),h.validateMaxLength(t),h.validateMinValue(t),h.validateMaxValue(t),h.validateEquals(t),h.validateDateRange(t))},h.outputErrors=function(){var t=this.errorDisplayMethod.toString().toLowerCase(),e="",n=[],i=0,a=!0;if(this.errors){for(n=h.errors.split("\n"),e+='<ul class="validationErrorList" >',i=0;i<n.length;i+=1)""!==n[i]&&(e+='<li  class="validationErrorListItem">'+n[i]+"</li>");e+="</ul>",errorChances+=1,-1<t.indexOf("read_along")&&(h.outputErrorsReadAlong(e),a=!1),-1<t.indexOf("alert")&&alert(h.errorsHeader+h.errors),!0===a&&alert(h.errorsHeader+h.errors),h.setfocus&&!1===$(h.setfocus).is(":hidden")&&(h.setfocus.blur(),h.setfocus.focus());try{if(null!=errorChances&&0<errorChances){errorMess=h.errors.replace(/(\n)/gi,","),lpTag.sdes=lpTag.sdes||[],lpTag.sdes.push({type:"error",error:{message:errorMess,code:"01"}})}}catch(t){}return!1}return!0},h.outputErrorsReadAlong=function(){var t,e=0,n="",i=null,a=this;for(t=function(t){this.hasValidationEvents=!0,this.addFocusEvent(t),this.addBlurEvent(t)},a.validationErrorReadAlong=new F.ValidationErrorReadAlong,a.readAlongDivId=this.getById(this.validationErrorReadAlong.getValidationErrorDivId()).attr("id"),void 0===a.readAlongDivId&&(a.validationErrorReadAlong.addValidationErrorDiv(),a.validationErrorReadAlong.addCloseEvent()),n+='<ul class="validationErrorList" >',e=0;e<a.validationErrorArray.length;e+=1)!0===(i=this.validationErrorArray[e]).isError?n+='<li class="validationErrorListItem" >'+i.errorMessage+"</li>":n+='<li class="validationErrorListItem hidden" >'+i.errorMessage+"</li>";this.getById(a.validationErrorReadAlong.getValidationErrorListId()).html(n),$(a.validationErrorArray).each(t)},h.checkFocus=function(t){h.setfocus||(h.setfocus=t)},h.setError=function(t,e,n){var i,a,r="",s="",o="",l=0,u=null;if("radio"===t.type&&0<(r=t.getAttribute("name")).length){if(void 0!==h.namedErrors[r])return;h.namedErrors[r]=r}if((s=this.attributeValue(t,e))||(s=this.attributeValue(t,this.defaultErrorAttribute))||(s=n||this.defaultError),i=s.match(/\{\s*(\w+)\s*\}/g))for(l=0;l<i.length;l+=1)o=i[l].replace(/\{\s*(\w+)\s*\}/,"$1"),s=s.replace(/\{\s*\w+\s*\}/,h.cleanAttributeForErrorDisplay(t,o));for($("#"+t.id+"_container").length,$("#"+t.id+"_container").addClass(this.defaultValidationErrorClass),0<$("#"+t.id).length&&$("#"+t.id+"_container").length,$("#"+t.id).addClass("incorrect-input"),$("label[for="+t.id+"]").eq(0).addClass(h.defaultValidationErrorLabelClass),this.errors+=s+"\n",a=t.id,l=0;l<h.validationErrorArray.length;l+=1)if((u=h.validationErrorArray[l]).objId===a){u.errorMessage=s,u.isError=!0;break}this.checkFocus(t)},h.cleanAttributeForErrorDisplay=function(t,e){var n="",i=F.Util.getRequiredFlag(),a="",r=new RegExp("[^\\d.,]","g"),s=$(t),o="";return e||(e=""),"label"===(e=e.toLowerCase())&&(a=$("label[for="+s.attr("id")+"]").text(),n=i,o=F.Util.replace(a,n,"")),o||(o=this.attributeValue(t,e)),o?e.match(/^(minvalue|maxvalue)$/i)&&(o=F.Util.replace(o,r,""),o=F.Util.convertToLocaleCurrency(o)):o=e,o},h.attributeValue=function(t,e){t=$(t);var n=F.Util.getAttributeValue(t,e);return"string"!=typeof n&&(n=""),n},h.validateRequired=function(t){var e=h.requiredAttribute,n=h.requiredEmptyAttribute,i=this.attributeValue(t,e),a=this.attributeValue(t,n),r=null,s="";h.radioGroupHash={},void 0!==i&&(i=i.toString().toLowerCase(),a&&(a=a.toString().toLowerCase()),"true"===i&&(r=h.getValue(t),"checkbox"===t.type&&!1===t.checked?r="":"radio"===t.type&&(s=t.getAttribute("name"),void 0===h.radioGroupHash[s]&&(h.radioGroupHash[s]=$("input[name='"+s+"']")),h.radioGroupHash[s].is(":checked")||(r="")),null!=r&&""!==r&&"Nombre(s)"!==r&&"Apellido(s)"!==r&&"Apellidos"!==r&&"First Name"!==r&&"Last Name"!==r&&r.toLowerCase()!==a||h.setError(t,h.requiredErrorAttribute,h.defaultRequiredError)))},h.validateType=function(t){var e=this.attributeValue(t,this.validationTypeAttribute),n=this.getValue(t),i=$(t),a=F.Util.getAttributeValue(i,"validationfunction")||"",r=F.Util.getAttributeValue(i,"validationfunctionparams")||[],s=!0;e&&null!==n&&(("address"!==(e=e.toLowerCase())||n.match(h.stringPattern))&&("alphanumeric"!==e||n.match(h.alphaNumericPattern))&&("amount"!==e||h.validateAmount(n))&&("country"!==e||n.match(h.stringPattern))&&("email"!==e||n.match(h.emailPattern))&&("mod10"!==e||h.validateMod10(n))&&("name"!==e||n.match(h.stringPattern))&&("numeric"!==e||h.validateNumeric(n))&&(0!==e.indexOf("date")||h.validateDate(t,e,n))&&("state"!==e||n.match(h.stringPattern))&&("string"!==e||n.match(h.stringPattern))&&("uppercasestring"!==e||n.match(h.upperCaseStringPattern))&&("zip"!==e||n.match(h.stringPattern))?"function"===e&&($.isFunction(a)&&(s=a.apply(this,r)),s||h.setValidateTypeError(t)):h.setValidateTypeError(t))},h.validateRegex=function(t){var e=this.attributeValue(t,h.regexAttribute),n=h.getValue(t);null!==n&&e&&!n.match(e)&&this.setError(t,h.regexErrorAttribute,h.defaultRegexError)},h.parseCulturizedFloat=function(t){var e,n,i;return n=(e=F.Util.getResource()).currencyCultureInfo.groupSeparator,i=e.currencyCultureInfo.decimalSeparator,t&&t.length?(t=(t=(t=t.split(n).join("")).split(i).join(".")).replace(/\s/g,""),parseFloat(t)):null},h.validateMinLength=function(t){var e=this.attributeValue(t,h.minLengthAttribute),n=this.attributeValue(t,h.numericMinLengthAttribute),i=this.getValue(t);0<e&&null!==i&&i.length<e?h.setError(t,h.minLengthErrorAttribute,h.defaultMinLengthError):0<n&&0<i.length&&F.Util.replace(i,h.numericStripper,"").length<n&&h.setError(t,h.minLengthErrorAttribute,h.defaultMinLengthError)},h.validateMaxLength=function(t){var e=this.attributeValue(t,h.maxLengthAttribute),n=this.attributeValue(t,h.numericMaxLengthAttribute),i=this.getValue(t);0<e&&null!==i&&e<i.length?h.setError(t,h.maxLengthErrorAttribute,h.defaultMaxLengthError):0<n&&0<i.length&&n<F.Util.replace(i,h.numericStripper,"").length&&h.setError(t,h.maxLengthErrorAttribute,h.defaultMaxLengthError)},h.validateMinValue=function(t){var e=this.attributeValue(t,h.minValueAttribute),n=h.parseCulturizedFloat(this.getValue(t));null!==n&&void 0!==e&&0<e.length&&(5<e.length&&"&gt;="===e.substring(0,5)?n<parseFloat(e.substring(5,e.length))&&h.setError(t,h.minValueErrorAttribute,h.defaultMinValueError):4<e.length&&"&gt;"===e.substring(0,4)?n<=parseFloat(e.substring(4,e.length))&&h.setError(t,h.minValueErrorAttribute,h.defaultMinValueError):n<parseFloat(e)&&h.setError(t,h.minValueErrorAttribute,h.defaultMinValueError))},h.validateMaxValue=function(t){var e=this.attributeValue(t,this.maxValueAttribute),n=h.parseCulturizedFloat(this.getValue(t));null!==n&&void 0!==e&&0<e.length&&(5<e.length&&"&lt;="===e.substring(0,5)?n>parseFloat(e.substring(5,e.length))&&h.setError(t,h.maxValueErrorAttribute,h.defaultMaxValueError):4<e.length&&"&lt;"===e.substring(0,4)?n>=parseFloat(e.substring(4,e.length))&&h.setError(t,h.maxValueErrorAttribute,h.defaultMaxValueError):n>parseFloat(e)&&h.setError(t,h.maxValueErrorAttribute,h.defaultMaxValueError))},h.validateEquals=function(t){var e=this.attributeValue(t,h.equalsAttribute),n=h.getValue(t);null!==n&&void 0!==e&&0<e.length&&2<e.length&&"!="===e.substring(0,2)&&n===e.substring(2,e.length)&&h.setError(t,h.equalsErrorAttribute,h.defaultEqualsError)},d=function(t){var e=t.parent(),n=e.parent(),i=e.is(":hidden"),a=n.is(":hidden");return!(i||a)},h.checkIfValidateDateRangeNeeded=function(t){var e=this.attributeValue(t,h.dateRangeAttribute),n=this.attributeValue(t,h.dateRange1HiddenIdAttribute),i=this.attributeValue(t,h.dateRange2HiddenIdAttribute),a="",r="",s=t.id,o=!1,l=null,u=null;return void 0!==e&&0<e.length&&(a=s.charAt(s.length-1),this.validateNumeric(a)&&(r=a),"1"!==r&&""!==r||(u=this.getById(i),d(u)&&(o=!0,l=this.getById(n),h.dateRangeArray[0]=l.val(),h.dateRangeArray[1]=u.val()))),o},h.validateDateRange=function(t){h.checkIfValidateDateRangeNeeded(t)&&((new F.Class.MarketDate).datesInOrder(this.dateRangeArray)||this.setError(t,this.dateRangeErrorAttribute,this.defaultError))},h.isExemptFromValidation=function(t){return 0!==t.id.indexOf(this.namespace)||!(!this.regexElementIdFilter||t.id.match(this.regexElementIdFilter))},h.setValidateTypeError=function(t){this.setError(t,this.validationTypeErrorAttribute,this.defaultValidationTypeError)},h.validateAmount=function(t){return this.generateAmountPattern(),!(!(t=F.Util.replace(t,/\xA0/g," ")).match(this.amountPattern)||0===t)},h.validateDate=function(t,e,n){var i,a,r,s,o,l="",u=new Date;return e&&(l=e.toLowerCase()),n=n||"",!("dateyear"===l&&(n<u.getFullYear()||!n.match(h.dateYearPattern)))&&(!("datemonth"===l&&!n.match(h.dateMonthPattern))&&(!("dateday"===l&&!n.match(h.DateDayPattern))&&!("dateexpiration"===l&&(i=(r=F.Util.parseIsoDate(n)).getFullYear(),a=r.getMonth(),s=u.getFullYear(),o=u.getMonth(),i<s||i===s&&a<o))))},h.validateMod10=function(t){var e,n=F.Util.replace(t,/ /g,""),i=0,a=0,r=0;if(!/\D/.test(n)){for(;n.length<16;)n="0"+n;for(r=n.length-1;0<=r;r-=2)for(i+=parseInt(n.charAt(r),10),e=2*n.charAt(r-1),e+="",a=0;a<e.length;a+=1)i+=parseInt(e.charAt(a),10);return i%10==0}return!1},h.validateNumeric=function(t){return!!t.match(h.numericPattern)},h.getValue=function(t){return F.Common.getValue(t)},h.stringPattern=new RegExp("^.+$"),h.upperCaseStringPattern=/^[A-Z]([A-Z|\s])*$/,h.numericPattern=/^\d+$/,h.numericStripper=/\D/g,h.alphaNumericPattern=/^\w+$/,h.amountPattern=/^(\d+((\.|,|\s|\xA0)\d+)*)$/,h.dateYearPattern=/^\d{4}$/,h.dateMonthPattern=/^\d{2}$/,h.dateDayPattern=/^\d{2}$/,h.emailPattern=/^\w+([\.\-\']?\w+)*@\w+([\.\-\']?\w+)*(\.\w{1,8})$/,h.generateAmountPattern=function(){var t,e,n=null,i=null,a=/\xA0/g;n=(t=F.Util.getResource()).currencyCultureInfo.groupSeparator,i=t.currencyCultureInfo.decimalSeparator,n=F.Util.replace(n,a," "),i=F.Util.replace(i,a," "),e=new RegExp("^(\\d+(\\"+n+"\\d+)*)(\\"+i+"\\d+)?$"),h.amountPattern=e},h},F.Util.validateBySelector=function(t){var e=null;return void 0===t||((e=new F.Validate(null,"",F.errorsHeader,null)).clickedObj=null,e.runBySelector(t),e.outputErrors())},F.Util.SendScheduleForm=function(){var t=$(".submit-schedule").attr("id");$("#ModalMinTimeErrors").modal("hide"),$("#AgreeentInputMinimumTime").val("true"),$("#"+t).click()},F.Util.validateMinTime=function(){if("block"!=$("#ModalMinTimeErrors").css("display")&&"false"==$("#AgreeentInputMinimumTime").val()){var t=$("#selectMainBody .schedule-container   input:checked"),i=[],a="";if($(t).each(function(t){i[t]=$(this).val();var e=i[t].split("~ ~~")[1].substring(4,20),n=Math.abs(new Date-new Date(e));Math.floor(n/1e3/60)<240&&("undefined"!=MinimumTimeData?a=0==t?MinimumTimeData.MessageDeparture:MinimumTimeData.MessageReturn:a+="<ul><li>El vuelo de "+(0==t?"Partida":"Regreso")+" sale en menos de 4 horas. Queda bajo tu responsabilidad  cumplir los procedimientos de abordaje</li></ul>")}),""!=a){var e='<div class="modal fade" id="ModalMinTimeErrors" tabindex="-1" role="dialog" aria-hidden="true">';return e+='<div class="modal-dialog">',e+='<div class="modal-content">',e+='<div class="modal-sub-content bg-white">',e+='<div class="modal-header">',e+='<button type="button" class="close" data-dismiss="modal">',e+='<span aria-hidden="true">x</span>',e+='<span class="sr-only">Close</span>',e+="</button>",e+="</div>",e+='<div class="bg-white" >'+a+"</div>",e+='<div class="modal-footer" >',e+='<button type="button" class="btn btn-default" data-dismiss="modal">'+MinimumTimeData.btnClose+'</button>  <input type="button" value="'+MinimumTimeData.btnContinue+'" name="SubmitFormFromModal" id="SubmitFormFromModal" onclick="SKYSALES.Util.SendScheduleForm()" class="btn btn-primary"/>',e+="</div>",e+="</div>",e+="</div>",e+="</div>",e+="</div>",$("#mainContent").append(e),$("#ModalMinTimeErrors").modal("show"),!1}}return!0},F.Util.validate=function(t,e,n){var i=null,a="",r=null,s=null;return!document.getElementById||!document.createTextNode||(t.getAttribute&&(a=t.getAttribute("id"),i=t,t=F.Util.replace(a,/_[a-zA-Z0-9]+$/,"")),(r=new F.Validate(F.getSkySalesForm(),t+"_",F.errorsHeader,n)).clickedObj=i,e?((s=e).getAttribute||(s=document.getElementById(t+"_"+e)),r.validateSingleElement(s),r.outputErrors()):r.run())},F.Util.displayPopUpConverter=function(){var t="CurrencyConverter.aspx",e=window.converterWindow;!window.converterWindow||e.closed?e=window.open(t,"converter","width=360,height=220,toolbar=0,status=0,location=0,menubar=0,scrollbars=0,resizable=0"):(e.open(t,"converter","width=360,height=220,toolbar=0,status=0,location=0,menubar=0,scrollbars=0,resizable=0"),!1===$(e).is(":hidden")&&e.focus())},F.toggleAtAGlanceEvent=function(){$(this).next().toggle()},F.toggleAtAGlance=function(){$("div.atAGlanceDivHeader").click(F.toggleAtAGlanceEvent)},F.initializeTime=function(){var t=0,e="";for(t=0;t<23;t+=1)e+="<option value="+t+">"+t+"</option>";""!==e&&$("select.Time").append(e)},F.aosAvailabilityShow=function(){return $(this).parent().find("div.hideShow").show("slow"),!1},F.aosAvailabilityHide=function(){return $(this).parent().parent(".hideShow").hide("slow"),!1},F.dropDownMenuEvent=function(){return $("div.slideDownUp").toggle("fast"),!1},F.faqHideShow=function(){$(this).parent("dt").next(".accordianSlideContent").slideToggle("slow")},F.equipHideShow=function(){return $("div#moreSearchOptions").slideToggle("slow"),!1},F.initializeAosAvailability=function(){$(".hideShow").hide(),$(".showContent").click(F.aosAvailabilityShow),$(".hideContent").click(F.aosAvailabilityHide),$(".toggleSlideContent").click(F.dropDownMenuEvent),$(".accordian").click(F.faqHideShow),$(".showEquipOpt").click(F.equipHideShow),$(".hideEquipOpt").click(F.equipHideShow)},F.common=new F.Common,F.Util.sendAspFormFields=function(){var t=document.SkySales,e=null,n=window.document.getElementById("eventTarget"),i=window.document.getElementById("eventArgument"),a=window.document.getElementById("viewState");return t.onsubmit&&!1===t.onsubmit()||(n.name="__EVENTTARGET",i.name="__EVENTARGUMENT",a.name="__VIEWSTATE",t.checkValidity&&(e=function(){$(this).removeAttr("required")},F.common.getAllInputObjects().each(e))),!0},F.Util.initStripeTable=function(){$(".itemResult").hide();$(".stripeMe input").click(function(){$(".stripeMe tr").removeClass("over"),$(this).parent().parent().addClass("over")})},F.initTableSorter=function(){},F.Util.ready=function(){$("form").submit(F.Util.sendAspFormFields),F.Util.initObjects("ready"),F.initializeSkySalesForm(),F.Util.initStripeTable(),F.initializeAosAvailability()},F.Util.load=function(){F.Util.initObjects("load"),F.common.initializeCommon(),F.toggleAtAGlance(),F.initTableSorter()},F.Class.CalendarAvailabilityInputBase=function(){var t=new F.Class.SkySales,i=F.Util.extendObject(t);return i.containerId="availabilityInputContainerId",i.container=null,i.templateId="availabilityInputTemplateId",i.template=null,i.totalTemplateId="totalTemplateId",i.totalTemplate=null,i.totalId="totalId",i.total=null,i.marketArray=[],i.marketClass="",i.requestStartDate=null,i.requestEndDate=null,i.pointsLabelAppend="",i.pointsSuffix="",i.init=function(t){this.setSettingsByObject(t),this.initMarketArray(),this.setVars(),this.draw(),this.setVarsAfterDraw(),this.addEvents(),this.selectInitialDateMarkets()},i.setVars=function(){i.container=this.getById(this.containerId),i.template=this.getById(this.templateId),i.totalTemplate=this.getById(this.totalTemplateId)},i.initMarketArray=function(){var t=0,e=this.marketArray||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=new F.Class[this.marketClass]).availabilityInput=this,i.marketIndex=t,i.containerId="market_"+t,i.selectedDateContainerId="selectedDate_"+t,i.requestStartDate=this.requestStartDate,i.requestEndDate=this.requestEndDate,i.init(e[t]),e[t]=i},i.setVarsAfterDraw=function(){i.total=this.getById(this.totalId);var t=0,e=this.marketArray||[],n=e.length;for(t=0;t<n;t+=1)e[t].setVarsAfterDraw()},i.addEvents=function(){var t=0,e=this.marketArray||[],n=e.length;for(t=0;t<n;t+=1)e[t].addEvents()},i.selectInitialDateMarkets=function(){var t=0,e=this.marketArray||[],n=e.length;for(t=0;t<n;t+=1)e[t].selectInitialDateMarket()},i.getHtml=function(){var t=this.template.text(),e="",n=0,i=this.marketArray||[],a=i.length;for(n=0;n<a;n+=1)e+=i[n].getHtml();return t=F.Util.replace(t,/\[marketArray\]/,e)},i.drawHeaders=function(){this.template.text();var t=0,e=(this.marketArray||[]).length;for(t=0;t<e;t+=1)0<$("#TableCalendarHeader_"+t).length?$("#TableCalendarHeader_"+t).before($("#headMarket_"+t).html()):$("#market_"+t).append($("#headMarket_"+t).html());$("#AuxMonthHeaders").remove()},i.draw=function(){var t=this.getHtml();this.container.html(t)},i.updateTotalAmount=function(){var t,e=this.totalTemplate.text(),n=new F.Class.CalendarAvailabilityTotals;n.marketArray=this.marketArray,n.getTotals(),t=F.Util.formatAmount(n.totalPrice,n.totalPoints,this.pointsLabelAppend,this.pointsSuffix),e=F.Util.replace(e,/\[totalAmount\]/,t),this.total.html(e)},i},F.Class.CalendarAvailabilityTotals=function(){var t=new F.Class.SkySales,s=F.Util.extendObject(t);return s.totalPoints=0,s.totalPrice=0,s.marketArray=[],s.init=function(t){this.setSettingsByObject(t)},s.getFormattedPrice=function(t){var e="";return null!==t&&0<=t&&""===(e=F.Util.convertToLocaleCurrency(t))&&(e=t.toString()),e},s.getTotals=function(){var t=0,e=this.marketArray||[],n=e.length,i=null,a=0,r=0;for(t=0;t<n;t+=1)a+=(i=e[t].selectedDateMarket||{}).price||0,r+=i.points||0;s.totalPoints=F.Util.convertToLocaleInteger(r),s.totalPrice=this.getFormattedPrice(a)},s},F.Class.CalendarAvailabilityInput=function(){var e=new F.Class.CalendarAvailabilityInputBase,t=F.Util.extendObject(e);return t.init=function(t){this.setSettingsByObject(t),e.marketClass="CalendarAvailabilityMarket",this.initMarketArray(),this.setVars(),this.draw(),this.setVarsAfterDraw(),this.addEvents(),this.selectInitialDateMarkets(),this.drawHeaders()},t},F.Class.TripPlannerCalendarAvailabilityInput=function(){var e=new F.Class.CalendarAvailabilityInputBase,t=F.Util.extendObject(e);return t.datePickerManager={},t.init=function(t){this.setSettingsByObject(t),e.marketClass="TripPlannerCalendarAvailabilityMarket",this.initMarketArray(),this.setVars(),this.draw(),this.setVarsAfterDraw(),this.addEvents(),this.selectInitialDateMarkets()},t},F.Class.CalendarAvailabilityMarketBase=function(){var t=new F.Class.SkySales,u=F.Util.extendObject(t);return u.containerId="",u.container=null,u.selectedDateContainerId="",u.selectedDateContainer=null,u.templateId="marketTemplateId",u.template=null,u.selectedDateTemplateId="selectedDateTemplateId",u.selectedDateTemplate=null,u.noFlightsTemplateId="noFlightsTemplateId",u.noFlightsTemplate=null,u.availabilityInput=null,u.dateMarketHash={},u.marketIndex=-1,u.departureStation="",u.arrivalStation="",u.selectedDateMarket=null,u.selectedDate="",u.selectedClass="selected",u.dateMarketPrefix="date_",u.inputDayId="",u.inputDay=null,u.inputMonthId="",u.inputMonth=null,u.inputYearId="",u.inputYear=null,u.startYear="",u.startMonth="",u.startDay="",u.startDate="",u.firstBlockDate="",u.endYear="",u.endMonth="",u.endDay="",u.endDate="",u.lastBlockDate="",u.requestStartDate=null,u.requestEndDate=null,u.init=function(t){this.setSettingsByObject(t),this.setVars(),this.initStartDate(),this.initEndDate(),this.initFirstBlockDate(),this.initLastBlockDate(),this.initDateMarketHash()},u.setVars=function(){u.template=this.getById(this.templateId),u.inputDay=this.getById(this.inputDayId),u.inputMonth=this.getById(this.inputMonthId),u.inputYear=this.getById(this.inputYearId),u.noFlightsTemplate=this.getById(this.noFlightsTemplateId)},u.setVarsAfterDraw=function(){u.container=this.getById(this.containerId),u.selectedDateContainer=this.getById(this.selectedDateContainerId),u.selectedDateTemplate=this.getById(this.selectedDateTemplateId);var t=this.dateMarketHash||{},e="",n=null;for(e in t)t.hasOwnProperty(e)&&(n=t[e])&&n.setVarsAfterDraw()},u.addEvents=function(){this.container.click(this.updateFareHandler)},u.getDateMarketKey=function(t){var e=t.target,n=e.id;return""===n&&(n=$(e).parent("div.day").attr("id")||""),n},u.updateFareEvent=function(t){var e=this.getDateMarketKey(t);this.updateFare(e),""!=e&&this.updateSummary(e)},u.updateSummary=function(t){var e,n,i,a,r,s,o,l,u,d,h,c,p,g,m,y=this.dateMarketHash[t];if(e=y.price,priceSRC=y.priceSRC,priceFREE=y.priceFREE,n=y.baseFare,y.taxes,y.taxesSRC,u=y.taxesADT,d=y.taxesACC,h=y.taxesACD,c=y.taxesACE,p=y.taxesCHD,g=y.taxesFREE,y.taxesCNN,y.discountBaseFareSRC,i=y.discountBaseFareADT,a=y.discountBaseFareACC,r=y.discountBaseFareACD,s=y.discountBaseFareACE,o=y.discountBaseFareCHD,l=y.discountBaseFareFREE,y.discountBaseFareCNN,m=y.marketIndex,null!=e&&"0.0001"!=e&&"0.0002"!=e){DataCulture="en-US";DataCulture;var f,v,I,D,C,S,w,b,T,A,x,F=parseInt(y.month,10)+1;y.year,y.day;b=0,f=$("#flightSearchContainer select[id*='DropDownListPassengerType_ADT']").val(),I=$("#flightSearchContainer select[id*='DropDownListPassengerType_ACC']").val(),D=$("#flightSearchContainer select[id*='DropDownListPassengerType_ACD']").val(),C=$("#flightSearchContainer select[id*='DropDownListPassengerType_ACE']").val(),v=$("#flightSearchContainer select[id*='DropDownListPassengerType_CHD']").val(),w=$("#flightSearchContainer select[id*='DropDownListPassengerType_INFANT']").val(),S=$("#flightSearchContainer select[id*='DropDownListPassengerType_FREE']").val();var B=SkysalesObjSummaryPrice.tableHeaders,P=SkysalesObjSummaryPrice.paxTypes,k=(SkysalesObjSummaryPrice.marketTypes,SkysalesObjSummaryPrice.totalLabels),O="";T=A=x=0,O+='<div class="section-content">',0<f&&(T=Number(f*n),A=Number(f*i),x=Number(f*u),O+='<input type="hidden" id="totalPassengerADT_Market'+m+'" value="'+(Number(T)-Number(A)+Number(x))+'"/>'),0<I&&(T=Number(I*n),A=Number(I*a),x=Number(I*d),console.log(T),console.log(A),console.log(x),O+='<input type="hidden" id="totalPassengerACC_Market'+m+'" value="'+(Number(T)-Number(A)+Number(x))+'"/>'),0<D&&(T=Number(D*n),A=Number(D*r),x=Number(D*h),O+='<input type="hidden" id="totalPassengerACD_Market'+m+'" value="'+(Number(T)-Number(A)+Number(x))+'"/>'),0<C&&(T=Number(C*n),A=Number(C*s),x=Number(C*c),O+='<input type="hidden" id="totalPassengerACE_Market'+m+'" value="'+(Number(T)-Number(A)+Number(x))+'"/>'),0<S&&(T+=Number(S*n),A+=Number(S*l),x+=Number(S*g),O+='<input type="hidden" id="totalPassengerFREE_Market'+m+'" value="'+(Number(T)-Number(A)+Number(x))+'"/>'),0<v&&(T+=Number(v*n),A+=Number(v*o),x+=Number(v*p),O+='<input type="hidden" id="totalPassengerCHD_Market'+m+'" value="'+(Number(T)-Number(A)+Number(x))+'"/>'),O+='<div class="row"><div class="col-md-7 col-sm-7 col-xs-6">'+B.fare+'</div><div class="col-md-5 col-sm-5 col-xs-6 text-right"><b>'+y.getFormattedAnyPrice(T)+"</b></div></div>",0<A&&(O+='<div class="row text-blue"><div class="col-md-7 col-sm-7 col-xs-6">'+B.disc+'</div><div class="col-md-5 col-sm-5 col-xs-6 text-right text-blue">-'+y.getFormattedAnyPrice(A)+"</div></div>"),O+='<div class="row"><div class="col-md-7 col-sm-7 col-xs-6">'+B.tax+'</div><div class="col-md-5 col-sm-5 col-xs-6 text-right">'+y.getFormattedAnyPrice(x)+"</div></div>";var H,M=0==m?k.goingOut:k.commingBack,E=Number(T)-Number(A)+Number(x);O+='<div class="total-market"><input type="hidden" id="auxSummaryGrandTotal'+m+'" value="'+E+'"/>'+M+' <span id="summaryGrandTotal'+m+'">'+y.getFormattedAnyPrice(E)+"</span></div></div>",0,'<div class="section-content">',0<f&&(H=0,setTimeout(function(){$("input[id^='totalPassengerADT']").each(function(t){H+=Number($(this).val())}),"<div><span>"+f+"</span> "+P.adt+'<span class="pull-right">'+y.getFormattedAnyPrice(H)+"</span></div>"},20)),0<I&&(H=0,setTimeout(function(){$("input[id^='totalPassengerACC']").each(function(t){H+=Number($(this).val())}),"<div><span>"+I+"</span> "+P.acc+'<span class="pull-right">'+y.getFormattedAnyPrice(H)+"</span></div>"},20)),0<D&&(H=0,setTimeout(function(){$("input[id^='totalPassengerACD']").each(function(t){H+=Number($(this).val())}),"<div><span>"+D+"</span> "+P.acd+'<span class="pull-right">'+y.getFormattedAnyPrice(H)+"</span></div>"},20)),0<C&&(H=0,setTimeout(function(){$("input[id^='totalPassengerACE']").each(function(t){H+=Number($(this).val())}),"<div><span>"+C+"</span> "+P.ace+'<span class="pull-right">'+y.getFormattedAnyPrice(H)+"</span></div>"},20)),0<v&&(H=0,setTimeout(function(){$("input[id^='totalPassengerCHD']").each(function(){H+=Number($(this).val())}),"<div><span>"+v+"</span> "+P.chd+'<span class="pull-right">'+y.getFormattedAnyPrice(H)+"</span></div>"},20)),0<w&&setTimeout(function(){Number(0*w),Number(0*w),"<div><span>"+w+"</span> "+P.inf+'<span class="pull-right">'+y.getFormattedAnyPrice(9e-8)+"</span></div>"},20),setTimeout(function(){;"</div>"},150),0==m&&($("#SummaryGoingOut .section-content").remove(),$("#SummaryGoingOut").append(O),$("#SummaryGoingOut .section-title").removeClass("hide"),$("#SummaryGoingOut .section-title span").removeClass("closed"),$("#SummaryGoingOut .section-title span").addClass("expand")),1==m&&($("#SummaryCommingBack .section-content").remove(),$("#SummaryCommingBack").append(O),$("#SummaryCommingBack .section-title").removeClass("hide"),$("#SummaryCommingBack .section-title span").removeClass("closed"),$("#SummaryCommingBack .section-title span").addClass("expand"),$("#SummaryCommingBack").removeClass("hide")),(b=0)<$("#SummaryPrice #summaryGrandTotal0").length&&(b+=Number($("#auxSummaryGrandTotal0").val())),0<$("#SummaryPrice #summaryGrandTotal1").length&&(b+=Number($("#auxSummaryGrandTotal1").val())),grandTotalHTML="<div>Total</div><span><b>"+y.getFormattedAnyPrice(b)+"</b></span><b> "+SkysalesObjSummaryPrice.currency+"</b>",$("#SummaryPrice").removeClass("hide"),setTimeout(function(){$("#PassengerList .section-title").next().remove()},500),$("#PassengerList").next().remove(),$("#SectionsFlight").prev().remove(),$("#SectionsFlight").next().remove(),$("#SectionsFlight").after('<div class="total">'+grandTotalHTML+"</div>")}},u.updateFareHandler=function(t){u.updateFareEvent(t)},u.updateFare=function(t){var e=this.dateMarketHash[t],n="",i=",",a=",",r="",s=-1,o=-1,l=-1;e&&(0<=e.price||0<e.points)&&(this.deactivateAllDateMarkets(),e.activate(),u.selectedDateMarket=e,n=this.selectedDateTemplate.text(),n=F.Util.replace(n,/\[formattedDate\]/,e.formattedDate),i=e.getFormattedPrice(),a=F.Util.convertToLocaleInteger(e.points),r=F.Util.formatAmount(i,a,e.pointsLabelAppend,e.pointsSuffix),n=F.Util.replace(n,/\[amount\]/,r),this.selectedDateContainer.html(n),l=parseInt(e.year,10),this.inputYear.val(l),o=parseInt(e.month,10)+1,this.inputMonth.val(o),s=parseInt(e.day,10),this.inputDay.val(s),this.availabilityInput.updateTotalAmount())},u.selectInitialDateMarket=function(){var t=this.dateMarketPrefix+this.marketIndex+"_"+this.selectedDate;this.updateFare(t)},u.deactivateAllDateMarkets=function(){var t=this.selectedClass,e=this.dateMarketHash||{},n="";for(n in e)e.hasOwnProperty(n)&&e[n].deactivate(t)},u.initStartDate=function(){u.startDate=new Date(this.startYear,this.startMonth,this.startDay)},u.initEndDate=function(){u.endDate=new Date(this.endYear,this.endMonth,this.endDay)},u.initFirstBlockDate=function(){var t,e=this.startDate,n=e.getDay(),i=new Date;t=this.addDays(e,-1*n),i.setTime(t),u.firstBlockDate=i},u.initLastBlockDate=function(){var t,e=this.endDate,n=7-e.getDay(),i=new Date;t=this.addDays(e,n),i.setTime(t),u.lastBlockDate=i},u.getMarketHashKey=function(t){return t=t||new Date,this.dateMarketPrefix+this.marketIndex+"_"+t.getFullYear()+"_"+t.getMonth()+"_"+t.getDate()},u.initDateMarketHash=function(){var t=new Date,e=this.lastBlockDate,n=this.dateMarketHash||{},i="",a=0,r=null;for(t.setTime(this.firstBlockDate.getTime());t<e;)i=this.getMarketHashKey(t),(r=new F.Class.CalendarAvailabilityDateMarket).market=this,n[i]=n[i]||{},r.init(n[i]),r.date=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r.availableClass=this.availableClass,n[i]=r,DaysToAdd=2018==(t.getMonth()+1==10&&28==t.getDate()&&t.getFullYear())||2017==(t.getMonth()+1==10&&29==t.getDate()&&t.getFullYear())?1.1:1,a=this.addDays(t,DaysToAdd),t.setTime(a)},u.getMonthName=function(t){t=parseInt(t,10);var e,n="";return(e=F.Util.getResource().dateCultureInfo.monthNames).length>t&&(n=e[t]),n},u.getDayNameArray=function(){return F.Util.getResource().dateCultureInfo.dayNamesShort||[]},u.supplantDayNames=function(t){var e=this.getDayNameArray(),n=0,i=e.length,a=null,r="";for(n=0;n<i;n+=1)r=e[n],a=new RegExp("\\[daysOfWeek"+n+"\\]"),t=F.Util.replace(t,a,r);return t},u.getHtml=function(){var t="";return t=this.startYear?this.template.text():this.noFlightsTemplate.text(),t=this.supplant(t)},u.supplant=function(t){t=t||"";var e,n=this.getMonthName(this.startMonth);return t=F.Util.replace(t,/\[startDateMonth\]/,n),t=F.Util.replace(t,/\[startDateYear\]/,this.startYear),t=F.Util.replace(t,/\[marketIndex\]/g,this.marketIndex),t=F.Util.replace(t,/\[departureStation\]/,this.departureStation),t=F.Util.replace(t,/\[arrivalStation\]/,this.arrivalStation),t=this.supplantDayNames(t),e=this.getMarketHtml(),t=F.Util.replace(t,/\[dateMarketHash\]/,e)},u.getMarketHtml=function(){var t=[],e=new Date,n=this.lastBlockDate,i=this.dateMarketHash||{},a=0,r="";for(e.setTime(this.firstBlockDate.getTime());e<n;)r=i[this.getMarketHashKey(e)].getHtml(),t.push(r),DaysToAdd=2018==(e.getMonth()+1==10&&28==e.getDate()&&e.getFullYear())||2017==(e.getMonth()+1==10&&29==e.getDate()&&e.getFullYear())?1.1:1,a=this.addDays(e,DaysToAdd),e.setTime(a);return t.join("")},u.addDays=function(t,e){return t.getTime()+24*e*60*60*1e3},u.getDateMarketArray=function(){var t=this.dateMarketHash||{},e="",n=null,i=[];for(e in t)t.hasOwnProperty(e)&&(n=t[e],i.push(n));return i},u},F.Class.CalendarAvailabilityMarket=function(){var t=new F.Class.CalendarAvailabilityMarketBase,e=F.Util.extendObject(t);return e.availableClass="",e.updateFareHandler=function(t){e.updateFareEvent(t)},e},F.Class.TripPlannerCalendarAvailabilityMarket=function(){var t=new F.Class.CalendarAvailabilityMarketBase,e=F.Util.extendObject(t);return e.datePickerManager={},e.availableClass="available",e.updateDateDropDowns=function(t){var e=this.getDateMarketKey(t),n=this.dateMarketHash[e],i=n.price,a=n.date;i&&(this.datePickerManager.datePopulate(a),this.availabilityInput.container.hide())},e.updateDateDropDownsHandler=function(t){e.updateDateDropDowns(t)},e.addEvents=function(){this.container.click(this.updateDateDropDownsHandler)},e},F.Class.CalendarAvailabilityDateMarket=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.market=null,e.marketIndex=null,e.date=null,e.containerId="",e.container=null,e.templateId="dateMarketTemplateId",e.template=null,e.defaultJourneyTemplateId="dateMarketJourneyDefaultTemplateId",e.defaultJourneyTemplate=null,e.price=null,e.baseFare=null,e.discountBaseFareSRC=null,e.discountBaseFareADT=null,e.discountBaseFareACC=null,e.discountBaseFareACD=null,e.discountBaseFareACE=null,e.discountBaseFareCHD=null,e.discountBaseFareFREE=null,e.discountBaseFareCNN=null,e.priceSRC=null,e.priceFREE=null,e.taxes=null,e.taxesSRC=null,e.taxesADT=null,e.taxesACC=null,e.taxesACD=null,e.taxesACE=null,e.taxesCHD=null,e.taxesFREE=null,e.taxesCNN=null,e.discountPorcent=null,e.classOfService=null,e.fareBasis=null,e.formattedDate="",e.year=-1,e.month=-1,e.day=-1,e.points=null,e.pointsSuffix="pts",e.pointsLabelAppend=" & ",e.availableClass="available",e.init=function(t){this.setSettingsByObject(t),this.setVars()},e.setVars=function(){e.template=this.getById(this.templateId)},e.setVarsAfterDraw=function(){e.container=this.getById(this.containerId)},e.getFormattedPrice=function(){var t=this.price,e="";return null!==t&&0<=t&&""===(e=F.Util.convertToLocaleCurrency(t))&&(e=t.toString()),e},e.getFormattedAnyPrice=function(t){var e="";return null!==t&&0<t&&""===(e=F.Util.convertToLocaleCurrency(t))&&(e=t.toString()),e},e.getHtml=function(){var t=this.template.text();return t=this.supplant(t)},e.daySupplantValue=function(){var t=this.market,e=t.requestStartDate,n=t.requestEndDate,i=this.date,a=i.getDate();return e&&n&&e&&n&&(i<e||n<i)&&(a="&nbsp;"),a},e.supplant=function(t){var e,n=this.price,i=this.discountPorcent,a=this.classOfService,r=this.fareBasis,s=this.getFormattedPrice(),o="",l=this.date,u=l.getFullYear().toString(),d=l.getMonth(),h=this.getMonthName(d),c=this.daySupplantValue(),p=this.market,g="",m=F.Util.convertToLocaleInteger(this.points);resource=F.Util.getResource(),decimalSeparator=resource.currencyCultureInfo.decimalSeparator,dateCultureInfo=resource.dateCultureInfo;dateCultureInfo.dayNames[0];var y=new Date;if(d+1,e=u.charAt(2)+u.charAt(3),t=F.Util.replace(t,/\[day\]/g,c),t=(t=F.Util.replace(t,/\[month\]/g,d)).replace(/\[showMonth\]/g,h),t=F.Util.replace(t,/\[year\]/g,u),t=F.Util.replace(t,/\[twoDigitYear\]/g,e),t=F.Util.replace(t,/\[marketIndex\]/g,p.marketIndex),0<n&&(g=this.availableClass),null!=i){var f=i;i="",0<(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=(f=f.replace("*SRC",'<span class="discountSRC">')).replace("SRC*","</span>")).replace("*ADT",'<span class="discountADT">')).replace("ADT*","</span>")).replace("*ACC",'<span class="discountADT">')).replace("ACC*","</span>")).replace("*ACD",'<span class="discountADT">')).replace("ACD*","</span>")).replace("*ACE",'<span class="discountADT">')).replace("ACE*","</span>")).replace("*CHD",'<span class="discountCHD">')).replace("CHD*","</span>")).replace("*CNN",'<span class="discountCHD">')).replace("CNN*","</span>")).search(/-10/i)&&(i="10%"),0<f.search(/-15/i)&&(i="15%"),0<f.search(/-20/i)&&(i="20%"),0<f.search(/-25/i)&&(i="25%"),0<f.search(/-30/i)&&(i="30%"),0<f.search(/-35/i)&&(i="35%"),0<f.search(/-40/i)&&(i="40%"),0<f.search(/-45/i)&&(i="45%"),0<f.search(/-50/i)&&(i="50%"),0<f.search(/-55/i)&&(i="55%"),0<f.search(/-60/i)&&(i="60%"),0<f.search(/-70/i)&&(i="70%"),0<f.search(/-100/i)&&(i="");var v="";0<f.search(/-100/i)&&(v='<span class="v alentins-day"></span>'),"D"!=a&&"F"!=a||(i="PROMO"),0<=r.indexOf("ESALE2")&&(t=t.replace(/\[discountPorcent\]/,"")),t=(t=(t=t.replace(/\[discountPorcent\]/,'<span class="discount-percent">'+i+"</span>")).replace(/\[iconPromo\]/,v)).replace(/\[PromoLegend\]/,"")}else t=(t=(t=t.replace(/\[discountPorcent\]/,"")).replace(/\[PromoLegend\]/,"")).replace(/\[iconPromo\]/,"");o=F.Util.formatAmount(s,m,this.pointsLabelAppend,this.pointsSuffix);if("0.0001"==n&&Number(l.getTime()>Number(y.getTime()))){var I;I="DOMINGO"==dateCultureInfo.dayNames[0].toUpperCase()?"Vendido":"Sold Out",t=F.Util.replace(t,/\[amount\]/g,'<span class="sold-out">'+I+"</span>")}else t="0.0002"==n?F.Util.replace(t,/\[amount\]/g,'<span class="sold-out">-</span>'):"0.0001"==n?F.Util.replace(t,/\[amount\]/g,""):F.Util.replace(t,/\[amount\]/g,o.split(decimalSeparator)[0]);return t=F.Util.replace(t,/\[availableClass\]/g,g)},e.activate=function(){var t=this.market.selectedClass,e=this.availableClass;this.container.removeClass(e),this.container.addClass(t)},e.deactivate=function(){var t=this.market.selectedClass,e=this.availableClass;this.container.removeClass(t),this.container.addClass(e)},e.getMonthName=function(t){t=parseInt(t,10);var e,n="";return(e=F.Util.getResource().dateCultureInfo.monthNamesShort).length>t&&(n=e[t]),n},e},F.Class.ItemDescriptions=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.itemDescriptionsArray=[],e.addLongDescriptions=function(t){(new F.Class.ToggleView).init(t)},e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.initItemDescriptionsArray()},e.initItemDescriptionsArray=function(){var t=0,e=this.itemDescriptionsArray||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=new F.Class.ItemDescription).init(e[t]),e[t]=i},e},F.Class.ItemDescription=function(){var e=new F.Class.ToggleView,n=F.Util.extendObject(e);return n.itemId="",n.contentType="",n.detailsAvailable=!1,n.longDescription="",n.noDescriptionAvailableMessage="",n.messageDivId="",n.messageDiv=null,n.itemKey="",n.getItemDescriptionUri="GetItemDescriptionAjax-resource.aspx",n.getItemDetailsUri="GetItemDetails.aspx",n.ajaxParams="",n.addressId="",n.addressDom=null,n.infoNeeded=!1,n.ratingCode="",n.thumbFilename="",n.itemName="",n.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},n.setVars=function(){e.setVars.call(this),n.messageDiv=this.getById(this.messageDivId),n.ajaxParams={itemKey:this.itemKey},n.longDescription=F.Util.decodeUriComponent(n.longDescription),n.addressDom=this.getById(this.addressId)},n.updateShowHandler=function(){n.updateShow()},n.updateShow=function(){this.sendItemDescriptionRequest()},n.sendItemDescriptionRequest=function(){window.open(this.getItemDetailsUri+"?itemId="+this.itemId+"&itemKey="+this.itemKey+"&addressId="+this.addressId+"&infoNeeded="+this.infoNeeded+"&ratingCode="+this.ratingCode+"&thumbFilename="+this.thumbFilename+"&itemName="+this.itemName,"mywindow","status=1,resizable=1,scrollbars=1,location=1,width=750,height=600")},n.updateAddressHandler=function(t){n.updateAddress(t)},n.updateAddress=function(t){this.addressDom.html(t)},n.updateElement=function(t){0<t.length?this.messageDiv.html(t):this.messageDiv.html(n.noDescriptionAvailableMessage)},n.getItemDescriptionHandler=function(t){0<t.length&&(t=F.Util.decodeUriComponent(t),n.longDescription=t),n.updateElement(t),e.updateShow.call(n)},n},F.Class.ItemSummary=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.itemId="",e.item=null,e.summaryId="",e.summary=null,e.addressId_openerpage="",e.addressId_samepage="",e.address=null,e.addressValue="",e.iframeId="",e.iframe=null,e.iframeSrc="",e.infoNeeded="false",e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.draw()},e.setVars=function(){t.setVars.call(this),this.summary=this.getById(this.summaryId),this.iframe=this.getById(this.iframeId),"false"===this.infoNeeded?(this.item=window.opener.$("#"+this.itemId),this.address=window.opener.$("#"+this.addressId_openerpage)):this.address=this.getById(this.addressId_samepage)},e.draw=function(){var t=null,e="",n="",i=this.address,a=this.addressValue;i.html(a),"false"===this.infoNeeded&&((t=this.item.clone()).find("p.openCloseLink").remove(),t.find("div.itemDesc > h4").remove(),t.find("div#additionalDetails").remove(),n=t.find("div.itemDesc > h3").text(),t.find("div.itemDesc > h3").replaceWith("<h3>"+n+"</h3>"),t.find("div.itemDesc").attr("id","popupDesc"),e=t.html(),this.summary.html(e)),this.iframe.html("<iframe src="+this.iframeSrc+' width="750" height="400">a</iframe>')},e},F.taxAndFeeInclusiveDisplayDataRequestHandler=function(t,e){var i,n,a={flightKeys:t.join(","),numberOfMarkets:e,keyDelimeter:","},r=null,s=null;i=function(){F.common&&F.common.stripeTables(),r=new F.Class.ToggleView,s={elementId:"allUpPricing",hideId:"closeTotalPrice",showId:"taxAndFeeInclusiveTotal"},r.init(s),$("[data-toggle=tooltip]").tooltip(),$(".link-popover").click(function(t){$(".link-popover").not(this).popover("hide"),t.preventDefault()})},n=function(t){if(window.$&&($("#PurchaseDetailList").html($(t).find("#PriceDetailList")),$("#PurchaseDetailTable").html($(t).find("#PriceDetailTable")),JsonResponse=$(t).find("#RequestObject"),0<JsonResponse.length)){var e=$.parseJSON(JsonResponse.text().replace(/(<([^>]+)>)/gi,""));$.each(e.Markets,function(t,e){$("#InfoContainerMarket_"+t+" .time").html(e.DepartureTime),$("#HiddenInfoContainerMarket_"+t+" .date").html(e.DepartureDate),$("#HiddenInfoContainerMarket_"+t+" .time").html(e.DepartureTime)});var n="";$.each(e.Passengers,function(t,e){0<e.PaxCount&&(n+=e.PaxCount+" "+e.PaxType+", ")}),n=n.substring(0,n.length-2),$("#SummaryTotalPrice").html(e.TotalPrice),$("#SummaryTotalPrice").append("<span>"+e.CurrencyCode+"</span>")}i(),$(".left-section-detail .section-title").click(function(){$(this).next().toggle("fast"),$(this).find("span").hasClass("closed")?($(this).find("span").removeClass("closed"),$(this).find("span").addClass("expand")):($(this).find("span").removeClass("expand"),$(this).find("span").addClass("closed"))}),$("#ModalLoadingFares").modal("hide")};$.get("NewTaxAndFeeInclusiveDisplayAjax-resource.aspx",a,n)},F.memberLoginHandler=function(){$("#TextBoxUserID_container").removeClass("incorrect"),$("#PasswordFieldNewPassword_container").removeClass("incorrect"),$("#PasswordFieldConfirmNewPassword_container").removeClass("incorrect"),$("#login-butt").removeAttr("disable","disable");if("none"==$("#ReEnterPassword").attr("display"))var t={TextBoxUserID:$("#TextBoxUserID").val(),PasswordFieldPassword:$("#PasswordFieldPassword").val()};else t={TextBoxUserID:$("#TextBoxUserID").val(),PasswordFieldPassword:$("#PasswordFieldPassword").val(),PasswordFieldNewPassword:$("#PasswordFieldNewPassword").val()};$.ajax({type:"POST",url:"MemberLoginInputAjax-resource.aspx",data:t,beforeSend:function(){}}).done(function(t,e){if(JsonResponse=t.replace(/(<([^>]+)>)/gi,""),/^[\],:{}\s]*$/.test(JsonResponse.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){var n=$.parseJSON(JsonResponse);$("#LoginModal .progress-bar").remove(),"SUCCESS"==n.LogonResponse.code?($("#LoginModal").modal("hide"),window.location=window.location.pathname+"?culture="+n.LogonResponse.cultureCode):"RESETPASS"==n.LogonResponse.code?($("#ReEnterPassword").css("display","block"),$("#register-box").css("display","none"),$("#register-box").css("display","none"),$("#login-butt").attr("disabled","disabled")):($("#TextBoxUserID_container").addClass("incorrect"),$("#PasswordFieldPassword_container").addClass("incorrect"),"block"==$("#ReEnterPassword").attr("display")&&$("#PasswordFieldNewPassword_container").addClass("incorrect"))}else $("#InputsSectionLogin").css("display","none"),$("#SessionExpiredMessage").css("display","block")}).fail(function(t,e){})},F.AvailabilityHandler=function(i,a){$("#TermsAndBannerContainer").append;$("#TermsAndBannerContainer").append('<div class="modal fade" id="ModalLoadingFares" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="progress"><div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%"><span class="sr-only">45% Complete</span></div></div></div></div>'),$("#ModalLoadingFares").modal("show");var t={DepartureStation:i,ArrivalStation:a};$.ajax({type:"POST",url:"AvailabilityAjax-resource.aspx",data:t,beforeSend:function(){$("#LoginError").addClass("hidden"),$("#LoginModal .progress-bar").remove(),$("#TextBoxUserID").before('<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%; height:20px; margin-bottom:10px"><span class="sr-only">100 Complete</span></div>')}}).done(function(t,e){if(JsonResponse=t.replace(/(<([^>]+)>)/gi,""),/^[\],:{}\s]*$/.test(JsonResponse.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){var n=$.parseJSON(JsonResponse);$("select[id*='_DropDownListMarketMonth1']").val(n.DateWithDiscount.YEAR+"-"+n.DateWithDiscount.MONTH).trigger("change"),$("select[id*='_DropDownListMarketDay1']").val(n.DateWithDiscount.DAY).trigger("change"),$('input[id*="TextBoxMarketOrigin1"]').val(i),$('input[id*="TextBoxMarketDestination1"]').val(a),$('select[id*="_DropDownListFareTypes"]').val("O"),$("#OriginStation").val(n.DateWithDiscount.DEPARTURESTATION),$("#DestinationStation").val(n.DateWithDiscount.ARRIVALSTATION),$('input[id*="OneWay"]:radio').click(),$('input[id*="RoundTrip"]:radio').attr("checked",!1),$('input[id*="RoundTrip"]:radio').attr("disabled",!0),document.getElementById("AvailabilitySearchInputCalendarSelectGenericPromoL16View_ButtonSubmit").click()}else $("#InputsSectionLogin").css("display","none"),$("#SessionExpiredMessage").css("display","block")}).fail(function(t,e){})},F.SendToLowestFare=function(t,e,n,i,a){var r=a.split(" ");$("select[id*='_DropDownListMarketMonth1']").val(r[0]+"-"+r[1]).trigger("change"),$("select[id*='_DropDownListMarketDay1']").val(r[2]).trigger("change"),$("select[id*='_DropDownListSearchBy']").val("columnView").trigger("change"),$('input[id*="TextBoxMarketOrigin1"]').val(t),$('input[id*="TextBoxMarketDestination1"]').val(n),$("#OriginStation").val(e),$("#DestinationStation").val(i),$('input[id*="OneWay"]:radio').click(),$('input[id*="RoundTrip"]:radio').attr("checked",!1),$('input[id*="RoundTrip"]:radio').attr("disabled",!0),$('input[id*="_ButtonSubmit"]').click()},F.forgotPasswordHandler=function(){$.ajax({type:"POST",url:"ForgotPasswordInputAjax-resource.aspx",data:{TextBoxUserID:$("#TextBoxForgotPassword").val()},beforeSend:function(){$("#ForgotPasswordError").addClass("hidden")}}).done(function(t,e){JsonResponse=t.replace(/(<([^>]+)>)/gi,"");var n=$.parseJSON(JsonResponse);$("#LoginModal .progress-bar").remove(),$("#ForgotPasswordError").removeClass("hidden"),$("#ForgotPasswordError").html(n.ForgotPasswordResponse.desc)}).fail(function(t,e){})},F.FindBooking=function(i){if("CheckIn"==i)var t={TextBoxRecordLocator:$("#TextBoxRecordLocatorCheckIn").val(),TextBoxFirstName:$("#TextBoxFirstNameCheckIn").val(),TextBoxLastName:$("#TextBoxLastNameCheckIn").val(),TextBoxActionType:i};else t={TextBoxRecordLocator:$("#TextBoxRecordLocatorMyBooking").val(),TextBoxFirstName:$("#TextBoxFirstNameMyBooking").val(),TextBoxLastName:$("#TextBoxLastNameMyBooking").val(),TextBoxActionType:i};$.ajax({type:"POST",url:"FindBookingInputAjax-resource.aspx",data:t,beforeSend:function(){$("#tab-search3 .progress-bar").remove(),"CheckIn"==i?$("#PaneCheckIn").before('<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%; height:20px; margin-bottom:10px"><span class="sr-only">100 Complete</span></div>'):$("#PaneMyBooking").before('<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%; height:20px; margin-bottom:10px"><span class="sr-only">100 Complete</span></div>')}}).done(function(t,e){JsonResponse=t.replace(/(<([^>]+)>)/gi,"");var n=$.parseJSON(JsonResponse);$("#tab-search3 .progress-bar").remove(),$("#tab-search3 .response-ajax").remove(),"CheckIn"==i?"FOUND"==n.FindBookingResponse.code?window.location="ViewFlight.aspx":$("#PaneCheckIn").after('<div class="response-ajax alert alert-warning marg-top-10">'+n.FindBookingResponse.desc+"</div>"):"FOUND"==n.FindBookingResponse.code?window.location="ItineraryRead.aspx":"FOUNDAMADEUS"==n.FindBookingResponse.code?window.location="https://interline.interjet.com.mx/Booking/Retrieve?RL="+n.FindBookingResponse.RecordLocator+"&FN="+n.FindBookingResponse.FirstName+"&LN="+n.FindBookingResponse.LastName:$("#PaneMyBooking").after('<div class="response-ajax alert alert-warning marg-top-10">'+n.FindBookingResponse.desc+"</div>")}).fail(function(t,e){})},F.FindBookingA=function(i){if("CheckIn"==i)var t={TextBoxRecordLocator:$("#TextBoxRecordLocatorCheckIn").val(),TextBoxFirstName:$("#TextBoxFirstNameCheckIn").val(),TextBoxLastName:$("#TextBoxLastNameCheckIn").val(),TextBoxActionType:i};else t={TextBoxRecordLocator:$("#TextBoxRecordLocatorMyBooking").val(),TextBoxFirstName:$("#TextBoxFirstNameMyBooking").val(),TextBoxLastName:$("#TextBoxLastNameMyBooking").val(),TextBoxActionType:i};$.ajax({type:"POST",url:"FindAmadeusInputAjax-resource.aspx",data:t,beforeSend:function(){$("#tab-search3 .progress-bar").remove(),"CheckIn"==i?$("#PaneCheckIn").before('<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%; height:20px; margin-bottom:10px"><span class="sr-only">100 Complete</span></div>'):$("#PaneMyBooking").before('<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%; height:20px; margin-bottom:10px"><span class="sr-only">100 Complete</span></div>')}}).done(function(t,e){JsonResponse=t.replace(/(<([^>]+)>)/gi,"");var n=$.parseJSON(JsonResponse);$("#tab-search3 .progress-bar").remove(),$("#tab-search3 .response-ajax").remove(),"CheckIn"==i?"FOUND"==n.FindBookingResponse.code?window.location="ViewFlight.aspx":$("#PaneCheckIn").after('<div class="response-ajax alert alert-warning marg-top-10">'+n.FindBookingResponse.desc+"</div>"):"FOUND"==n.FindBookingResponse.code?window.location="ItineraryRead.aspx":"FOUNDAMADEUS"==n.FindBookingResponse.code?window.location="https://interline.interjet.com.mx/Booking/Retrieve?RL="+n.FindBookingResponse.RecordLocator+"&FN="+n.FindBookingResponse.FirstName+"&LN="+n.FindBookingResponse.LastName:$("#PaneMyBooking").after('<div class="response-ajax alert alert-warning marg-top-10">'+n.FindBookingResponse.desc+"</div>")}).fail(function(t,e){})},F.FindBookingByRecordLocator=function(t){var e={TextBoxRecordLocator:$("#TextBoxRecordLocator").val()};console.log(e),$.ajax({type:"POST",url:"RetrieveBookingInputAjax-resource.aspx",data:e,beforeSend:function(){$("#tab-search3 .progress-bar").remove(),$("#PaneMyBooking").before('<div id="ProgressBar" class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%; height:20px; margin-bottom:10px"><span class="sr-only">100 Complete</span></div>')}}).done(function(t,e){JsonResponse=t.replace(/(<([^>]+)>)/gi,"");var n=$.parseJSON(JsonResponse);console.log(n),"FOUND"==n.RetrieveBookingResponse.code?window.location="RecordLocatorPassengers.aspx":"RESERVACION NO VALIDA"==n.RetrieveBookingResponse.code?($("#ModalPNR").modal("show"),$("#ProgressBar.active").remove()):($("#ProgressBar.active").remove(),$("#PaneMyBooking").after('<div class="response-ajax alert alert-warning marg-top-10">'+n.FindBookingResponse.desc+"</div>"))}).fail(function(t,e){})},F.Class.AvailabilityInputBase=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.journeyInfoArray=[],e.journeyInfoList=[],e.init=function(t){this.setSettingsByObject(t),this.initJourneyInfoContainers()},e.initJourneyInfoContainers=function(){var t=0,e=this.journeyInfoList||[],n={};for(t=0;t<e.length;t+=1)(n=new F.Class.JourneyInfo).init(e[t]),this.journeyInfoArray.push(n)},e},F.Class.AvailabilityInput=function(){var e=new F.Class.AvailabilityInputBase,i=F.Util.extendObject(e);return i.detailsLinks=null,i.dateMarketLowestFareList=[],i.dateMarketLowestFareArray=[],i.getPriceItineraryInfo=function(){if(F.taxAndFeeInclusiveDisplayDataRequestHandler){var t=$(".schedule-container input:checked"),e=[];$(t).each(function(t){e[t]=$(this).val()}),F.taxAndFeeInclusiveDisplayDataRequestHandler(e,t.length)}},i.showPreselectedFares=function(t){var e=0;for(e=0;e<t.length;e+=1)null!==t[e]&&this.getById(t[e]).click()},i.updateFareSelectedHandler=function(){var t=this.id||"";i.updateFareSelected(t)},i.updateFareSelected=function(t){this.getPriceItineraryInfo(),this.updateFareRules(t)},i.updateFareRuleSelected=function(t){this.updateFareRules(t)},i.updateFareRules=function(t){var e=[],n="",i="",a=this.journeyInfoArray||[],r=0,s=a.length,o=null,l=null,u=0,d=0,h=null,c=F.Util.getFareRuleContainer();if(c&&t&&1<(e=/(RadioButtonMkt[0-9]+Fare[0-9]+)$/.exec(t)||[]).length){n=e[1];t:for(r=0;r<s;r+=1)for(d=(l=(o=a[r]).fareArray||[]).length,u=0;u<d;u+=1)if(n===(h=l[u]).fareId){(i=h.fareRuleKey)&&c.updateFareRule(o.marketIndex,i);break t}}},i.addGetPriceItineraryInfoEvents=function(){$(".schedule-container  :radio").click(this.updateFareSelectedHandler)},i.ajaxEquipmentProperties=function(){},i.addEquipmentPropertiesAjaxEvent=function(){$(this).click(i.ajaxEquipmentProperties)},i.addEquipmentPropertiesAjaxEvents=function(){i.detailsLinks.each(i.addEquipmentPropertiesAjaxEvent)},i.addEvents=function(){i.addGetPriceItineraryInfoEvents(),i.addEquipmentPropertiesAjaxEvents()},i.setVars=function(){i.detailsLinks=$(".showContent")},i.initLowestPriceSelection=function(){var t=null,e=this.dateMarketLowestFareList,n=0;for(n=0;n<e.length;n+=1)(t=new F.Class.LowestFareInfo).init(e[n]),i.dateMarketLowestFareArray[i.dateMarketLowestFareArray.length]=t,this.updateFareSelected(t.lowestFareControlId)},i.init=function(t){e.init.call(this,t),this.setSettingsByObject(t),F.taxAndFeeInclusiveDisplayDataRequestHandler&&(this.setVars(),this.addEvents()),F.taxAndFeeInclusiveDisplayDataRequestHandler&&this.getPriceItineraryInfo()},i},F.Class.LowestFareInfo=function(){var e=new F.Class.SkySales,n=F.Util.extendObject(e);return n.tripMarketIndex="",n.marketIndex="",n.dateMarketIndex="",n.lowestFareControlId="",n.lowestFareControl=null,n.lowestFareSellKey="",n.lowestJourneySellKey="",n.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.selectDateMarketLowestFare()},n.setVars=function(){e.setVars.call(this);var t=this.lowestFareSellKey+"|"+this.lowestJourneySellKey;n.lowestFareControl=$('input[value ="'+t+'"]',this.container)},n.selectDateMarketLowestFare=function(){var t=this.lowestFareControl||{};t&&t.attr("checked","checked")},n},F.Class.JourneyInfo=function(){var t=new F.Class.SkySales,c=F.Util.extendObject(t);return c.equipmentInfoUri="EquipmentPropertiesDisplayAjax-resource.aspx",c.key="",c.journeyContainerId="",c.activateJourneyId="",c.activateJourney=null,c.deactivateJourneyId="",c.deactivateJourney=null,c.journeyContainer=null,c.legInfoArray=[],c.clientName="EquipmentPropertiesDisplayControlAjax",c.fareArray={},c.marketIndex=-1,c.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},c.setVars=function(){c.journeyContainer=this.getById(c.journeyContainerId),c.activateJourney=this.getById(c.activateJourneyId),c.deactivateJourney=this.getById(c.deactivateJourneyId)},c.addEvents=function(){c.activateJourney.click(c.show),c.deactivateJourney.click(c.hide)},c.showWithDataHandler=function(t){c.showWithData(t)},c.showWithData=function(t){var e=$(t).html(),n=F.Json.parse(e).legInfo,i=null,a="",r=null,s="",o=null,l=-1,u=0,d=null,h="";for(a in n)if(n.hasOwnProperty(a)&&(s="",void 0!==(i=n[a]).legIndex)){for(r=this.getById("propertyContainer_"+c.key+"_"+i.legIndex),l=(o=i.equipmentPropertyArray).length,u=0;u<l;u+=1)(h=(d=o[u]).value)&&(h=": "+h),s+="<div><p>"+d.name+h+"</p></div>";r.html(s)}this.journeyContainer.show("slow")},c.show=function(){var t=c.legInfoArray,e=null,n={},i="",a=0,r=c.clientName;for(a=0;a<t.length;a+=1)for(i in e=t[a])e.hasOwnProperty(i)&&(n[r+"$legInfo_"+i+"_"+a]=e[i]);$.post(c.equipmentInfoUri,n,c.showWithDataHandler)},c.hide=function(){c.journeyContainer.hide()},c},F.Util.getFareRuleContainer=function(){return F.common.fareRuleContainer},F.Class.FareRuleContainer=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.fareRuleArray=[],e.containerId="",e.init=function(t){this.setSettingsByObject(t),F.common.fareRuleContainer=this},e.updateFareRule=function(t,e){t=parseInt(t,10),t+=1;var n=this.fareRuleArray||[],i=0,a=n.length,r=null,s="",o="default_"+t,l=0,u=0;for(i=0;i<a;i+=1)for((r=n[i]).key.fareRuleKeyList||[],u=r.key.length,l=0;l<u;l+=1)if(r.key===e.toLowerCase()){s=r.rule;break}if(!s)for(i=0;i<a;i+=1)if((r=n[i]).key===o){s=r.rule;break}this.getById("fareRule"+t).html(s)},e},F.Class.SsrPassengerInput=function(){var s=F.Class.SkySales(),a=F.Util.extendObject(s);return a.ssrFormArray=null,a.ssrFeeArray=null,a.errorMsgOverMaxPerPassenger="There has been an error",a.ssrButtonIdArray=null,a.ssrButtonArray=null,a.buttonTrackId="",a.buttonTrack=null,a.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),$("table.ssrSoldContainer :input",this.container).attr("disabled","disabled")},a.setVars=function(){a.buttonTrack=this.getById(this.buttonTrackId),a.ssrButtonIdArray=this.ssrButtonIdArray||[];var t=[],e=0,n=null,i="";for(e=0;e<this.ssrButtonIdArray.length;e+=1)i=this.ssrButtonIdArray[e],0<(n=this.getById(i)).length&&(t[t.length]=n);a.ssrButtonArray=t},a.addEvents=function(){this.addButtonClickedEvents()},a.addButtonClickedEvents=function(){var t=0;for(t=0;t<this.ssrButtonArray.length;t+=1)this.ssrButtonArray[t].click(this.updateButtonTrackHandler)},a.updateButtonTrackHandler=function(){a.buttonTrack.val(this.id)},a.setSettingsByObject=function(t){s.setSettingsByObject.call(this,t);var e=0,n=this.ssrFormArray||[],i=null,a=this.ssrFeeArray||[],r=null;for(e=0;e<n.length;e+=1)(i=new F.Class.SsrForm).index=e,i.ssrPassengerInput=this,i.init(n[e]),n[e]=i;for(e=0;e<a.length;e+=1)(r=new F.Class.SsrFormFee).index=e,r.ssrPassengerInput=this,r.init(a[e]),a[e]=r},a.deactivateSsrFormNotes=function(){var t=0,e=this.ssrFormArray;for(t=0;t<e.length;t+=1)e[t].deactivateNoteDiv()},a},F.Class.SsrForm=function(){var t=F.Class.SkySales(),e=F.Util.extendObject(t);return e.maximumDropDownLimit=0,e.ssrPassengerId="",e.ssrPassenger=null,e.ssrCodeId="",e.ssrCode=null,e.ssrQuantityId="",e.ssrQuantity=null,e.ssrNoteId="",e.ssrNote=null,e.ssrNoteIframeId="",e.ssrNoteIframe=null,e.ssrNoteCloseId="",e.ssrNoteClose=null,e.ssrNoteDivId="",e.ssrNoteDiv=null,e.ssrNoteImageId="",e.ssrNoteImage=null,e.ssrNoteCancelId="",e.ssrNoteCancel=null,e.ssrFlightId="",e.ssrFlight=null,e.ssrAmountId="",e.ssrAmount=null,e.ssrCurrencyId="",e.ssrCurrency=null,e.index=-1,e.ssrPassengerInput=null,e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.updateSsrAmount()},e.setVars=function(){e.ssrNote=this.getById(this.ssrNoteId),e.ssrNoteDiv=this.getById(this.ssrNoteDivId),e.ssrNoteClose=this.getById(this.ssrNoteCloseId),e.ssrNoteCancel=this.getById(this.ssrNoteCancelId),e.ssrNoteImage=this.getById(this.ssrNoteImageId),e.ssrNoteIframe=this.getById(this.ssrNoteIframeId),e.ssrQuantity=this.getById(this.ssrQuantityId),e.ssrPassenger=this.getById(this.ssrPassengerId),e.ssrCode=this.getById(this.ssrCodeId),e.ssrCurrency=this.getById(this.ssrCurrencyId),e.ssrFlight=this.getById(this.ssrFlightId),e.ssrAmount=this.getById(this.ssrAmountId)},e.addEvents=function(){this.addNoteEvents(),this.addQuantityEvents(),this.addSSRCodeEvents(),this.addFlightEvents()},e.addFlightEvents=function(){this.ssrFlight.change(this.updateSsrAmountHandler)},e.updateSsrQuantityHandler=function(){e.updateSsrQuantity()},e.updateSsrAmountHandler=function(){e.updateSsrAmount()},e.addSSRCodeEvents=function(){this.ssrCode.change(this.updateSsrQuantityHandler),this.ssrCode.change(this.updateSsrAmountHandler)},e.addQuantityEvents=function(){this.ssrQuantity.change(this.updateSsrAmountHandler),this.ssrQuantity.blur(this.updateSsrAmountHandler)},e.updateSsrAmount=function(){var t=this.ssrAmount,e=F.Util.convertToLocaleCurrency("0.00"),n=this.ssrPassenger.val(),i=this.ssrCode.val(),a=this.ssrQuantity.val(),r=0,s=this.ssrPassengerInput.ssrFeeArray,o=null,l="",u=0;if(t.val(e),a=$.trim(a),/^[0-9]+$/.test(a)){for(l=this.ssrFlight.val(),r=0;r<s.length;r+=1)o=s[r],"all"!==l&&l!==o.segmentKey||n===o.passengerNumber&&i===o.ssrCode&&(u+=o.amount*a);e=F.Util.convertToLocaleCurrency(u),t.val(e)}else this.ssrQuantity.val(0)},e.updateSsrQuantity=function(){var t=this.maximumDropDownLimit,e=this.ssrPassenger.val(),n=this.ssrCode.val(),i=this.ssrFlight.val(),a=0,r=0,s=this.ssrPassengerInput.ssrFeeArray,o=null,l=this.ssrQuantity.val(),u=0,d=null,h=this.ssrQuantity[0];for(t=window.parseInt(t,10),l=parseInt(l,10),a=0;a<s.length;a+=1)if(o=s[a],("all"===i||i===o.segmentKey)&&e===o.passengerNumber&&n===o.ssrCode){if(0===(u=parseInt(o.maxPerPassenger,10))&&(u=t,(u=parseInt(u,10))<=l&&(u=l,u+=1)),h.options){for(;0<h.options.length;)h.options[0]=null;for(r=0;r<=u;r+=1)d=new window.Option(r,r),h.options[r]=d,l===r&&this.ssrQuantity.val(r)}u<l?(this.ssrQuantity.val(u),alert(this.getErrorMsgOverMaxPerPassenger())):this.ssrQuantity.val(l)}},e.getErrorMsgOverMaxPerPassenger=function(){return this.ssrPassengerInput.errorMsgOverMaxPerPassenger},e.clearAndDeactivateNoteDiv=function(){var t=this.ssrNote;!1===t.is(":disabled")&&t.val(""),this.deactivateNoteDiv()},e.deactivateNoteDiv=function(){this.ssrNoteDiv.hide(),this.ssrNoteIframe.hide()},e.activateNoteDiv=function(){this.ssrPassengerInput.deactivateSsrFormNotes();var t=this.ssrNoteImage[0],e=F.Dhtml(),n=e.getX(t),i=e.getY(t);this.ssrNoteDiv.css("left",n+"px"),this.ssrNoteDiv.css("top",i+"px"),this.ssrNoteDiv.show(),this.ssrNoteIframe.css("left",n+"px"),this.ssrNoteIframe.css("top",i+"px"),this.ssrNoteIframe.show(),!1===this.ssrNote.is(":disabled")&&this.ssrNote.click()},e.ssrNoteCancelHandler=function(){e.clearAndDeactivateNoteDiv()},e.ssrNoteCloseHandler=function(){e.deactivateNoteDiv()},e.ssrNoteImageHandler=function(){e.activateNoteDiv()},e.addNoteEvents=function(){this.ssrNoteCancel.mouseup(this.ssrNoteCancelHandler),this.ssrNoteClose.mouseup(this.ssrNoteCloseHandler),this.ssrNoteImage.mouseup(this.ssrNoteImageHandler)},e},F.Class.SsrFormFee=function(){var t=F.Class.SkySales(),e=F.Util.extendObject(t);return e.journeyIndex=-1,e.segmentIndex=-1,e.segmentKey="",e.passengerNumber=-1,e.ssrCode="",e.feeCode="",e.amount=0,e.currencyCode="",e.maxPerPassenger=0,e.index=-1,e.ssrPassengerInput=null,e},F.Class.PassengerApis=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.toggleViewIdArray=[],e.init=function(t){this.setSettingsByObject(t);var e=this.toggleViewIdArray||[],n=0,i=null,a=e.length;for(n=0;n<a;n+=1)(i=new F.Class.ToggleView).init(e[n]),i.show.is(":checked")&&i.updateShow()},e},F.Class.ContactData=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.passengerContactDataArray=[],e.title="",e.gender="",e.firstName="",e.middleName="",e.lastName="",e.customerNumber="",e.birthDay="",e.birthMonth="",e.birthYear="",e.nationality="",e.residentCountry="",e.programCode="",e.programNumber="",e.init=function(t){this.setSettingsByObject(t),this.initPassengerContactDataArray(),this.setVars(),this.addEvents()},e.initPassengerContactDataArray=function(){var t=0,e={},n=this.passengerContactDataArray||[],i=n.length;for(t=0;t<i;t+=1)(e=new F.Class.PassengerContactData).contactData=this,e.init(n[t]),n[t]=e},e},F.Class.PassengerContactData=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.actionId="",e.action=null,e.passengerNumber=-1,e.contactData=null,e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},e.setVars=function(){e.action=this.getById(this.actionId)},e.addEvents=function(){this.action.click(this.populatePassengerHandler)},e.populatePassengerHandler=function(){e.populatePassenger(this,e.passengerNumber)},e.populatePassenger=function(t,e){var n=null,i=null,a=this.contactData;a&&(e-1,n=$("#passengerInputContent>fieldset:eq("+e+")"),i=[{name:"DropDownListTitle",value:a.title},{name:"TextBoxFirstName",value:a.firstName},{name:"TextBoxMiddleName",value:a.middleName},{name:"TextBoxLastName",value:a.lastName},{name:"TextBoxCustomerNumber",value:a.customerNumber},{name:"DropDownListBirthDateDay",value:a.birthDay},{name:"DropDownListBirthDateMonth",value:a.birthMonth},{name:"DropDownListBirthDateYear",value:a.birthYear},{name:"DropDownListGender",value:a.gender},{name:"DropDownListNationality",value:a.nationality},{name:"DropDownListResidentCountry",value:a.residentCountry},{name:"TextBoxProgramNumber",value:a.programNumber},{name:"DropDownListProgram",value:a.programCode}],$("#"+t.id).is(":checked")?$.map(i,function(t){t&&$(":input[id*="+t.name+"]",n).val(t.value)}):$.map(i,function(t){t&&$(":input[id*="+t.name+"]",n).val("")}))},e},F.Class.CityText=function(t){this.textNode=t,this.x=t.getAttribute("x"),this.y=t.getAttribute("y"),this.stringLength=0,this.endX=0,this.endY=0,this.errorCount=0,this.svgImage=document.getElementById("flightStatusImageId"),this.svgImageWidth=this.svgImage.getAttribute("width"),this.svgImageHeight=this.svgImage.getAttribute("height"),this.midX=0,this.moveText=function(){0===this.errorCount?(this.alignCenter(),this.placeRelativeToCity(),this.nudgeIntoPlace()):this.handleError()},this.alignCenter=function(){this.midX=this.getStringLength()/2,this.setX(this.getX()-this.midX),this.textNode.setAttribute("x",this.getX())},this.nudgeIntoPlace=function(){for(;this.getEndX()+165>=this.svgImageWidth;)this.setX(this.getX()-1),this.textNode.setAttribute("x",this.getX());for(;this.getX()<=1;)this.setX(this.getX()+1),this.textNode.setAttribute("x",this.getX());for(;this.getY()<=10;)this.setY(this.getY()+1),this.textNode.setAttribute("y",this.getY());for(;this.getY()+165>=this.svgImageHeight;)this.setY(this.getY()-1),this.textNode.setAttribute("y",this.getY())},this.placeRelativeToCity=function(){var t="top";this.getY()<=10&&(t="bottom"),"bottom"===t?this.setY(this.getY()+3):this.setY(this.getY()-3),this.textNode.setAttribute("y",this.getY())},this.setY=function(t){this.y=t},this.getY=function(){return parseInt(this.y,10)},this.setX=function(t){this.x=t},this.getX=function(){return parseInt(this.x,10)},this.getEndX=function(){if(0===this.errorCount)return this.endX=this.getX()+this.getStringLength(),this.endX===this.getX()&&this.handleError(),this.endX;this.handleError()},this.getY=function(){return parseInt(this.y,10)},this.getStringLength=function(){if(0===this.errorCount)return this.stringLength||(this.stringLength=this.textNode.getComputedTextLength(),0===this.stringLength&&this.handleError()),this.stringLength;this.handleError()},this.handleError=function(){0===this.errorCount&&(this.x=parseInt(this.x,10)-20,t.setAttribute("x",this.x)),this.errorCount+=1}},F.Class.FlightPath=function(t,e,n,i){this.objectId=t,this.object=document.getElementById(t),this.rotateId=e,this.rotate=document.getElementById(e),this.currentLeg=n.toLowerCase(),this.currentLegArray=this.currentLeg.split("_"),this.origin=document.getElementById(this.currentLegArray[0]),this.destination=document.getElementById(this.currentLegArray[1]),this.originX=parseInt(this.origin.getAttribute("cx"),10),this.originY=parseInt(this.origin.getAttribute("cy"),10),this.destinationX=parseInt(this.destination.getAttribute("cx"),10),this.destinationY=parseInt(this.destination.getAttribute("cy"),10),this.percentageComplete=i,this.distance=null,this.distanceTraveled=null,this.slope=null,this.positionX=null,this.positionY=null,this.moveToCurrentPosition=function(){this.getObject().setAttributeNS(null,"transform","translate("+this.getPositionX()+","+this.getPositionY()+")")},this.moveToCurrentRotation=function(){var t,e=this.destinationX-this.originX,n=this.destinationY-this.originY,i=0;i=180*(e<0?Math.atan(this.getSlope())+Math.PI:n<0?Math.atan(this.getSlope())+2*Math.PI:Math.atan(this.getSlope()))/Math.PI,t="rotate("+(i+=180)+")",this.rotate.setAttributeNS(null,"transform",t)},this.getCurrentPosition=function(){var t=0,e=this.originX,n=this.originY,i=0;if(0<this.percentageComplete){for(;t<=this.getDistanceTraveled();)i=n-this.getSlope()*e,this.originX>this.destinationX?e-=1:e+=1,n=e*this.getSlope()+i,t=Math.sqrt(Math.pow(e-this.originX,2)+Math.pow(n-this.originY,2));this.positionX=e,this.positionY=n}else this.positionX=this.originX,this.positionY=this.originY},this.getObject=function(){return this.object||(this.object=document.getElementById(t)),this.object},this.getRotate=function(){return this.rotate||(this.rotate=document.getElementById(e)),this.rotate},this.getPositionX=function(){return this.percentageComplete<=0&&(this.positionX=this.destinationX),this.positionX},this.getPositionY=function(){return this.percentageComplete<=0&&(this.positionY=this.destinationY),this.positionY},this.getSlope=function(){return this.slope||(this.slope=(this.destinationY-this.originY)/(this.destinationX-this.originX)),this.slope},this.getDistance=function(){return this.distance||(this.distance=Math.sqrt(Math.pow(this.destinationX-this.originX,2)+Math.pow(this.destinationY-this.originY,2))),this.distance},this.getDistanceTraveled=function(){return this.distanceTraveled||(this.distanceTraveled=this.distance*(.01*this.percentageComplete)),this.distanceTraveled},this.setCurrentPosition=function(){this.getDistance(),this.getDistanceTraveled(),this.getSlope(),this.getCurrentPosition()},this.setCurrentPosition()},F.Util.calculatePosition=function(t,e,n,i){var a=new F.Class.FlightPath(t,e,n,i);a.moveToCurrentPosition(),a.moveToCurrentRotation()},F.Class.ControlGroupBookingRetrieve=function(){var e=new F.Class.ControlGroup,n=F.Util.extendObject(e);return n.bookingRetrieve=null,n.init=function(t){this.setSettingsByObject(t);var e=new F.Class.BookingRetrieve;e.init(t),n.bookingRetrieve=e,this.setVars(),this.addEvents()},n.validateHandler=function(){return n.validate()},n.validate=function(){var t=!1;return(t=this.bookingRetrieve.isOneSectionPopulated())&&(t=e.validate.call(this)),t},n},F.Class.BookingRetrieve=function(){var s=new F.Class.FlightSearch,t=F.Util.extendObject(s);return t.marketArray=[],t.missingInformation="",t.sectionValidation={},t.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},t.setVars=function(){s.setVars.call(this);var t=0,e=0,n=this.sectionValidation,i=[],a="",r=null;for(a in n)if(n.hasOwnProperty(a))for(e=(i=n[a]||[]).length,t=0;t<e;t+=1)(r=i[t]).input=this.getById(r.id)},t.isOneSectionPopulated=function(){var t=0,e=0,n=this.sectionValidation,i=[],a="",r=null,s=!1,o="",l=!0;for(a in n)if(n.hasOwnProperty(a)){for(e=(i=n[a]||[]).length,l=!0,t=0;t<e;t+=1)if((r=i[t].input[0])&&((o=r.value)===(o.requiredempty||"")&&(o=""),!o)){l=!1;break}if(l){s=!0;break}}return s||alert(this.missingInformation),s},t},F.Class.CheckInPassengerInput=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.checkInPassengerJourneyArray=[],e.init=function(t){this.setSettingsByObject(t),this.initCheckInPassengerJourneyArray()},e.initCheckInPassengerJourneyArray=function(){var t=0,e=this.checkInPassengerJourneyArray||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=new F.Class.CheckInPassengerJourney).init(e[t]),e[t]=i},e},F.Class.CheckInPassengerJourney=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.checkInInputId="",e.checkInInput=null,e.baggageInputId="",e.baggageInput=null,e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.checkInInputUpdate()},e.setVars=function(){e.checkInInput=this.getById(this.checkInInputId),e.baggageInput=this.getById(this.baggageInputId)},e.addEvents=function(){this.checkInInput.click(this.checkInInputUpdateHandler)},e.checkInInputUpdateHandler=function(){e.checkInInputUpdate()},e.checkInInputUpdate=function(){this.checkInInput.is(":checked")?this.baggageInput.removeAttr("disabled"):this.baggageInput.attr("disabled","disabled")},e},F.Class.AosBase=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.addOptions=F.Class.AosBase.prototype.addOptions,e},F.Class.AosBase.prototype.addOptions=function(t,e){var n=0;if(t&&t.options)for(n=0;n<e.length;n+=1)t.options[t.options.length]=e[n]},F.Class.Page=function(){var t=new F.Class.AosBase,d=F.Util.extendObject(t),i=null;return d.pageNumber=1,d.pageSize=10,d.totalCount=50,d.pageContainerId="",d.pageContainer=null,d.previous="Previous",d.next="Next",d.pageNodeId="",d.pageNode=null,d.currentPageClass="buttonSelected",d.pageNumberId="",d.pageInputClass="pageInput",d.pageEventClass="pageEvent",d.hoverClass="hover",d.clientName="",d.buttonPrefix="",d.inputPrefix="",d.buttonSubmitName="UpdatePage",d.pageMin=function(t){var e=1,n=1,i=1;return 5<=d.pageNumber&&(n=t-9,e=(i=d.pageNumber-4)<n?i:n<1?1:n),e},d.pageMax=function(t,e){var n=t+9;return e<n&&(n=e),n},d.drawPage=function(){var t=this.pageSize||1,e=this.pageNode.html(),n="",i=0,a=/-pageNumber-/g,r=/-pageNumberValue-/g,s=Math.ceil(this.totalCount/t),o="",l=this.pageMin(s),u=this.pageMax(l,s);if(1<s){for(1<d.pageNumber&&(n=F.Util.replace(e,a,this.previous),n=F.Util.replace(n,r,this.pageNumber-1)),i=l;i<=u;i+=1)o=F.Util.replace(e,a,i),o=d.pageNumber===i?F.Util.replace(o,/-activeClass-/g,this.currentPageClass):F.Util.replace(o,/-activeClass-/g,""),n+=o=F.Util.replace(o,r,i);this.pageNumber<s&&(n+=F.Util.replace(e,a,this.next),n=F.Util.replace(n,r,this.pageNumber+1)),this.pageContainer.html(n)}},d.setVars=function(){t.setVars.call(this),d.pageContainer=this.getById(this.pageContainerId),d.pageNode=this.getById(this.pageNodeId),i=this.getById(this.pageNumberId)},d.update=function(t){var e=F.Util.replace(t.id,this.buttonPrefix,this.inputPrefix),n=this.getById(e).val();i.val(n),this.sendRequest()},d.updateHandler=function(){d.update(this)},d.sendRequest=function(){var t=this.clientName+"$"+this.buttonSubmitName;window.__doPostBack(t)},d.addEvents=function(){$("."+this.pageEventClass,this.pageContainer).click(this.updateHandler)},d.init=function(t){this.setSettingsByObject(t),this.setVars(),this.drawPage(),this.addEvents()},d},F.Class.AosSearch=function(){var t=new F.Class.AosBase,e=F.Util.extendObject(t),c=F.Util.getResource();return e.availabilityRequest={},e.locationArray=[],e.locationHash={},e.location=null,e.locationId="",e.locationDropDownId="",e.locationDropDown=null,e.subLocationId="",e.subLocation=null,e.sourceCodeInfo=c.sourceInfo,e.sourceCodeId="",e.sourceCodeDropDownId="",e.startDateId="",e.startDate="",e.startDayId="",e.startDay="",e.startMonthYearId="",e.startMonthYear=null,e.startMonthCount=1,e.endDateId="",e.endDate=null,e.endDayId="",e.endDay=null,e.endMonthYearId="",e.endMonthYear=null,e.endMonthCount=1,e.dateDelimiter="-",e.sourceCodeArray=[],e.sourceCode="",e.sourceCodeDropDown="",e.sortBy=null,e.sortByDropDown=null,e.sortByDropDownId="",e.sortById="",e.addEvents=function(){this.startDay.change(this.setTextValuesHandler),this.startMonthYear.change(this.setTextValuesHandler),this.startDate.change(this.setDropDownValuesHandler),this.endDay.change(this.setTextValuesHandler),this.endMonthYear.change(this.setTextValuesHandler),this.endDate.change(this.setDropDownValuesHandler),this.locationDropDown.change(this.setTextValuesHandler),this.location.change(this.setDropDownValuesHandler),this.sourceCodeDropDown.change(this.setTextValuesHandler),this.sourceCode.change(this.setDropDownValuesHandler),this.sortBy.change(this.setDropDownValuesHandler),this.sortByDropDown.change(this.setTextValuesHandler),this.subLocation.change(this.setLocationHandler)},e.setLocationHandler=function(){e.setLocation()},e.setLocation=function(){var t=this.subLocation.val();this.location.val(t)},e.getSubLocationArray=function(t){var e=[],n=this.locationArray||[],i=null,a=0,r=n.length,s="",o=this.locationHash;if(t&&(i=o[t]))if(s=i.parent||"")for(i=o[s],e.push(i),a=0;a<r;a+=1)s===(i=n[a]).parent&&e.push(i);else for(e.push(i),a=0;a<r;a+=1)(s=(i=n[a]).parent||"")===t&&e.push(i);return 0===e.length&&(e=n),e},e.populate=function(){var t,e,n,i,a=this.locationArray||[],r=this.location||{},s=r.val(),o=this.getSubLocationArray(s),l=0,u="",d="",h=[];for(e={input:r,objectArray:a,showCode:!1},F.Util.populate(e),e={input:this.subLocation,objectArray:o,showCode:!1},F.Util.populate(e),t=r.val(),this.subLocation.val(t),h=[],l=1;l<32;l+=1)(d=u=l)<10&&(d="0"+d),h[l]={code:d,name:u};e={input:this.startDay,objectArray:h},F.Util.populate(e),e={input:this.endDay,objectArray:h},F.Util.populate(e),i=this.getMonthYearOptions(this.startMonthCount),this.addOptions(this.startMonthYear[0],i),i=this.getMonthYearOptions(this.endMonthCount),this.addOptions(this.endMonthYear[0],i),n={sourceCode:this.sourceCodeDropDown,sortBy:this.sortByDropDown},this.populateFromAvailabilityRequest(n)},e.populateFromAvailabilityRequest=function(t){t=t||{};var e,n,i,a=this.availabilityRequest||{},r=F.Util.populate;for(i in t)t.hasOwnProperty(i)&&(n=t[i],(e=(a[i]||{}).options)&&r({input:n,objectArray:e}))},e.getMonthYearOptions=function(t){t=t||12,t=parseInt(t,10);var e,n,i,a,r,s=[],o=new Date,l=this.dateDelimiter,u=0,d=Option,h=c.dateCultureInfo.monthNames||[];for(o.setDate(1),u=0;u<t;u+=1)n=o.getFullYear(),(a=(i=o.getMonth())+1)<10&&(a="0"+a),e=n+l+a,r=new d(h[i]+" "+n,e),s.push(r),o.setMonth(i+1);return s},e.setTextValuesHandler=function(){e.setTextValues()},e.setTextValues=function(){var t,e,n,i,a;n=this.startMonthYear.val(),i=this.startDay.val(),a=n+this.dateDelimiter+i,(t=F.Util.parseIsoDate(a))&&(t=F.Util.dateToIsoString(t),this.startDate.val(t)),n=this.endMonthYear.val(),i=this.endDay.val(),a=n+this.dateDelimiter+i,(e=F.Util.parseIsoDate(a))&&(e=F.Util.dateToIsoString(e),this.endDate.val(e)),this.location.val(this.locationDropDown.val()),this.sourceCode.val(this.sourceCodeDropDown.val()),this.sortBy.val(this.sortByDropDown.val())},e.setDropDownValuesHandler=function(){e.setDropDownValues()},e.setDropDownValues=function(){var t,e,n,i,a,r,s=this.dateDelimiter;r=this.startDate.val(),(t=F.Util.parseIsoDate(r))&&((n=t.getDate())<10&&(n="0"+n),i=t.getMonth(),(i+=1)<10&&(i="0"+i),a=t.getFullYear(),this.startDay.val(n),this.startMonthYear.val(a+s+i)),r=this.endDate.val(),(e=F.Util.parseIsoDate(r))&&((n=e.getDate())<10&&(n="0"+n),i=e.getMonth(),(i+=1)<10&&(i="0"+i),a=e.getFullYear(),this.endDay.val(n),this.endMonthYear.val(a+s+i)),this.locationDropDown.val(this.location.val()),this.sourceCodeDropDown.val(this.sourceCode.val()),this.sortByDropDown.val(this.sortBy.val())},e.setVars=function(){e.location=this.getById(this.locationId),e.locationDropDown=this.getById(this.locationDropDownId),e.subLocation=this.getById(this.subLocationId),e.sourceCodeArray=this.sourceCodeInfo.SourceList||[],e.sourceCode=this.getById(this.sourceCodeId),e.sourceCodeDropDown=this.getById(this.sourceCodeDropDownId),e.startDate=this.getById(this.startDateId),e.startDay=this.getById(this.startDayId),e.startMonthYear=this.getById(this.startMonthYearId),e.endDate=this.getById(this.endDateId),e.endDay=this.getById(this.endDayId),e.endMonthYear=this.getById(this.endMonthYearId),e.sortBy=this.getById(this.sortById),e.sortByDropDown=this.getById(this.sortByDropDownId)},e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.populate(),this.addEvents(),this.setDropDownValues()},e},F.Class.Aos=function(){var t=new F.Class.AosBase,e=F.Util.extendObject(t),n=null,i="",a="";return e.showText="",e.hideText="",e.showHideTextEventId="",e.showHideImgEventId="",e.showHideImgUp="",e.showHideImgDown="",e.aosKey="",e.itemArray=[],e.aosAvailability=null,e.showHandler=function(){e.show()},e.hideHandler=function(){e.hide()},e.show=function(){n.show(),a.html(this.hideText),i.attr("src",this.showHideImgUp)},e.hide=function(){n.hide(),a.html(this.showText),i.attr("src",this.showHideImgDown)},e.addEvents=function(){i.attr("src",this.showHideImgDown),a.html(this.showText),n.hide(),a.toggle(this.showHandler,this.hideHandler),i.toggle(this.showHandler,this.hideHandler)},e.setVars=function(){t.setVars.call(this),n=this.getById(this.containerId),i=this.getById(this.showHideImgEventId),a=this.getById(this.showHideTextEventId)},e.initItemArray=function(){var t,e,n,i,a=this.itemArray||[],r=a.length;for(t=0;t<r;t+=1)n=a[t],i={aosKey:this.aosKey,itemKeyId:n.itemKeyId,inputId:n.inputId,aos:this},(e=new F.Class.AosItem).init(i),a[t]=e},e.updateKeyValues=function(t){this.aosAvailability.updateKeyValues(t)},e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.initItemArray(),this.addEvents()},e},F.Class.AosItem=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.aosKey="",e.aos=null,e.inputId="",e.input=null,e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},e.setVars=function(){e.input=this.getById(this.inputId)},e.addEvents=function(){this.input.change(this.updateKeyValuesHandler)},e.updateKeyValuesHandler=function(){e.updateKeyValues()},e.updateKeyValues=function(){this.aos.updateKeyValues(this)},e},F.Class.TermsAndConditionsBase=function(){var e=new F.Class.AosBase,n=F.Util.extendObject(e),i={};return n.showHideId="",n.showHide=null,n.inputId="",n.input=null,n.url="",n.clientName="",n.setVars=function(){e.setVars.call(this),n.showHide=this.getById(n.showHideId),n.input=this.getById(n.inputId)},n.sendRequest=function(){$.post(n.url,i,n.updateDom)},n.updateDom=function(t){n.container&&(n.container.html(t),n.show("slow"))},n.showTermsAndConditions=function(){var t=n.input.attr("name");t=n.clientName+"$"+t,i[t]=1,i[n.clientName+"$AjaxControlPrefix"]=n.clientName,i.__EVENTTARGET=n.clientName+"$OnTermsAndConditions",n.sendRequest()},n.addEvents=function(){e.addEvents.call(this),n.showHide.click(n.showTermsAndConditions)},n.init=function(t){e.init.call(this,t),n.addEvents()},n},F.Class.Cancel=function(){var t=new F.Class.AosBase,i=F.Util.extendObject(t);return i.cancelLinkId="",i.cancelInputId="",i.cancelButtonName="",i.container=null,i.cancelLink="",i.cancelInput="",i.policiesToggleViewParams=null,i.policiesToggleView=null,i.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},i.setVars=function(){var t=this.getById(this.cancelLinkId),e=this.getById(this.cancelInputId),n=null;this.policiesToggleViewParams&&((n=new F.Class.ToggleView).init(this.policiesToggleViewParams),i.policiesToggleView=n),t&&(i.cancelLink=$(t)),e&&(i.cancelInput=$(e))},i.addEvents=function(){t.addEvents.call(this),this.cancelLink&&this.cancelLink.click(this.cancelDataHandler),this.cancelInput&&this.cancelInput.click(this.cancelDataHandler)},i.cancelDataHandler=function(){i.cancel()},i.cancel=function(){this.cancelInput.val("1"),window.__doPostBack(this.cancelButtonName)},i},F.Class.ActivitySearch=function(){var e=new F.Class.AosSearch,n=F.Util.extendObject(e);return n.init=function(t){this.setSettingsByObject(t),this.setVars(),this.populate(),this.addEvents(),this.setDropDownValues()},n.setVars=function(){e.setVars.call(this);var t=F.Util.getResource();n.locationHash=t.activityLocationHash||{},n.locationArray=t.activityLocationArray||[]},n},F.Class.ActivityAvailability=function(){var t=new F.Class.AosAvailability,e=F.Util.extendObject(t);return e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.initActivityArray()},e.initActivityArray=function(){var t,e,n,i,a=this.aosArray||[],r=a.length;for(t=0;t<r;t+=1)n=a[t],i={showText:this.showText,hideText:this.hideText,showHideImgUp:this.imgUp,showHideImgDown:this.imgDown,containerId:n.aosId,showHideTextEventId:n.textId,showHideImgEventId:n.imgId,groupArray:n.groupArray,aosAvailability:this},(e=new F.Class.Activity).init(i),a[t]=e},e},F.Class.Activity=function(){var t=new F.Class.Aos,e=F.Util.extendObject(t);return e.groupArray=[],e.hideAllGroups=function(){var t=0,e=this.groupArray||[],n=e.length;for(t=0;t<n;t+=1)e[t].hide()},e.initGroupArray=function(){var t,e,n,i,a=this.groupArray||[],r=a.length;for(t=0;t<r;t+=1)i={containerId:(n=a[t]).containerId,inputId:n.inputId,itemArray:n.itemArray,aos:this},(e=new F.Class.AosGroup).init(i),a[t]=e},e.showHandler=function(){e.show()},e.hideHandler=function(){e.hide()},e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.initGroupArray(),this.hideAllGroups()},e},F.Class.AosGroup=function(){var i=new F.Class.SkySales,t=F.Util.extendObject(i);return t.aos=null,t.itemArray=[],t.inputId="",t.input=null,t.updateGroupHandler=function(){t.updateGroup()},t.updateGroup=function(){this.aos.hideAllGroups();var t=this.input.val();this.getById(t).show()},t.show=function(){var t,e=this.itemArray||[],n=e.length;for(t=0;t<n;t+=1)e[t].input.val(0);i.show.call(this),this.updateGroup()},t.addEvents=function(){i.addEvents.call(this),this.input.change(this.updateGroupHandler)},t.setVars=function(){i.setVars.call(this),t.input=this.getById(this.inputId)},t.initItemArray=function(){var t,e,n,i,a=this.itemArray||[],r=a.length;for(t=0;t<r;t+=1)n=a[t],i={aosKey:this.aosKey,itemKeyId:n.itemKeyId,inputId:n.inputId,quantityId:n.quantityId,quantityMax:n.quantityMax,soldOutId:n.soldOutId,group:this,aos:this.aos},(e=new F.Class.ActivityItem).init(i),a[t]=e},t.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.initItemArray()},t},F.Class.ActivityItem=function(){var t=new F.Class.AosItem,e=F.Util.extendObject(t);return e.group=null,e.quantityMax=5,e.quantityId="",e.quantity=null,e.soldOutId="",e.soldOut=null,e.getQuantityOptions=function(){var t=0,e=null,n=[],i=this.quantityMax;for(t=1;t<=i;t+=1)e={name:t,code:t},n.push(e);return n},e.populateQuantity=function(){var t=this.getQuantityOptions(),e={input:this.quantity,objectArray:t};F.Util.populate(e)},e.setVars=function(){t.setVars.call(this),e.quantity=this.getById(this.quantityId),e.soldOut=this.getById(this.soldOutId)},e.showSoldOut=function(){this.soldOut.hide(),0===this.quantityMax&&(this.quantity.hide(),this.soldOut.show())},e.updateKeyValuesHandler=function(){},e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.populateQuantity(),this.showSoldOut()},e},F.Class.PaxTypeControl=function(){var t=new F.Class.AosBase,e=F.Util.extendObject(t);return e.controlId="",e.control=null,e.paxTypeDropDownControl="",e.dropDownControlId="",e.paxInfoMaxQuantity="",e.paxInfoQuantity="",e.childAgesContainerId="",e.childAgesContainer=null,e.childAgesDropDownsContainerId="",e.childAgesDropDownsContainer=null,e.childAgesDropDownTemplateId="",e.childAgesDropDownTemplate=null,e.childLabelTemplateId="",e.childLabelTemplate=null,e.childDropDownBaseId="",e.clientId="",e.selectedAges="",e.minChildAge=1,e.maxChildAge=18,e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.initializeDropDowns(0,this.paxInfoMaxQuantity,this.paxInfoQuantity,this.paxTypeDropDownControl),this.addEvents(),this.setTextValues(),-1<this.dropDownControlId.indexOf("CHD")&&this.initializeSelectedChildAgeDropDowns()},e.setVars=function(){t.setVars.call(this),e.control=this.getById(this.controlId),e.paxTypeDropDownControl=this.getById(this.dropDownControlId),-1<this.dropDownControlId.indexOf("CHD")&&(e.childAgesContainer=this.getById(this.childAgesContainerId),e.childAgesDropDownsContainer=this.getById(this.childAgesDropDownsContainerId),e.childAgesDropDownTemplate=this.getById(this.childAgesDropDownTemplateId),e.childLabelTemplate=this.getById(this.childLabelTemplateId))},e.initializeDropDowns=function(t,e,n,i){var a,r=0,s=[];if(!(e<t)&&i){for(n+="",r=t;r<=e;r+=1)s[r]={code:r,name:r};a={input:i,objectArray:s,selectedItem:n},F.Util.populate(a)}},e.setTextValuesHandler=function(){e.setTextValues()},e.setTextValues=function(){this.control.val(this.paxTypeDropDownControl.val())},e.setDropDownValuesHandler=function(){e.setDropDownValues()},e.setDropDownValues=function(){this.paxTypeDropDownControl.val(this.control.val())},e.addEvents=function(){t.addEvents.call(this),this.control.change(this.setDropDownValuesHandler),this.paxTypeDropDownControl.change(this.setTextValuesHandler),-1<this.dropDownControlId.indexOf("CHD")&&this.paxTypeDropDownControl.change(this.addChildDropDownListsHandler)},e.initializeSelectedChildAgeDropDowns=function(){var t=this.selectedAges.split(",")||[],e=t.length,n=0,i=this.childLabelTemplate.text(),a=null,r="";for(n=0;n<e;n+=1)0<t[n]&&0<t[n].toString().length&&(i+=this.getChildAgeHtml(n));for(e&&t[0]&&this.childAgesDropDownsContainer.html(i),n=0;n<e;n+=1)r=this.childDropDownBaseId+n,(a=this.getById(r))&&(this.initializeDropDowns(this.minChildAge,this.maxChildAge,t[n],a),F.Util.setRequiredAttribute(a),this.addChildDropDownEvents(a));this.updateChildAges()},e.addChildDropDownListsHandler=function(){var t=this.value;e.addChildDropDownLists(t)},e.addChildDropDownLists=function(t){var e=0,n=this.childLabelTemplate.text(),i="",a={},r="";for(t=t||0,t=parseInt(t,10),e=0;e<t;e+=1)n+=this.getChildAgeHtml(e);for(t?this.childAgesDropDownsContainer.html(n):this.childAgesDropDownsContainer.html(""),e=0;e<t;e+=1)i=this.childDropDownBaseId+e,(r=(a=this.getById(i)||{}).val())||(r=""),this.initializeDropDowns(this.minChildAge,this.maxChildAge,r,a),F.Util.setRequiredAttribute(a),this.addChildDropDownEvents(a);this.childAgesContainer.val("")},e.getChildAgeHtml=function(t){var e="";return e=this.childAgesDropDownTemplate.text(),e=F.Util.replace(e,/\[childAgeDropDownLabel\]/,t),e=F.Util.replace(e,/\[childAgedropDownId\]/g,t),e=F.Util.replace(e,/\[childAgedropDownName\]/,t),e=F.Util.replace(e,/\[childIndex\]/,t+1),e=F.Util.replace(e,/\[clientId\]/g,this.clientId)},e.addChildDropDownEvents=function(t){t.change(this.updateChildAgesHandler)},e.updateChildAgesHandler=function(){e.updateChildAges()},e.updateChildAges=function(){var t,e,n=0,i=null,a="";for(e=(t=$("[id^='"+this.childDropDownBaseId+"'] option:selected")).length,n=0;n<e;n+=1)i=t[n],a+=n===e-1?i.text:i.text+",";this.childAgesContainer.val(a)},e},F.Class.HotelSearch=function(){var e=new F.Class.AosSearch,n=F.Util.extendObject(e);return n.rooms="",n.roomsDropDown="",n.roomsDropDownId="",n.roomCount=1,n.roomsId="",n.init=function(t){this.setSettingsByObject(t),this.setVars(),this.populate(),this.addEvents(),this.setDropDownValues()},n.populate=function(){e.populate.call(this);var t=this.populateOptions(this.roomCount,1);this.addOptions(this.roomsDropDown[0],t)},n.setVars=function(){e.setVars.call(this);var t=F.Util.getResource();n.locationHash=t.hotelLocationHash||{},n.locationArray=t.hotelLocationArray||[],n.rooms=this.getById(this.roomsId),n.roomsDropDown=this.getById(this.roomsDropDownId)},n.populateOptions=function(t,e){t=t||10;var n,i=[],a=e=e||0,r=Option;for(a=e;a<=t;a+=1)n=new r(a,a),i.push(n);return i},n.setTextValuesHandler=function(){n.setTextValues()},n.setTextValues=function(){e.setTextValues.call(this),this.rooms.val(this.roomsDropDown.val())},n.setDropDownValuesHandler=function(){n.setDropDownValues()},n.setDropDownValues=function(){e.setDropDownValues.call(this),this.roomsDropDown.val(this.rooms.val())},n.addEvents=function(){e.addEvents.call(this),this.rooms.change(this.setDropDownValuesHandler),this.roomsDropDown.change(this.setTextValuesHandler)},n},F.Class.TermsAndConditions=function(){var t=new F.Class.TermsAndConditionsBase;return F.Util.extendObject(t)},F.Class.CarSearch=function(){var l=new F.Class.AosSearch,e=F.Util.extendObject(l);return e.categoryId="",e.categoryDropDownId="",e.category=null,e.categoryDropDown=null,e.doorId="",e.doorDropDownId="",e.door=null,e.doorDropDown=null,e.sizeId="",e.sizeDropDownId="",e.size=null,e.sizeDropDown=null,e.transmissionId="",e.transmissionDropDownId="",e.transmission=null,e.transmissionDropDown=null,e.vendorsId="",e.vendorSelectId="",e.vendors=null,e.vendorSelect=null,e.vendorEventTarget="",e.locationDropOffId="",e.locationDropOffDropDownId="",e.subLocationDropOffId="",e.locationDropOff=null,e.locationDropOffDropDown=null,e.subLocationDropOff=null,e.pickUpTimeId="",e.pickUpTimeDropDownId="",e.pickUpTime=null,e.pickUpTimeDropDown=null,e.dropOffTimeId="",e.dropOffTimeDropDownId="",e.dropOffTime=null,e.dropOffTimeDropDown=null,e.air=null,e.airDropDown=null,e.airDropDownId="",e.airId="",e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.populate(),this.addEvents(),this.setDropDownValues()},e.populateVendors=function(){var t,e=((F.Util.getResource()||{}).carInfo||{}).vendors||[],n=[],i=0,a=e.length,r=null;for(i=0;i<a;i+=1)(r=e[i]).name&&n.push(r);t={objectArray:n,input:this.vendorSelect,clearOptions:!1},F.Util.populate(t)},e.populate=function(){l.populate.call(this);var t,e,n,i=this.locationArray||[],a=this.locationDropOff,r=a.val(),s=this.subLocationDropOff,o=this.getSubLocationArray(r);t={input:a,objectArray:i,showCode:!1},F.Util.populate(t),t={input:s,objectArray:o,showCode:!1},F.Util.populate(t),n=a.val(),s.val(n),this.populateVendors(),e={air:this.airDropDown,door:this.doorDropDown,category:this.categoryDropDown,transmission:this.transmissionDropDown,size:this.sizeDropDown,pickUpTime:this.pickUpTimeDropDown,dropOffTime:this.dropOffTimeDropDown},this.populateFromAvailabilityRequest(e)},e.setVars=function(){l.setVars.call(this);var t=F.Util.getResource();e.locationHash=t.carLocationHash||{},e.locationArray=t.carLocationArray||[],e.locationDropOff=this.getById(this.locationDropOffId),e.locationDropOffDropDown=this.getById(this.locationDropOffDropDownId),e.subLocationDropOff=this.getById(this.subLocationDropOffId),e.category=this.getById(this.categoryId),e.categoryDropDown=this.getById(this.categoryDropDownId),e.door=this.getById(this.doorId),e.doorDropDown=this.getById(this.doorDropDownId),e.size=this.getById(this.sizeId),e.sizeDropDown=this.getById(this.sizeDropDownId),e.transmission=this.getById(this.transmissionId),e.transmissionDropDown=this.getById(this.transmissionDropDownId),e.vendors=this.getById(this.vendorsId),e.vendorSelect=this.getById(this.vendorSelectId),e.pickUpTime=this.getById(this.pickUpTimeId),e.pickUpTimeDropDown=this.getById(this.pickUpTimeDropDownId),e.dropOffTime=this.getById(this.dropOffTimeId),e.dropOffTimeDropDown=this.getById(this.dropOffTimeDropDownId),e.air=this.getById(this.airId),e.airDropDown=this.getById(this.airDropDownId)},e.setTextValuesHandler=function(){e.setTextValues()},e.setTextValues=function(){l.setTextValues.call(this),this.locationDropOff.val(this.locationDropOffDropDown.val()),this.category.val(this.categoryDropDown.val()),this.door.val(this.doorDropDown.val()),this.size.val(this.sizeDropDown.val()),this.transmission.val(this.transmissionDropDown.val()),this.vendors.val(this.vendorSelect.val()),this.pickUpTime.val(this.pickUpTimeDropDown.val()),this.dropOffTime.val(this.dropOffTimeDropDown.val()),this.sourceCode.val(this.sourceCodeDropDown.val()),this.air.val(this.airDropDown.val())},e.setDropDownValuesHandler=function(){e.setDropDownValues()},e.setDropDownValues=function(){l.setDropDownValues.call(this),this.locationDropOffDropDown.val(this.locationDropOff.val()),this.categoryDropDown.val(this.category.val()),this.doorDropDown.val(this.door.val()),this.sizeDropDown.val(this.size.val()),this.transmissionDropDown.val(this.transmission.val()),this.vendorSelect.val(this.vendors.val()),this.pickUpTimeDropDown.val(this.pickUpTime.val()),this.dropOffTimeDropDown.val(this.dropOffTime.val()),this.sourceCodeDropDown.val(this.sourceCode.val()),this.airDropDown.val(this.air.val()),this.sortByDropDown.val(this.sortBy.val())},e.setVendorsHandler=function(){e.setVendors()},e.setVendors=function(){this.setTextValues(),this.doPostBack()},e.addEvents=function(){l.addEvents.call(this),this.locationDropOff.change(this.setDropDownValuesHandler),this.locationDropOffDropDown.change(this.setTextValuesHandler),this.subLocationDropOff.change(this.setLocationHandler),this.category.change(this.setDropDownValuesHandler),this.categoryDropDown.change(this.setTextValuesHandler),this.door.change(this.setDropDownValuesHandler),this.doorDropDown.change(this.setTextValuesHandler),this.size.change(this.setDropDownValuesHandler),this.sizeDropDown.change(this.setTextValuesHandler),this.transmission.change(this.setDropDownValuesHandler),this.transmissionDropDown.change(this.setTextValuesHandler),this.vendors.change(this.setDropDownValuesHandler),this.vendorSelect.change(this.setVendorsHandler),this.pickUpTime.change(this.setDropDownValuesHandler),this.pickUpTimeDropDown.change(this.setTextValuesHandler),this.dropOffTime.change(this.setDropDownValuesHandler),this.dropOffTimeDropDown.change(this.setTextValuesHandler),this.air.change(this.setDropDownValuesHandler),this.airDropDown.change(this.setTextValuesHandler),this.subLocationDropOff.change(this.setLocationDropOffHandler)},e.setLocationDropOffHandler=function(){e.setLocationDropOff()},e.setLocationDropOff=function(){var t=this.subLocationDropOff.val();this.locationDropOff.val(t)},e.doPostBack=function(){var t=this.vendorEventTarget;window.__doPostBack(t,"")},e.getVendorOptions=function(t){t=t||[];var e,n,i,a=[],r=Option,s=t.length;for(n=0;n<s;n+=1)e=new r((i=t[n]).description,i.vendorCode),a.push(e);return a},e},F.Class.AosAvailability=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.showText="",e.hideText="",e.imgUp="",e.imgDown="",e.aosKeyId="",e.aosKey="",e.aosItemId="",e.aosItem="",e.seperator="",e.aosArray=[],e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.initAosArray()},e.setVars=function(){e.aosKey=this.getById(this.aosKeyId),e.aosItem=this.getById(this.aosItemId)},e.initAosArray=function(){var t,e,n,i,a=this.aosArray||[],r=a.length;for(t=0;t<r;t+=1)n=a[t],i={showText:this.showText,hideText:this.hideText,showHideImgUp:this.imgUp,showHideImgDown:this.imgDown,containerId:n.aosId,showHideTextEventId:n.textId,showHideImgEventId:n.imgId,itemArray:n.itemArray,aosAvailability:this},(e=new F.Class.Aos).init(i),a[t]=e},e.updateKeyValues=function(t){var e=(t.input.val()||"").split(this.seperator)||[],n=e.length;0<n&&this.aosKey.val(e[0]),1<n&&this.aosItem.val(e[1])},e},F.Class.PassengerTypeDropDowns=function(){var s,e,a,t=new F.Class.SkySales,r=F.Util.extendObject(t);return r.passengerTypes={},r.maximumPassengersPerType=7,r.passengerTypeDropDownArray=[],r.passengerTypesCountHash={},r.setVars=function(){s=this.getById("tripPlannerPassengerTypeTemplateId"),e=this.getById("tripPlannerPassengerTypesContainer")},r.getHtml=function(){var t=s.text(),e="",n="",i=this.passengerTypes,a="",r="";for(r in i)i.hasOwnProperty(r)&&(a=i[r].name,e=F.Util.replace(t,/\[key\]/g,r),n+=e=F.Util.replace(e,/\[name\]/g,a));return n},r.getPassengerTypeArray=function(){var t=[],e=0,n=this.maximumPassengersPerType;for(e=0;e<=n;e+=1)t[e]={code:e,name:e};return t},r.populatePassengerTypeDropDown=function(t,e){var n=$("#paxTypeCountDictionary_"+t),i={input:n,objectArray:a,selectedItem:e};F.Util.populate(i),r.passengerTypeDropDownArray.push(n)},r.populatePassengerTypeDropDowns=function(){var t=this.passengerTypes,e=this.passengerTypesCountHash,n=0,i="";for(i in a=this.getPassengerTypeArray(),t)t.hasOwnProperty(i)&&(t[i],n=e[i],r.populatePassengerTypeDropDown(i,n))},r.draw=function(){var t;t=this.getHtml(),e.html(t)},r.init=function(t){this.setSettingsByObject(t),this.setVars(),this.draw(),this.populatePassengerTypeDropDowns()},r},F.Class.TripPlannerSearchFlight=function(){var t=new F.Class.SkySales,h=F.Util.extendObject(t),u="tripFlight_0",d="tripIsUnavailable_0",c="tripHasNoFares_0",p="",g="",m="",y="",f="";return h.index=0,h.tripFlightTemplateHtml="",h.tripPlannerSearchFlights={},h.market={},h.flightDate=new Date,h.container={},h.fullDateFormatString="yy-mm-dd",h.tripIsUnavailable={},h.tripHasNoFares={},h.datePickerManager={},h.lowFare={},h.lowFareDom={},h.origin="",h.originInput={},h.originInputDom={},h.destination="",h.destinationInput={},h.destinationInputDom={},h.dayInput={},h.yearMonthInput={},h.flightLabel={},h.closeButton={},h.selectedClass="tpSelectedFlight",h.journeyFareSellKey="",h.setVars=function(){var t=this.tripPlannerSearchFlights.tripPlannerSearch,e=t.flightContainerIdFormat,n=t.tripIsUnavailableIdFormat,i=t.tripHasNoFaresIdFormat,a=t.lowFareIdFormat,r=t.originStationIdFormat,s=t.destinationStationIdFormat,o=t.flightLabelIdFormat,l=t.closeFlightButtonIdFormat;u=F.Util.replace(e,"[index]",this.index),d=F.Util.replace(n,"[index]",this.index),c=F.Util.replace(i,"[index]",this.index),m=F.Util.replace(a,"[index]",this.index),p=F.Util.replace(r,"[index]",this.index),g=F.Util.replace(s,"[index]",this.index),y=F.Util.replace(o,"[index]",this.index),f=F.Util.replace(l,"[index]",this.index)},h.getHtml=function(){var t=F.Util.replace(this.tripFlightTemplateHtml,/\[index\]/g,this.index),e=this.index+1;return t=F.Util.replace(t,/\[oneBasedIndex\]/g,e)},h.draw=function(){var t=this.tripPlannerSearchFlights.tripFlightsContainer,e=this.getHtml();t.append(e)},h.setVarsAfterDrawAndInitMarket=function(){h.container=this.getById(u),h.tripIsUnavailable=this.getById(d),h.tripHasNoFares=this.getById(c),h.lowFare=this.getById(m),h.lowFareDom=this.lowFare[0],h.originInput=this.getById(p),h.originInputDom=this.originInput[0],h.flightLabel=this.getById(y),this.originInput.val(this.origin),h.destinationInput=this.getById(g),h.destinationInputDom=this.destinationInput[0],this.destinationInput.val(this.destination),h.closeButton=this.getById(f)},h.populateFromDom=function(){var t=null,e=(this.market||{}).marketDateArray||[];h.destination=this.destinationInput.val()||"",h.origin=this.originInput.val()||"",e.length&&(t=(e[0].marketDate||$([])).val()||"",t=F.Util.parseIsoDate(t)),t&&(h.flightDate=t)},h.initMarket=function(){var t=this.index,e=this.tripPlannerSearchFlights.tripPlannerSearch,n=e.flightSearch,i=e.marketDateIdFormat,a=e.marketDayIdFormat,r=e.marketMonthYearIdFormat,s=F.Util.replace(i,"[index]",t),o=F.Util.replace(a,"[index]",t),l=F.Util.replace(r,"[index]",t),u={},d={marketInputIdArray:[{originId:p,destinationId:g}],stationInputIdArray:[p,g],lowFareAvailabilityArray:[{showId:m,tripPlannerSearchFlight:this,marketDateId:s,originId:p,destinationId:g}],marketDateIdArray:[{marketDateId:s,marketDayId:o,marketMonthYearId:l,useJQueryDatePicker:!1,fullDateFormatString:this.fullDateFormatString}]};h.market=new F.Class.FlightSearchMarket,h.market.flightSearch=n,h.market.index=t,this.market.init(d),u=this.market.marketDateArray[0].datePickerManager,(h.datePickerManager=u).datePopulate(this.flightDate),h.dayInput=u.day,h.yearMonthInput=u.yearMonth},h.selectFlight=function(){this.container.addClass(this.selectedClass)},h.unselectFlight=function(){this.container.removeClass(this.selectedClass)},h.selectCurrentFlight=function(){this.tripPlannerSearchFlights.unselectAll(),this.selectFlight()},h.focusOrigin=function(){this.originInput.focus()},h.selectCurrentFlightHandler=function(){h.selectCurrentFlight()},h.removeCurrentFlightHandler=function(){h.removeCurrentFlight()},h.reapplyDateBoundsHandler=function(){h.tripPlannerSearchFlights.reapplyDateBounds()},h.removeCurrentFlight=function(){var t=this.tripPlannerSearchFlights,e=t.tripPlannerSearch;t&&(t.removeSelectedFlight(this),e.updateRetainedJourneyFareSellKeys())},h.requireOriginAndDestination=function(){var t=F.Util.setRequiredAttribute;t(this.originInput),t(this.destinationInput)},h.dontRequireOriginAndDestination=function(){var t=F.Util.removeRequiredAttribute;t(this.originInput),t(this.destinationInput)},h.validate=function(){return this.tripPlannerSearchFlights.dontRequireOriginAndDestinationOnFlights(),this.requireOriginAndDestination(),F.Util.validate(this.lowFareDom)},h.validateHandler=function(){return h.validate()},h.setNextFlightDestinationToThisFlightOrigin=function(){this.tripPlannerSearchFlights.setNextFlightDestinationToThisFlightOrigin(this)},h.setNextFlightDestinationToThisFlightOriginHandler=function(){h.setNextFlightDestinationToThisFlightOrigin()},h.addEvents=function(){this.container.click(this.selectCurrentFlightHandler),this.closeButton.click(this.removeCurrentFlightHandler),this.originInput.focus(this.selectCurrentFlightHandler),this.yearMonthInput.focus(this.selectCurrentFlightHandler),this.destinationInput.blur(this.setNextFlightDestinationToThisFlightOriginHandler)},h.init=function(t){this.setSettingsByObject(t),this.setVars(),this.draw(),this.initMarket(),this.setVarsAfterDrawAndInitMarket(),this.addEvents()},h.reinitializeFlight=function(t){this.setSettingsByObject(t),this.setVars(),this.initMarket(),this.setVarsAfterDrawAndInitMarket(),this.addEvents()},h.showTripIsUnavailable=function(){this.tripIsUnavailable.show()},h.hideTripIsUnavailable=function(){this.tripIsUnavailable.hide()},h.showTripHasNoFares=function(){this.tripHasNoFares.show()},h.hideTripHasNoFares=function(){this.tripHasNoFares.hide()},h.show=function(){this.container.show()},h.hide=function(){this.container.hide()},h.setOrigin=function(t){h.origin=t,this.originInput.val(t)},h.clearStationPair=function(){var t=this.destinationInput.val(),e=this.originInput.val();""===t&&this.originInput.val(""),""===e&&this.destinationInput.val("")},h},F.Class.TripPlannerSearchFlights=function(){var t=new F.Class.SkySales,o=F.Util.extendObject(t);return o.flightSearch={},o.tripFlightsContainer={},o.tripFlightTemplateHtml="",o.flights=[],o.tripPlannerSearch={},o.numberOfDaysApart=3,o.firstDisplayedFlightIndex=0,o.addFlightId="addFlight",o.removeFlightId="removeFlight",o.scrollLeftArrowId="tpLeftMove",o.scrollRightArrowId="tpRightMove",o.addFlightLink={},o.removeFlightLink={},o.setVars=function(){o.tripFlightsContainer=$("#tripFlightsContainer"),o.tripFlightTemplateHtml=$("#tripFlightTemplate").text(),o.addFlightLink=this.getById(this.addFlightId),o.removeFlightLink=this.getById(this.removeFlightId),o.scrollLeftArrow=this.getById(this.scrollLeftArrowId),o.scrollRightArrow=this.getById(this.scrollRightArrowId)},o.getPreviousFlightDate=function(t){var e=new Date;return 0<t&&(e=this.flights[t-1].datePickerManager.getDate()),e},o.setJsonOriginToPreviousFlightDestination=function(t,e){var n="";return 0<t&&""!==(n=this.flights[t-1].destinationInput.val())&&(e.origin=n),e},o.setNextFlightDestinationToThisFlightOrigin=function(t){var e=t.index;e<this.flights.length-1&&this.flights[e+1].setOrigin(t.destinationInput.val())},o.addFlightWithIndex=function(t){var e=new F.Class.TripPlannerSearchFlight,n=this.getPreviousFlightDate(t),i=n,a={},r=this.tripPlannerSearch.controlGroupId||"";i.setDate(n.getDate()+this.numberOfDaysApart),a={tripFlightTemplateHtml:F.Util.replace(this.tripFlightTemplateHtml,/\[controlGroupId\]/g,r),tripPlannerSearchFlights:this,index:t,flightDate:i},a=this.setJsonOriginToPreviousFlightDestination(t,a),e.init(a),o.flights[t]=e},o.toggleAddRemoveLinks=function(){var t=this.flights.length;1===t?(this.removeFlightLink.hide(),this.addFlightLink.show()):12===t?(this.removeFlightLink.show(),this.addFlightLink.hide()):(this.removeFlightLink.show(),this.addFlightLink.show())},o.addFlight=function(){var t=this.flights.length;this.addFlightWithIndex(t),this.showLast4Flights(),this.toggleAddRemoveLinks(),this.toggleRemoveFlightLabel(),this.toggleScrollArrows()},o.removeFlight=function(){var t=this.tripPlannerSearch,e=this.flights.length-1;this.flights[e].container.remove(),this.flights.splice(e,1),t&&t.updateRetainedJourneyFareSellKeys(),this.showLast4Flights(),this.toggleAddRemoveLinks(),this.toggleRemoveFlightLabel(),this.toggleScrollArrows()},o.removeSelectedFlight=function(t){var e=this.flights,n=0,i=0;t&&(i=t.index,t.container.remove(),e.splice(t.index,1),n=e.length,this.tripFlightsContainer.hide(),this.reinitializeAndRedrawFlights(),n-i<=4?this.showLast4Flights():i<4?this.show4FlightsFromIndex(0):this.show4FlightsFromIndex(i),this.tripFlightsContainer.show(),this.toggleScrollArrows(),this.toggleRemoveFlightLabel(),this.toggleAddRemoveLinks(),this.flights=e)},o.reinitializeAndRedrawFlights=function(){var t=0,e=this.flights,n={},i=e.length,a=[],r={},s="",o=this.tripPlannerSearch.controlGroupId||"";for(t=0;t<i;t+=1)(n=e[t]).index=t,n.populateFromDom(),r={destination:n.destination,flightDate:n.flightDate,index:n.index,origin:n.origin,tripFlightTemplateHtml:F.Util.replace(n.tripFlightTemplateHtml,/\[controlGroupId\]/g,o),tripPlannerSearchFlights:n.tripPlannerSearchFlights,journeyFareSellKey:n.journeyFareSellKey},a.push(r),s+=n.getHtml();for(this.tripFlightsContainer.html(s),t=0;t<i;t+=1)(n=e[t]).reinitializeFlight(a[t]),e[t]=n;this.flights=e},o.toggleRemoveFlightLabel=function(){var t=this.flights,e=t.length;1<e&&t[0].closeButton.show(),1===e&&t[0].closeButton.hide()},o.addFlightHandler=function(){o.addFlight()},o.removeFlightHandler=function(){o.removeFlight()},o.unselectAll=function(){var t=this.flights.length,e=0;for(e=0;e<t;e+=1)this.flights[e].unselectFlight()},o.parseDate=function(t){var e=t.split("-"),n=e[0],i=e[1],a=e[2];return new Date(n,i-1,a)},o.addFlightFromViewModel=function(t,e){var n=new F.Class.TripPlannerSearchFlight,i=this.tripPlannerSearch.controlGroupId||"",a=e.departureDate,r=this.parseDate(a),s={tripFlightTemplateHtml:F.Util.replace(this.tripFlightTemplateHtml,/\[controlGroupId\]/g,i),tripPlannerSearchFlights:this,index:t,flightDate:r,origin:e.originStation,destination:e.destinationStation,journeyFareSellKey:this.tripPlannerSearch.originalJourneyFareSellKeys[t]||""};n.init(s),o.flights[t]=n},o.selectFirstFlight=function(){var t=this.flights[0];t.selectCurrentFlight(),t.focusOrigin()},o.initFlights=function(){var t=0,e=this.tripPlannerSearch.dateMarkets,n=e.length,i={};for(t=0;t<n;t+=1)i=e[t],this.addFlightFromViewModel(t,i);this.show4FlightsFromIndex(0),this.toggleAddRemoveLinks(),this.toggleScrollArrows(),this.selectFirstFlight()},o.toggleScrollArrows=function(){var t=this.flights.length,e=this.firstDisplayedFlightIndex;t<=4?(this.scrollLeftArrow.hide(),this.scrollRightArrow.hide()):0===e?(this.scrollLeftArrow.hide(),this.scrollRightArrow.show()):e===t-4?(this.scrollLeftArrow.show(),this.scrollRightArrow.hide()):(this.scrollLeftArrow.show(),this.scrollRightArrow.show())},o.scrollLeft=function(){this.show4FlightsFromIndex(this.firstDisplayedFlightIndex-1),this.toggleScrollArrows()},o.scrollRight=function(){var t=this.flights.length;this.show4FlightsFromIndex(this.firstDisplayedFlightIndex+1,t),this.toggleScrollArrows()},o.scrollLeftHandler=function(){o.scrollLeft()},o.scrollRightHandler=function(){o.scrollRight()},o.addEvents=function(){this.addFlightLink.click(this.addFlightHandler),this.removeFlightLink.click(this.removeFlightHandler),this.scrollLeftArrow.click(this.scrollLeftHandler),this.scrollRightArrow.click(this.scrollRightHandler)},o.init=function(t){this.setSettingsByObject(t),this.setVars(),this.initFlights(),this.toggleRemoveFlightLabel(),this.addEvents()},o.show4FlightsFromIndex=function(t,e){var n=e||this.flights.length,i=t+3,a=0;for(a=0;a<n;a+=1)t<=a&&a<=i?this.flights[a].show():this.flights[a].hide();o.firstDisplayedFlightIndex=t},o.showLast4Flights=function(){var t=this.flights.length,e=0;3<t&&(e=t-4,this.show4FlightsFromIndex(e,t))},o.validateDateBounds=function(){var t=0,e=this.flights,n=e.length,i=n-1,a={},r=new Date,s=new Date,o=new Date,l={},u={},d={};for(s.setDate(r.getDate()-1),o.setYear(r.getFullYear()+1),l=s,t=0;t<n;t+=1)a=e[t],0<t&&(l=e[t-1].datePickerManager.getDate()),u=t===i?o:e[t+1].datePickerManager.getDate(),(d=a.datePickerManager).setBeginDateBound(l),d.setEndDateBound(u),d.datePopulate()},o.dontRequireOriginAndDestinationOnFlights=function(){var t=this.flights||[],e=t.length,n=0;for(n=1;n<e;n+=1)t[n].dontRequireOriginAndDestination()},o.firstFlightRequireOriginAndDestination=function(){var t=this.flights[0];this.dontRequireOriginAndDestinationOnFlights(),t.requireOriginAndDestination()},o.clearIncompleteFlights=function(){var t=this.flights,e=t.length,n=0;for(n=0;n<e;n+=1)t[n].clearStationPair()},o},F.Class.TripPlannerSearch=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.controlGroupId="",e.flightSearchJson={},e.flightSearch={},e.tripPlannerSearchDataJson={},e.preferredFareDropDownId="preferredFareDropDown",e.passengerDiscountDropDownId="passengerDiscountDropDown",e.flightContainerIdFormat="tripFlight_[index]",e.tripIsUnavailableIdFormat="tripIsUnavailable_[index]",e.tripHasNoFaresIdFormat="tripHasNoFares_[index]",e.originStationIdFormat="",e.destinationStationIdFormat="",e.lowFareIdFormat="",e.submitButtonId="",e.submitButton={},e.marketDateIdFormat="marketDate_[index]",e.marketDayIdFormat="marketDay_[index]",e.marketMonthYearIdFormat="marketMonthYear_[index]",e.addFlightId="addFlight",e.removeFlightId="removeFlight",e.flightLabelIdFormat="flightNumber_[index]",e.closeFlightButtonIdFormat="closeFlightButton_[index]",e.tripFlights={},e.numberOfDaysApart=4,e.preferredFareDropDown={},e.passengerDiscountDropDown={},e.passengerTypes={},e.passengerTypeDropDowns={},e.fareTypes={},e.tripPlannerHelp=null,e.maximumPassengersPerType=0,e.passengerDiscounts={},e.dateMarkets=[],e.passengerTypesCount=[],e.passengerTypesCountHash={},e.discountCode="",e.preferredFare="",e.residentCountry="",e.originalJourneyFareSellKeys="",e.retainedJourneyFareSellKeysId="retainedJourneyFareSellKeys",e.retainedJourneyFareSellKeys={},e.populatePassengerTypesCountHash=function(){var t=this.passengerTypesCount,e=this.passengerTypesCountHash,n="",i={};for(n in t)t.hasOwnProperty(n)&&(i=t[n],e[n]=i)},e.setVars=function(){this.preferredFareDropDown=this.getById(this.preferredFareDropDownId),this.passengerDiscountDropDown=this.getById(this.passengerDiscountDropDownId),this.submitButton=this.getById(this.submitButtonId),this.retainedJourneyFareSellKeys=this.getById(this.retainedJourneyFareSellKeysId),this.populatePassengerTypesCountHash(),this.originalJourneyFareSellKeys=this.originalJourneyFareSellKeys.split(",")},e.initRetainedJourneyFareSellKeys=function(){var t=this.originalJourneyFareSellKeys||[];this.retainedJourneyFareSellKeys.val(t.join())},e.updateRetainedJourneyFareSellKeys=function(){var t=(this.tripFlights||{}).flights||{},e={},n=t.length||0,i=0,a="";for(i=0;i<n;i+=1)e=t[i],a=""===a?e.journeyFareSellKey:a+","+e.journeyFareSellKey;this.retainedJourneyFareSellKeys.val(a)},e.createPreferredFareDropDownArray=function(){var t=[],e=this.fareTypes||{},n="",i={};for(n in e)e.hasOwnProperty(n)&&(i=e[n],t.push({code:n,name:i.name}));return t},e.populatePreferredFareDropDown=function(){var t=this.createPreferredFareDropDownArray(),e={input:this.preferredFareDropDown,objectArray:t,selectedItem:this.preferredFare};F.Util.populate(e)},e.createPassengerDiscountDropDownArray=function(){var t=[],e=this.passengerDiscounts||{},n="",i={};for(n in e)e.hasOwnProperty(n)&&(i=e[n],t.push({code:n,name:i.name}));return t},e.populateDiscountDropDown=function(){var t=this.createPassengerDiscountDropDownArray(),e={input:this.passengerDiscountDropDown,objectArray:t,selectedItem:this.discountCode};F.Util.populate(e)},e.initFlightSearch=function(){var t=F.Util.setRequiredAttribute;e.flightSearchJson.countryInputIdArray[0].defaultCountry=this.residentCountry,e.flightSearch=new F.Class.FlightSearch,this.flightSearch.init(this.flightSearchJson),t(this.flightSearch.countryInputArray[0].input)},e.createAndPopulateDropDowns=function(){var t={passengerTypes:this.passengerTypes,maximumPassengersPerType:this.maximumPassengersPerType,passengerTypesCountHash:this.passengerTypesCountHash};e.passengerTypeDropDowns=new F.Class.PassengerTypeDropDowns,this.passengerTypeDropDowns.init(t),this.populatePreferredFareDropDown(),this.populateDiscountDropDown()},e.initTripFlights=function(){var t;e.tripFlights=new F.Class.TripPlannerSearchFlights,t={tripPlannerSearch:this,numberOfDaysApart:this.numberOfDaysApart,addFlightId:this.addFlightId,removeFlightId:this.removeFlightId},this.tripFlights.init(t)},e.validateFirstFlight=function(){return this.tripFlights.firstFlightRequireOriginAndDestination(),F.Util.validate(this.submitButton[0])},e.validate=function(){var t;return(t=this.validateFirstFlight())&&this.tripFlights.clearIncompleteFlights(),t},e.validateHandler=function(){return e.validate()},e.addEvents=function(){this.submitButton.click(this.validateHandler)},e.init=function(t){this.setSettingsByObject(t),this.setSettingsByObject(this.tripPlannerSearchDataJson),this.setVars(),this.createAndPopulateDropDowns(),this.initRetainedJourneyFareSellKeys(),this.initFlightSearch(),this.initTripFlights(),this.addEvents(),this.tripPlannerHelp=new F.Class.TripPlannerHelp,this.tripPlannerHelp.init()},e},F.Class.TripPlannerSelect=function(){var t=new F.Class.SkySales,o=F.Util.extendObject(t);return o.tripContainerId="tripContainerId",o.tripContainer=null,o.tripFlightTemplateId="tripFlightTemplateId",o.tripFlightTemplate=null,o.journeyContainerId="tpSelect",o.journeyContainer=null,o.tripJourneyInfoTemplateId="journeyTableTemplateId",o.tripJourneyInfoTemplate=null,o.itinerarySummaryContainerId="tpItinSummary",o.itinerarySummaryContainer=null,o.itineraryTableTemplateId="itineraryTableTemplateId",o.itineraryTableTemplate=null,o.TripAvailabilityResponse={},o.ErrorsOccurred=null,o.leftPageButtonId="tpLeftMove",o.leftPageButton=null,o.rightPageButtonId="tpRightMove",o.rightPageButton=null,o.tripSelectedClass="tpSelectedPanel",o.tripSelectClass="tpSelectPanel",o.radioButtonSelectedClass="checked",o.itineraryJourneyInfoTemplateId="itineraryJourneyInfoTemplate",o.itineraryJourneyInfoTemplate=null,o.itineraryJourneyInfoStripedTemplateId="itineraryJourneyInfoStripedTemplate",o.itineraryJourneyInfoStripedTemplate=null,o.selectViewPricesCurrencyInfoTemplateId="selectViewPricesCurrencyInfoTemplate",o.selectViewPricesCurrencyInfoTemplate=null,o.tripFlightHeaderInfoTemplateId="tripFlightHeaderInfoTemplateId",o.tripFlightHeaderInfoTemplate=null,o.tripFlightHeaderInfoContainerId="tripFlightHeaderInfo",o.tripFlightHeaderInfoContainer=null,o.tripPlannerHelp=null,o.sellKeysInputId="tripPlannerSellKeys",o.sellKeysInput=null,o.JourneyFareSellKeys="",o.schedulesArray=[],o.tripSellKeyArray=[],o.itinerarySummary=null,o.init=function(t){this.setSettingsByObject(t),this.setVars(),this.itinerarySummary=new F.Class.TripPlannerItinerarySummarySelect,this.itinerarySummary.init(),this.itinerarySummary.drawSelectViewItinerarySummary=this.drawItinerarySummaryInfo,this.initSchedulesArray(),this.draw(),this.setVarsAfterDraw(),this.addEvents(),this.selectAndDrawInitialTrip(),this.setVarsAfterDrawSchedulesJourneyInfo(),this.updateSelectedRadioButtons(),this.initSellKeyArray(),this.updateItinerarySummary(),this.drawItinerarySummaryInfo(),this.tripPlannerHelp=new F.Class.TripPlannerHelp,this.tripPlannerHelp.init()},o.setVars=function(){o.tripContainer=this.getById(this.tripContainerId),o.tripFlightTemplate=this.getById(this.tripFlightTemplateId),o.journeyContainer=this.getById(this.journeyContainerId),o.tripJourneyInfoTemplate=this.getById(this.tripJourneyInfoTemplateId),o.itinerarySummaryContainer=this.getById(this.itinerarySummaryContainerId),o.itineraryTableTemplate=this.getById(this.itineraryTableTemplateId),o.leftPageButton=this.getById(this.leftPageButtonId),o.rightPageButton=this.getById(this.rightPageButtonId),o.itineraryJourneyInfoStripedTemplate=this.getById(this.itineraryJourneyInfoStripedTemplateId),o.itineraryJourneyInfoTemplate=this.getById(this.itineraryJourneyInfoTemplateId),o.schedulesArray=this.TripAvailabilityResponse.Schedules||[],o.sellKeysInput=this.getById(this.sellKeysInputId),o.selectViewPricesCurrencyInfoTemplate=this.getById(this.selectViewPricesCurrencyInfoTemplateId),o.tripFlightHeaderInfoTemplate=this.getById(this.tripFlightHeaderInfoTemplateId),o.tripFlightHeaderInfoContainer=this.getById(this.tripFlightHeaderInfoContainerId)},o.initSchedulesArray=function(){this.JourneyFareSellKeys=this.JourneyFareSellKeys.split(",");var t=0,e=this.TripAvailabilityResponse.Schedules||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=new F.Class.Schedule).index=t,i.deactivateAllSchedules=this.deactivateAllSchedules,i.updateTripSellKeyArray=this.updateTripSellKeyArray,i.updateItinerarySummary=this.updateItinerarySummary,void 0!==this.JourneyFareSellKeys[t]&&(i.journeyFareSellKey=this.JourneyFareSellKeys[t]),i.updateTrips=this.updateTripsHandler,t<4&&(i.isShowing=!0),i.init(e[t]),e[t]=i},o.setVarsAfterDraw=function(){var t=0,e=this.schedulesArray||[],n=e.length;for(t=0;t<n;t+=1)e[t].setVarsAfterDraw()},o.setVarsAfterDrawSchedulesJourneyInfo=function(){var t=0,e=this.schedulesArray||[],n=e.length,i=null;for(t=0;t<n;t+=1)!0===(i=e[t]).selected&&(i.container.removeClass(this.tripSelectClass),i.container.addClass(this.tripSelectedClass))},o.addEvents=function(){o.addTripContainerEvents();var t=0,e=this.schedulesArray||[],n=e.length;for(t=0;t<n;t+=1)e[t].addEvents()},o.addTripContainerEvents=function(){this.tripContainer.click(this.updateTripContainerHandler),this.leftPageButton.click(this.updateTripsLeftHandler),this.rightPageButton.click(this.updateTripsRightHandler)},o.updateTripsLeftHandler=function(){var t=0,e=-1,n=o.schedulesArray||[],i=n.length,a=null,r=-1,s=-1;if(4<i){for(t=i-1;-1<t;t-=1)!0===(a=n[t]).isShowing&&(e=t);if((t=0)<e&&null!=n[e-1]){for(s=e-1,r=e+3,t=0;t<i;t+=1)(a=n[t]).isShowing=!1,a.selected=!1;for(t=s;t<r;t+=1)a=n[t],t===s&&(a.selected=!0),a.isShowing=!0;o.tripContainer.empty(),o.drawTripsInfo(),o.drawTripHeaderInfo(),o.setVarsAfterDraw(),o.addEvents(),o.drawScheduleJourneysInfo(),o.setVarsAfterDrawSchedulesJourneyInfo(),o.updateSelectedRadioButtons()}}},o.updateTripsRightHandler=function(){var t=0,e=-1,n=o.schedulesArray||[],i=n.length,a=null,r=-1,s=-1;if(4<i){for(t=0;t<i;t+=1)!0===(a=n[t]).isShowing&&(e=t);if(t=0,e<12&&null!=n[e+1]){for(s=(r=e+1)-3,t=0;t<i;t+=1)(a=n[t]).isShowing=!1,a.selected=!1;for(t=s;t<=r;t+=1)a=n[t],t===r&&(a.selected=!0),a.isShowing=!0;o.tripContainer.empty(),o.drawTripsInfo(),o.drawTripHeaderInfo(),o.setVarsAfterDraw(),o.addEvents(),o.drawScheduleJourneysInfo(),o.setVarsAfterDrawSchedulesJourneyInfo(),o.updateSelectedRadioButtons()}}},o.updateTripContainerHandler=function(){var t=0,e=o.schedulesArray||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=e[t]).container.removeClass(o.tripSelectedClass),i.container.addClass(o.tripSelectClass),!0===i.selected&&(i.container.removeClass(o.tripSelectClass),i.container.addClass(o.tripSelectedClass),o.journeyContainer.empty(),o.drawScheduleJourneysInfo(),o.updateSelectedRadioButtons())},o.deactivateAllSchedules=function(){var t=0,e=o.schedulesArray||[],n=e.length;for(t=0;t<n;t+=1)e[t].selected=!1},o.selectAndDrawInitialTrip=function(){var t=0,e=this.schedulesArray||[],n=e.length,i=null;for(t=0;t<n;t+=1)i=e[t],0===t&&(i.selected=!0);o.drawScheduleJourneysInfo()},o.getTripsHeaderInfoHtml=function(){var t="",e=0,n=-1,i=-1,a=this.schedulesArray||[],r=a.length;for(e=0;e<r;e+=1)!0===a[e].isShowing&&(-1===n&&(n=e+1),i=e+1);return t=this.tripFlightHeaderInfoTemplate.text(),t=F.Util.replace(t,/\[firstShowingFligt\]/g,n),t=F.Util.replace(t,/\[lastShowingFlight\]/g,i),t=F.Util.replace(t,/\[totalNumberOfFlights\]/g,r)},o.getTripsHtml=function(){var t="",e="",n=0,i=this.schedulesArray||[],a=i.length,r=null;for(n=0;n<a;n+=1)!0===(r=i[n]).isShowing&&(t+=this.tripFlightTemplate.text(),e=r.getTripsHtml(),t=F.Util.replace(t,/\[tripFlightInfo\]/g,e),t=F.Util.replace(t,/\[index\]/g,n+1));return t},o.getJourneyHtml=function(){var t="",e="",n=0,i="",a=this.schedulesArray||[],r=a.length,s=null;for(n=0;n<r;n+=1)!0===(s=a[n]).selected&&(t=this.tripJourneyInfoTemplate.text(),e+=s.getJourneyHtml(),i="trip"+n,e=F.Util.replace(e,/\[radioButtonIdTrip\]/g,i),e=F.Util.replace(e,/\[radioGroupName\]/g,i),t=F.Util.replace(t,/\[jouneyInfoAndFares\]/,e));return t},o.getItineraryHtml=function(){var t=this.itineraryTableTemplate.text(),e=0,n=this.itinerarySummary.getSelectViewItineraryJourneysHtml(),i=this.itinerarySummary.getSelectViewItineraryAllPassengerFeesHtml(),a=this.selectViewPricesCurrencyInfoTemplate.text();return t=F.Util.replace(t,/\[itinerarySummaryBody\]/,n),t=F.Util.replace(t,/\[allPassengerFees\]/,i),null!==this.itinerarySummary.Booking&&null!==this.itinerarySummary.Booking.BookingPricing?(e=F.Util.convertToLocaleCurrency(this.itinerarySummary.Booking.BookingPricing.TotalBookingPrice),a=F.Util.replace(a,/\[totalPrice\]/,e),a=F.Util.replace(a,/\[currencyName\]/,this.itinerarySummary.Booking.BookingPricing.CurrencyDescription)):a=F.Util.replace(a,/\[totalPrice\]/,""),t=F.Util.replace(t,/\[pricesCurrencyInfo\]/,a)},o.draw=function(){o.drawTripsInfo(),o.drawTripHeaderInfo()},o.drawScheduleJourneysInfo=function(){var t=o.getJourneyHtml(),e=0,n=this.schedulesArray||[],i=n.length,a=null;for(o.journeyContainer.html(t),e=0;e<i;e+=1)(a=n[e]).setVarsAfterDraw("radioInput_trip"+e),a.addEventsAfterDraw();F.common&&F.common.stripeTables()},o.drawTripHeaderInfo=function(){var t=this.getTripsHeaderInfoHtml();this.tripFlightHeaderInfoContainer.html(t)},o.drawTripsInfo=function(){var t=this.getTripsHtml();this.tripContainer.html(t)},o.drawItinerarySummaryInfo=function(){var t=o.getItineraryHtml();o.itinerarySummaryContainer.html(t),F.common&&F.common.stripeTables()},o.updateSelectedRadioButtons=function(){var t=0,e="",n=null,i=o.schedulesArray||[],a=i.length,r=null;for(t=0;t<a;t+=1)if(!0===(r=i[t]).selected){e="radioInput_trip"+t+r.getSelectedTripJourneyFare();break}null!==(n=this.getById(e))&&n.attr(this.radioButtonSelectedClass,this.radioButtonSelectedClass)},o.initSellKeyArray=function(){var t=0,e="",n=o.schedulesArray||[],i=n.length;for(t=0;t<i;t+=1)e=n[t].getSelectedJourneyFareSellKey(),o.tripSellKeyArray[t]=e;o.sellKeysInput.value=this.tripSellKeyArray.toString(),o.sellKeysInput.val(this.tripSellKeyArray.toString()),this.itinerarySummary.sellKeys.val(this.tripSellKeyArray.toString())},o.updateItinerarySummary=function(){o.itinerarySummary.getPriceItineraryResponse(o.tripSellKeyArray.toString())},o.updateTripSellKeyArray=function(t,e){void 0!==o.tripSellKeyArray[t]&&(o.tripSellKeyArray[t]=e,o.sellKeysInput.value="",o.sellKeysInput.value=o.tripSellKeyArray.toString(),o.sellKeysInput.val(o.tripSellKeyArray.toString()))},o.updateTripsHandler=function(){o.updateTrips()},o.updateTrips=function(){this.drawTripsInfo();var t=0,e=o.schedulesArray||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=e[t]).setVarsAfterDraw(),!0===i.selected&&(i.container.removeClass(o.tripSelectClass),i.container.addClass(o.tripSelectedClass));this.addEvents()},o},F.Class.Schedule=function(){var t=new F.Class.SkySales,r=F.Util.extendObject(t);return r.JourneyDateMarketList=null,r.index=-1,r.selected=!1,r.isShowing=!1,r.containerId="",r.container=null,r.deactivateAllSchedules=null,r.journeyItinerarySummaryInfoTemplateId="journeyItinerarySummaryInfoTemplate",r.allPassengerFeesItinerarySummaryInfoTemplateId="allPassengerFeesItinerarySummaryInfoTemplate",r.journeyItinerarySummaryInfoTemplate=null,r.updateTripSellKeyArray=null,r.updateItinerarySummary=null,r.updateTrips=null,r.journeyFareSellKey="",r.tripUnavailableTextId="tripUnavailableErrorText",r.tripUnavailableText="",r.tripHasNoFaresTextId="tripHasNoFaresErrorText",r.tripHasNoFaresText="",r.init=function(t){this.setSettingsByObject(t),this.initJourneyDateMarketListArray(),this.setVars()},r.initJourneyDateMarketListArray=function(){var t=0,e=this.JourneyDateMarketList||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=new F.Class.JourneyDateMarketList).updateTripSellKeyArray=this.updateTripSellKeyArray,i.updateItinerarySummary=this.updateItinerarySummary,i.updateTrips=this.updateTrips,i.selectedJourneyFareSellKey=this.journeyFareSellKey,i.tripIndex=this.index,i.init(e[t]),e[t]=i},r.setVars=function(){var t={},e={};r.journeyItinerarySummaryInfoTemplate=this.getById(this.journeyItinerarySummaryInfoTemplateId),r.allPassengerFeesItinerarySummaryInfoTemplate=this.getById(this.allPassengerFeesItinerarySummaryInfoTemplateId),0<(t=this.getById(this.tripUnavailableTextId)).length&&(r.tripUnavailableText=t.text()),0<(e=this.getById(this.tripHasNoFaresTextId)).length&&(r.tripHasNoFaresText=e.text())},r.setVarsAfterDraw=function(t){var e=this.index+1,n=0,i=this.JourneyDateMarketList||[],a=i.length;for(r.containerId="tripFlightContainer"+e,r.container=this.getById(this.containerId),n=0;n<a;n+=1)i[n].setVarsAfterDraw(t)},r.addEvents=function(){this.container.click(this.updateScheduleSelectionHandler)},r.addEventsAfterDraw=function(){var t=this.index+1,e=0,n=this.JourneyDateMarketList||[],i=n.length;for(r.containerId="tripFlightContainer"+t,r.container=this.getById(this.containerId),e=0;e<i;e+=1)n[e].addEventsAfterDraw()},r.updateScheduleSelectionHandler=function(){null!==r.deactivateAllSchedules&&r.deactivateAllSchedules(),r.selected=!0},r.getSelectedTripJourneyFare=function(){var t=0,e="",n=this.JourneyDateMarketList||[],i=n.length;for(t=0;t<i;t+=1)e=n[t].getSelectedJourneyFare();return e},r.getSelectedJourneyFareSellKey=function(){var t=0,e="",n=this.JourneyDateMarketList||[],i=n.length;for(t=0;t<i;t+=1)e=n[t].getSelectedJourneyFareSellKey();return e},r.getTripsHtml=function(){var t=r.JourneyDateMarketList[0];return void 0===t?this.tripUnavailableText:t.hasFares()?t.getTripsHtml():this.tripHasNoFaresText},r.getJourneyHtml=function(){var t=0,e="",n=this.JourneyDateMarketList||[],i=n.length,a=null;for(t=0;t<i;t+=1)e+=(a=n[t]).getJourneyHtml(),a.selectJourneys();return e},r.getItineraryHtml=function(){var t=0,e="",n="",i=this.JourneyDateMarketList||[],a=i.length,r=0,s=[],o=0,l=null;for(t=0;t<a;t+=1)for(r=0,o=(s=i[t].Journeys||[]).length,l=null,r=0;r<o;r+=1)!0===(l=s[r]).selected&&(e=this.journeyItinerarySummaryInfoTemplate.text(),e=F.Util.replace(e,/\[stationPair\]/,l.DepartureStation+" to "+l.ArrivalStation),e=F.Util.replace(e,/\[deptArriveTimes\]/,l.DepartureDate.date.toTimeString()+" to "+l.ArrivalDate.date.toTimeString()),e=F.Util.replace(e,/\[flightDesignator\]/,l.FlightDesignator),n=e=F.Util.replace(e,/\[journeyDate\]/,l.DepartureDate.date.toDateString()));return n},r},F.Class.JourneyDateMarketList=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.ArrivalStation="",e.DepartureDate="",e.DepartureStation="",e.Journeys=[],e.journeyTableInfoTemplateId="journeyTableInfoTemplateId",e.journeyTableInfoTemplate=null,e.journeyTableInfoStripedTemplateId="journeyTableInfoStripedTemplateId",e.journeyTableInfoStripedTemplate=null,e.updateTripSellKeyArray=null,e.updateItinerarySummary=null,e.updateTrips=null,e.selectedJourneyFareSellKey="",e.selectedJourneyKey="",e.selectedFareKey="",e.tripIndex=0,e.tripFlightInfoTemplateId="tripFlightInfoTemplateId",e.tripFlightInfoTemplate={},e.init=function(t){e.setSettingsByObject(t),e.initSelectedSellKeys(),e.initJourneysArray(),e.setVars(),e.selectJourneys()},e.initSelectedSellKeys=function(){0<this.selectedJourneyFareSellKey.length&&(this.selectedJourneyFareSellKey=this.selectedJourneyFareSellKey.split("|"),void 0!==this.selectedJourneyFareSellKey[1]&&(this.selectedJourneyKey=this.selectedJourneyFareSellKey[1]),void 0!==this.selectedJourneyFareSellKey[0]&&(this.selectedFareKey=this.selectedJourneyFareSellKey[0]))},e.initJourneysArray=function(){var t=0,e=this.Journeys||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=new F.Class.JourneyDateMarket).updateTripSellKeyArray=this.updateTripSellKeyArray,i.updateItinerarySummary=this.updateItinerarySummary,i.updateTrips=this.updateTrips,i.selectedFareKey=this.selectedFareKey,i.updateSelectedJourney=this.updateSelectedJourneyHandler,i.tripIndex=this.tripIndex,i.journeyIndex=t,i.init(e[t]),e[t]=i},e.setVars=function(){e.tripFlightInfoTemplate=this.getById(this.tripFlightInfoTemplateId),e.journeyTableInfoTemplate=this.getById(this.journeyTableInfoTemplateId),e.journeyTableInfoStripedTemplate=this.getById(this.journeyTableInfoStripedTemplateId)},e.setVarsAfterDraw=function(t){var e=0,n=this.Journeys||[],i=n.length;for(e=0;e<i;e+=1)n[e].setVarsAfterDraw(t+"journey"+e)},e.addEventsAfterDraw=function(){var t=0,e=this.Journeys||[],n=e.length;for(t=0;t<n;t+=1)e[t].addEventsAfterDraw()},e.getTripsHtml=function(){var t=this.Journeys[0],e=0,n=this.Journeys||[],i=n.length,a=null,r=-1,s=this.tripFlightInfoTemplate.text()||"",o="",l={},u={},d={};for(e=0;e<i;e+=1)!0===(a=n[e]).selected&&(t=a);if(t&&t.Segments){for(r=t.Segments.length,s=F.Util.replace(s,/\[departureStation\]/g,t.Segments[0].DepartureStation),s=F.Util.replace(s,/\[departureTime\]/g,t.Segments[0].Std.getTime()),s=F.Util.replace(s,/\[arrivalStation\]/g,t.Segments[r-1].ArrivalStation),s=F.Util.replace(s,/\[arrivalTime\]/g,t.Segments[r-1].Sta.getTime()),d=(u=t.Segments[0]||{}).FlightDesignator||{},(l=new F.Class.Leg).init(u.Legs[0]),o=d.getFlightDesignator()+l.getOperatingDisclosureTypeToolTip()+l.getCodeShareTypeToolTip()+u.getSubjToGovtApprovalSuperscript(),s=F.Util.replace(s,/\[departureDate\]/,$.datepicker.formatDate(u.fullDateFormatString,u.Std.date)),e=1;e<r;e+=1)d=(u=t.Segments[e]||{}).FlightDesignator||{},(l=new F.Class.Leg).init(u.Legs[0]),o=o+"/"+d.getFlightDesignator()+l.getOperatingDisclosureTypeToolTip()+l.getCodeShareTypeToolTip()+u.getSubjToGovtApprovalSuperscript();return s=F.Util.replace(s,/\[flightNumber\]/,o)}},e.selectJourneys=function(){var t=0,e=-1,n=-1,i=this.Journeys||[],a=i.length,r=null;if(0<this.selectedJourneyKey.length)for(t=0;t<a;t+=1)(r=i[t]).SellKey===this.selectedJourneyKey&&(r.selected=!0,r.selectedFareKey=this.selectedFareKey,!1===r.selectPreselectedFare()&&r.getLowestFare());if(!1===this.journeyIsSelected())for(t=0;t<a;t+=1)(r=i[t]).getLowestFare()<e&&-1<r.getLowestFare()?(e=r.getLowestFare(),n=t):-1===e&&-1<r.getLowestFare()&&(e=r.getLowestFare(),n=t),t===a-1&&-1<e&&((r=i[n]).selected=!0,i[n]=r)},e.journeyIsSelected=function(){var t=0,e=!1,n=this.Journeys||[],i=n.length;for(t=0;t<i;t+=1)if(!0===n[t].selected){e=!0;break}return e},e.hasFares=function(){var t,e=!1,n=this.Journeys||[],i=n.length||0;for(t=0;t<i;t+=1)if(n[t].hasFares()){e=!0;break}return e},e.getSelectedJourneyFare=function(){var t=0,e=-1,n=-1,i=this.Journeys||[],a=i.length,r=null;for(t=0;t<a;t+=1)if(!0===(r=i[t]).selected){n=t,e=r.getSelectedPaxFaresIndex();break}return"journey"+n+"fare"+e},e.getSelectedJourneyFareSellKey=function(){var t=0,e="",n="",i=this.Journeys||[],a=i.length,r=null;for(t=0;t<a;t+=1)if(!0===(r=i[t]).selected){e=r.SellKey,n=r.getSelectedPaxFaresSellKey();break}return n+"|"+e},e.updateSelectedJourneyHandler=function(t){e.updateSelectedJourney(t)},e.updateSelectedJourney=function(t){this.deactivateAllJourneys();var e=0,n=this.Journeys||[],i=n.length,a=null;for(e=0;e<i;e+=1)if(a=n[e],t===e){a.selected=!0;break}},e.deactivateAllJourneys=function(){var t=0,e=this.Journeys||[],n=e.length;for(t=0;t<n;t+=1)e[t].selected=!1},e.getJourneyHtml=function(){var t=0,e="",n="",i="",a="",r=this.Journeys||[],s=r.length,o=null,l="",u="",d=[],h=-1,c="",p=this.tripIndex;for(t=0;t<s;t+=1)o=r[t],e=t%2!=0?this.journeyTableInfoTemplate.text():this.journeyTableInfoStripedTemplate.text(),h=(d=o.Segments).length,d&&0<h&&(l=o.Segments[0].Std.getTime(),u=o.Segments[h-1].Sta.getTime()),e=F.Util.replace(e,/\[departureTime\]/,l),e=F.Util.replace(e,/\[arrivalTime\]/,u),e=F.Util.replace(e,/\[flightDesignator\]/,o.FlightDesignator),e=F.Util.replace(e,/\[journeyType\]/,o.JourneyType),c=o.getJourneyDetailsHtml(),e=F.Util.replace(e,/\[journeyDetails\]/,c),i=o.getFareInfoHtml(),e=F.Util.replace(e,/\[fareInfo\]/,i),e=F.Util.replace(e,/\[journeySellKey\]/g,o.SellKey),e=F.Util.replace(e,/\[tripIndex\]/,p),e=F.Util.replace(e,/\[journeyIndex\]/,t),a="journey"+t,n+=e=F.Util.replace(e,/\[radioButtonIdJourney\]/g,a);return n},e},F.Class.JourneyDateMarket=function(){var t=new F.Class.SkySales,p=F.Util.extendObject(t);return p.JourneyFares=[],p.NotForGeneralUse="",p.Segments=[],p.ArrivalStation="",p.DepartureDate="",p.ArrivalDate="",p.DepartureStation="",p.JourneyType="",p.SalesDate="",p.SellKey="",p.FlightDesignator="",p.selected=!1,p.updateTripSellKeyArray=null,p.updateItinerarySummary=null,p.updateSelectedJourney=null,p.updateTrips=null,p.journeyDetailsTemplate={},p.journeyDetailsTemplateId="journeyDetailsTemplate",p.selectedFareKey="",p.journeyIndex=0,p.tripIndex=0,p.init=function(t){this.setSettingsByObject(t),this.initSegmentsArray(),this.initJourneyFares(),this.addCodeShareIndicators(),this.initDates(),this.setVars()},p.initJourneyFares=function(){var t=0,e=this.JourneyFares||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=new F.Class.JourneyPaxFares).updateTripSellKeyArray=this.updateTripSellKeyArray,i.updateItinerarySummary=this.updateItinerarySummary,i.updateSelectedJourney=this.updateSelectedJourney,i.updateSelectedFare=this.updateSelectedFareHandler,i.updateTrips=this.updateTrips,i.init(e[t]),e[t]=i},p.initDates=function(){var t=F.Class.STASTD(),e=F.Class.STASTD();t.init(this.DepartureDate),p.DepartureDate=t,e.init(this.DepartureDate),p.ArrivalDate=e},p.initSegmentsArray=function(){var t=0,e=this.Segments||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=new F.Class.Segment).init(e[t]),e[t]=i},p.setVarsAfterDraw=function(t){var e=0,n=this.JourneyFares||[],i=n.length;for(e=0;e<i;e+=1)n[e].setVarsAfterDraw(t+"fare"+e)},p.journeyInfoJson=function(){var t,e=this.journeyIndex,n=this.tripIndex,i={tripIndex:n,marketIndex:"0",dateMarketIndex:"0",journeyIndex:e,key:n.toString()+"_0_0_"+e.toString(),activateJourneyId:"activateJourney_"+n+"_"+e,deactivateJourneyId:"deactivateJourney_"+n+"_"+e,journeyContainerId:"journey_"+n+"_"+e},a=0,r=0,s=null,o=null,l=null,u=[],d=0;for(t=this.Segments,a=0;a<t.length;a+=1)for(s=t[a],r=0;r<s.Legs.length;r+=1)(l=(o=s.Legs[r]).LegInfo)&&(u[d]={legIndex:d,equipmentType:l.EquipmentType,equipmentTypeSuffix:l.EquipmentTypeSuffix,departureStation:s.DepartureStation,arrivalStation:s.ArrivalStation,carrierCode:o.FlightDesignator.CarrierCode,flightNumber:o.FlightDesignator.FlightNumber,opSuffix:l.OperatingOpSuffix,marketingCode:"",marketingOverride:!1}),d+=1;return i.legInfoArray=u,i},p.addEventsAfterDraw=function(){var t=0,e=this.JourneyFares||[],n=e.length,i=new F.Class.JourneyInfo,a=this.journeyInfoJson();for(i.init(a),t=0;t<n;t+=1)e[t].addEventsAfterDraw()},p.setVars=function(){this.journeyDetailsTemplate=this.getById(this.journeyDetailsTemplateId)},p.selectPreselectedFare=function(){var t=!1,e=0,n=[],i=0,a=null;if(!0===this.selected&&0<this.selectedFareKey.length)for(e=0,i=(n=this.JourneyFares||[]).length,a=null,e=0;e<i;e+=1)if((a=n[e]).SellKey===this.selectedFareKey){t=a.selected=!0;break}return t},p.hasFares=function(){var t,e=this.JourneyFares,n=e.length,i=!1;for(t=0;t<n;t+=1)if(0<(e[t].JourneyPaxFares||[]).length){i=!0;break}return i},p.getLowestFare=function(){var t=0,e=-1,n=-1,i=this.JourneyFares||[],a=i.length,r=null;for(t=0;t<a;t+=1)r=i[t],0===t?(e=r.getLowestFare(),n=t):r.getLowestFare<e&&(e=r.getLowestFare(),n=t),t===a-1&&-1<e&&((r=i[n]).selected=!0);return e},p.getSelectedPaxFaresIndex=function(){var t=0,e=-1,n=this.JourneyFares||[],i=n.length;for(t=0;t<i;t+=1)if(!0===n[t].selected){e=t;break}return e},p.getSelectedPaxFaresSellKey=function(){var t=0,e=-1,n=this.JourneyFares||[],i=n.length,a=null;for(t=0;t<i;t+=1)if(!0===(a=n[t]).selected){e=a.SellKey;break}return e},p.updateSelectedFareHandler=function(t){p.updateSelectedFare(t)},p.updateSelectedFare=function(t){this.deactivateAllFares();var e=0,n=this.JourneyFares||[],i=n.length,a=null;for(e=0;e<i;e+=1)if(a=n[e],e===t){a.selected=!0;break}},p.deactivateAllFares=function(){var t=0,e=this.JourneyFares||[],n=e.length;for(t=0;t<n;t+=1)e[t].selected=!1},p.addCodeShareIndicators=function(){var t=(this.FlightDesignator||"").split("/")||[],e=t.length,n="",i=this.Segments||[],a=i.length,r={},s={},o=0,l=[],u=(l.length,{}),d={},h={},c="";if(e&&e===a)for(o=0;o<a;o+=1)n=(n=t[o]||" ").substring(0,n.length-1),r=i[o]||{},(s=new F.Class.Segment).init(r),(l=r.Legs||[]).length,u=l[0]||{},(d=new F.Class.Leg).init(u),(h=u.FlightDesignator||{}).CarrierCode+h.FlightNumber!==n&&F.Util.replace(h.FlightNumber,/ /g,"")!==n||(c=c+n+d.getOperatingDisclosureTypeToolTip()+d.getCodeShareTypeToolTip()+s.getSubjToGovtApprovalSuperscript(),1<a&&a-1!==o&&(c+=" /"));p.FlightDesignator=c},p.getJourneyDetailsHtml=function(){var t="",e=this.journeyDetailsTemplate.text(),n=this.Segments,i=0,a=[],r={},s={},o=0,l=0,u=0;if(n&&0<(i=n.length))for(l=0;l<i;l+=1)if((a=n[l].Legs)&&0<(o=a.length))for(u=0;u<o;u+=1)r=a[u],(s=new F.Class.Leg).init(r),t+=s.getLegHtml();return e=F.Util.replace(e,/\[segmentDetails\]/g,t),e=F.Util.replace(e,/\[tripIndex\]/g,this.tripIndex),e=F.Util.replace(e,/\[journeyIndex\]/g,this.journeyIndex)},p.getFareInfoHtml=function(){var t=0,e="",n="",i=this.JourneyFares||[],a=i.length;for(t=0;t<a;t+=1)e+=i[t].getFareInfoHtml(),n="fare"+t,e=F.Util.replace(e,/\[radioButtonIdFare\]/g,n);return e},p},F.Class.JourneyPaxFares=function(){var t=new F.Class.SkySales,r=F.Util.extendObject(t);return r.JourneyPaxFares=[],r.ClassOfService="",r.Amount="",r.SellKey="",r.journeyFareInfoRadioButtonTemplateId="journeyFareInfoRadioButtonTemplateId",r.journeyFareInfoRadioButtonTemplate=null,r.containerId="",r.container=null,r.selected=!1,r.updateTripSellKeyArray=null,r.updateItinerarySummary=null,r.updateSelectedJourney=null,r.updateSelectedFare=null,r.updateTrips=null,r.init=function(t){r.setSettingsByObject(t),r.initJourneyPaxFares(),r.setVars()},r.initJourneyPaxFares=function(){var t=0,e=this.JourneyPaxFares||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=new F.Class.JourneyPaxFare).init(e[t]),e[t]=i},r.setVars=function(){this.journeyFareInfoRadioButtonTemplate=this.getById(this.journeyFareInfoRadioButtonTemplateId)},r.setVarsAfterDraw=function(t){this.container=this.getById(t)},r.addEventsAfterDraw=function(){this.container.click(this.fareClickHandler)},r.fareClickHandler=function(t){var e=t.target.value,n=-1,i=-1,a=-1;n=(n=(n=t.target.id.match(/trip[0-9]*/))[0].match(/\d+/))[0],n=parseInt(n,10),i=(i=(i=t.target.id.match(/journey[0-9]*/))[0].match(/\d+/))[0],i=parseInt(i,10),a=(a=(a=t.target.id.match(/fare[0-9]*/))[0].match(/\d+/))[0],a=parseInt(a,10),r.updateTripSellKeyArray(n,e),r.updateItinerarySummary(),r.updateSelectedJourney(i),r.updateSelectedFare(a),r.updateTrips()},r.getLowestFare=function(){var t=0,e=-1,n=this.JourneyPaxFares||[],i=n.length,a=null;if(0<i)for(t=0;t<i;t+=1)a=n[t],0===t&&-1<a.TotalFareAmount?e=a.TotalFareAmount:a.TotalFareAmount<e&&(e=a.TotalFareAmount);return e},r.getFareInfoHtml=function(){var t=0,e=0,n="",i="",a=this.JourneyPaxFares||[],r=a.length,s=null;for(t=0;t<r;t+=1)s=a[t],n=this.journeyFareInfoRadioButtonTemplate.text(),e=F.Util.convertToLocaleCurrency(s.TotalFareAmount),n=F.Util.replace(n,/\[farePrice\]/,e),i+=n=F.Util.replace(n,/\[fareSellKey\]/,this.SellKey),t=r;return i},r},F.Class.JourneyPaxFare=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.CurrencyCode="",e.DiscountedFareAmount="",e.Amount="",e.PaxType="",e.TotalFareAmount="",e.PublishedFareAmount="",e.PaxDiscountCode="",e.init=function(t){this.setSettingsByObject(t)},e},F.Class.Segment=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.ArrivalStation="",e.Sta="",e.DepartureStation="",e.Std="",e.FlightDesignator=null,e.fullDateFormatString="D, M dd, yy",e.Legs={},e.init=function(t){this.setSettingsByObject(t),this.initSta(),this.initStd(),this.initFlightDesignator()},e.initFlightDesignator=function(){var t=F.Class.FlightDesignator();t.init(this.FlightDesignator),e.FlightDesignator=t},e.initSta=function(){var t=F.Class.STASTD();t.init(this.Sta),this.Sta=t},e.initStd=function(){var t=F.Class.STASTD();t.init(this.Std),this.Std=t},e.getSubjToGovtApprovalSuperscript=function(){var t=this.Legs||[],e=t.length,n=0,i="";for(n=0;n<e;n+=1)if("True"===(t[n].LegInfo||{}).SubjectToGovtApproval){i=this.getById("subjToGovtApprovalToolTipTemplate").text();break}return i},e},F.Class.Leg=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.legTemplateId="legDetailsTemplate",e.legTemplate=null,e.layoverTimeTemplateId="layoverTimeTemplate",e.layoverTimeTemplate=null,e.optCarrierInfoTemplateId="optCarrierDisclosureTemplate",e.optCarrierInfoTemplate=null,e.ArrivalStation="",e.DepartureStation="",e.FlightDesignator={},e.Sta={},e.Std={},e.OperationsInfo={},e.LegInfo={},e.TravelTime={},e.LayoverTime={},e.fullDateFormatString="D, M dd, yy",e.init=function(t){this.setSettingsByObject(t),this.initSta(),this.initStd(),this.initFlightDesignator(),this.setVars()},e.setVars=function(){this.legTemplate=this.getById(this.legTemplateId),this.layoverTimeTemplate=this.getById(this.layoverTimeTemplateId),this.optCarrierInfoTemplate=this.getById(this.optCarrierInfoTemplateId)},e.initFlightDesignator=function(){var t=F.Class.FlightDesignator();t.init(this.FlightDesignator),e.FlightDesignator=t},e.initSta=function(){var t=F.Class.STASTD();t.init(this.Sta),e.Sta=t},e.initStd=function(){var t=F.Class.STASTD();t.init(this.Std),e.Std=t},e.getLayoverTimeHtml=function(){var t="",e=this.LayoverTime,n=e.Hours,i=e.Minutes;return(0<n||0<i)&&(t=this.layoverTimeTemplate.text(),t=F.Util.replace(t,/\[layoverTimeHours\]/g,n),t=F.Util.replace(t,/\[layoverTimeMinutes\]/g,i)),t},e.getLegHtml=function(){var t=this.legTemplate.text(),e=this.FlightDesignator,n=e.CarrierCode,i=F.Resource||{},a=(i.carrierHash[n]||{}).name||"",r=i.stationHash,s=r[this.DepartureStation].name,o=r[this.ArrivalStation].name;return t=F.Util.replace(t,/\[carrierName\]/g,a),t=F.Util.replace(t,/\[flightNumber\]/g,e.FlightNumber),t=F.Util.replace(t,/\[departureDate\]/,$.datepicker.formatDate(this.fullDateFormatString,this.Std.date)),t=F.Util.replace(t,/\[departureStation\]/g,s),t=F.Util.replace(t,/\[departureTime\]/g,this.Std.getTime()),t=F.Util.replace(t,/\[arrivalStation\]/g,o),t=F.Util.replace(t,/\[arrivalTime\]/g,this.Sta.getTime()),t=F.Util.replace(t,/\[travelTimeHours\]/g,this.TravelTime.Hours),t=F.Util.replace(t,/\[travelTimeMinutes\]/g,this.TravelTime.Minutes),t=F.Util.replace(t,/\[layoverTime\]/g,this.getLayoverTimeHtml()),t=F.Util.replace(t,/\[optDisclosureSymbol\]/g,this.getOperatingInfoSymbol()),t=F.Util.replace(t,/\[optDisclosureType\]/g,this.getCodeShareSymbol()),t=F.Util.replace(t,/\[optCarrierDisclosure\]/g,this.getOptDisclosureText())},e.getOptDisclosureText=function(){var t=this.optCarrierInfoTemplate||"",e=this.LegInfo||{},n=F.Resource||{},i=e.OperatingCarrier||"",a=(n.carrierHash[i]||{}).name||i,r=e.OperatingFlightNumber,s=r.length,o="";return i&&!(o=e.OperatedByText)&&a&&(o=t.text(),o=F.Util.replace(o,/\[optCarrierName\]/g,a),o=F.Util.replace(o,/\[optCarrierCode\]/g,i),o=F.Util.replace(o,/\[optFlightNumber\]/g,r),!r||0<s&&" "===r.charAt(s-1)?o=o.substring(0,o.indexOf("[")):(o=F.Util.replace(o,/\[/g,""),o=F.Util.replace(o,/\]/g,""))),o},e.getOperatingInfoSymbol=function(){var t="";return((this.LegInfo||{}).OperatingCarrier||"")&&(t=String.fromCharCode(42)),t},e.getCodeShareSymbol=function(){var t=(this.LegInfo||{}).CodeShareIndicator||"",e="";return"L"===t.toUpperCase()&&(e=String.fromCharCode(8225)),"S"===t.toUpperCase()&&(e=String.fromCharCode(8224)),e},e.getCodeShareTypeToolTip=function(){var t=(this.LegInfo||{}).CodeShareIndicator||"",e="";return"L"===t.toUpperCase()&&(e=this.getById("codeShareToolTipTemplate").text()),"S"===t.toUpperCase()&&(e=this.getById("wetLeaseToolTipTemplate").text()),e},e.getOperatingDisclosureTypeToolTip=function(){var t=(this.LegInfo||{}).OperatingCarrier||"",e=this.getOptDisclosureText()||"",n="";return t&&e&&(n=this.getById("diclosureTypeToolTipTemplate").text(),n=F.Util.replace(n,/\[disclosureTitle\]/g,e)),n},e},F.Class.FlightDesignator=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.CarrierCode="",e.FlightNumber="",e.init=function(t){this.setSettingsByObject(t)},e.getFlightDesignator=function(){return this.CarrierCode+" "+this.FlightNumber},e},F.Class.STASTD=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.Day="",e.Month="",e.Hour="",e.Minute="",e.Second="",e.Year="",e.date=null,e.init=function(t){this.setSettingsByObject(t),this.initDateTime()},e.initDateTime=function(){this.date=new Date,this.date.setHours(this.Hour,this.Minute,this.Second,0),this.date.setFullYear(this.Year,this.Month-1,this.Day)},e.getTime=function(){return F.Util.getTime(this.Hour,this.Minute)},e},F.Class.TripPlannerItinerarySummarySelect=function(){var t=new F.Class.SkySales,i=F.Util.extendObject(t);return i.containerId="",i.container=null,i.sellKeysId="summaryTripPlannerSellKeys",i.sellKeys=null,i.ErrorsOccurred="",i.Booking=null,i.itineraryResponse=null,i.drawSelectViewItinerarySummary=null,i.url="TripPlannerItinerarySummaryAjax-resource.aspx",i.init=function(t){this.setSettingsByObject(t),this.setVars()},i.setVars=function(){i.container=this.getById(this.containerId),i.sellKeys=this.getById(this.sellKeysId)},i.initBooking=function(t,e,n){i.Booking=new F.Class.Booking,this.Booking.init(t),this.Booking.initBookingPricing(e),this.Booking.initAllPassengerFees(n),i.Booking.AllPassengerFees=this.Booking.AllPassengerFees.AllPassengerFees},i.addEventsAfterItinerarySummaryDraw=function(){var t=0,e=null,n=$("[id^='journeyPricingDetails_']")||[],i=n.length,a={};for(t=0;t<i;t+=1)n[t],a={elementId:"journeyPricingDetails_"+t,hideId:"journeyTotalPrice_"+t,showId:"journeyTotalPrice_"+t},(e=new F.Class.ToggleView).init(a),e.updateHide()},i.updateItinerarySummaryInfoHandler=function(t){i.updateItinerarySummaryInfo(t)},i.updateItinerarySummaryInfo=function(t){var e=$(t).html(),n=F.Json.parse(e);this.initBooking(n.Booking,n.BookingPricing,n.AllPassengerFees),0===n.ErrorsOccurred&&null!==this.drawSelectViewItinerarySummary&&(this.drawSelectViewItinerarySummary(),this.addEventsAfterItinerarySummaryDraw())},i.getPriceItineraryResponse=function(t){this.sellKeys.val(t),$.post(this.url,{"ItinerarySummary.JourneyFareSellKeys":t},this.updateItinerarySummaryInfoHandler)},i.getSelectViewItineraryJourneysHtml=function(){return null!==this.Booking?this.Booking.getSelectViewItineraryJourneysHtml():""},i.getSelectViewItineraryAllPassengerFeesHtml=function(){return null!==this.Booking?this.Booking.getSelectViewItineraryAllPassengerFeesHtml():""},i},F.Class.TripPlannerItinerarySummaryConfirm=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.containerId="itinerarySummaryInfoContainer",e.container=null,e.ErrorsOccurred="",e.Booking=null,e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.initBooking(t),this.Booking.drawConfirmView()},e.setVars=function(){e.container=this.getById(this.containerId)},e.initBooking=function(t){this.Booking=new F.Class.Booking,this.Booking.init(t.Booking),this.Booking.initBookingPricing(t.BookingPricing)},e.updateItinerarySummaryInfo=function(){},e},F.Class.Booking=function(){var t=new F.Class.SkySales,y=F.Util.extendObject(t);return y.containerId="itinerarySummaryInfoContainer",y.container=null,y.itinerarySummaryLeftViewTableTemplateId="tripPlannerItinerarySummaryLeftViewTableTemplate",y.itinerarySummaryLeftViewTableTemplate=null,y.itinerarySummaryLeftViewFinalTableTemplateId="tripPlannerItinerarySummaryLeftViewFinalTableTemplate",y.itinerarySummaryLeftViewFinalTableTemplate=null,y.itineraryJourneyInfoTemplateId="itineraryJourneyInfoTemplate",y.itineraryJourneyInfoTemplate=null,y.itineraryJourneyInfoStripedTemplateId="itineraryJourneyInfoStripedTemplate",y.itineraryJourneyInfoStripedTemplate=null,y.journeyItinerarySummaryInfoTemplateId="journeyItinerarySummaryInfoTemplate",y.allPassengerFeesItinerarySummaryInfoTemplateId="allPassengerFeesItinerarySummaryInfoTemplate",y.journeyItinerarySummaryInfoTemplate=null,y.journeyPricingHtmlTemlateId="journeyPricingHtmlTemlate",y.journeyPricingHtmlTemlate=null,y.RecordLocators=[],y.TypeOfSale=null,y.ReceivedBy=null,y.Payments=null,y.Passengers=[],y.BookingSum=null,y.BookingInfo=null,y.CurrencyCode="",y.GroupName="",y.Journeys=[],y.TotalPrice=0,y.BookingPricing=null,y.fullDateFormatString="D, M dd, yy",y.init=function(t){this.setSettingsByObject(t),this.setVars(),this.initJourneysArray(),this.initPassengersArray()},y.setVars=function(){this.container=this.getById(this.containerId),this.itinerarySummaryLeftViewTableTemplate=this.getById(this.itinerarySummaryLeftViewTableTemplateId),this.itinerarySummaryLeftViewFinalTableTemplate=this.getById(this.itinerarySummaryLeftViewFinalTableTemplateId),this.itineraryJourneyInfoTemplate=this.getById(this.itineraryJourneyInfoTemplateId),this.itineraryJourneyInfoStripedTemplate=this.getById(this.itineraryJourneyInfoStripedTemplateId),this.journeyItinerarySummaryInfoTemplate=this.getById(this.journeyItinerarySummaryInfoTemplateId),this.allPassengerFeesItinerarySummaryInfoTemplate=this.getById(this.allPassengerFeesItinerarySummaryInfoTemplateId),this.journeyPricingHtmlTemlate=this.getById(this.journeyPricingHtmlTemlateId)},y.initJourneysArray=function(){var t=0,e=this.Journeys||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=new F.Class.JourneyDateMarket).init(e[t]),e[t]=i},y.initPassengersArray=function(){var t=0,e=this.Passengers||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=new F.Class.Passenger).init(e[t]),e[t]=i},y.initBookingSum=function(){var t=this.BookingSum;this.BookingSum=new F.Class.BookingSum,this.BookingSum.init(t)},y.initBookingPricing=function(t){this.BookingPricing=new F.Class.BookingPricing,this.BookingPricing.init(t)},y.initAllPassengerFees=function(t){this.AllPassengerFees=new F.Class.AllPassengerFees,this.AllPassengerFees.init(t)},y.getSelectViewItineraryJourneysHtml=function(){var t=0,e="",n="",i="",a="",r="",s="",o=0,l=0,u=this.Journeys||[],d=u.length,h=null,c="",p="",g=[],m=-1;for(t=0;t<d;t+=1)h=u[t],n=t%2!=0?this.itineraryJourneyInfoTemplate.text():this.itineraryJourneyInfoStripedTemplate.text(),i=this.journeyItinerarySummaryInfoTemplate.text(),i=F.Util.replace(i,/\[journeyNumber\]/,t+1),i=F.Util.replace(i,/\[journeyIndex\]/g,t),s=$.datepicker.formatDate(y.fullDateFormatString,h.DepartureDate.date),i=F.Util.replace(i,/\[journeyDate\]/,s),i=F.Util.replace(i,/\[stationPair\]/,h.DepartureStation+" to "+h.ArrivalStation),i=F.Util.replace(i,/\[flightDesignator\]/,h.FlightDesignator),(g=h.Segments)&&g.length&&0<g.length&&(m=g.length,c=g[0].Std.getTime(),p=g[m-1].Sta.getTime()),i=F.Util.replace(i,/\[deptArriveTimes\]/,c+" to "+p),o=F.Util.convertToLocaleCurrency(y.BookingPricing.JourneyPricingList[t].JourneyTotalPrice),i=F.Util.replace(i,/\[journeyTotalPrice\]/,o),a=this.journeyPricingHtmlTemlate.text(),r=y.BookingPricing.JourneyPricingList[t].getSelectViewPassengerPricingHtml(),a=F.Util.replace(a,/\[passengerPricingDetails\]/,r),l=F.Util.convertToLocaleCurrency(y.BookingPricing.JourneyPricingList[t].TotalTaxAndFee),a=F.Util.replace(a,/\[taxesAndFeesDetails\]/,l),i=F.Util.replace(i,/\[pricingDetails\]/,a),e+=n=F.Util.replace(n,/\[journeyDetails\]/,i);return e},y.getSelectViewItineraryAllPassengerFeesHtml=function(){var t=0,e="",n="",i="",a=this.AllPassengerFees||[],r=a.length,s={},o="",l="";for(t=0;t<r;t+=1)o=(s=a[t]).FeeType,l=s.Total,n=t%2!=0?this.itineraryJourneyInfoTemplate.text():this.itineraryJourneyInfoStripedTemplate.text(),i=this.allPassengerFeesItinerarySummaryInfoTemplate.text(),l=F.Util.convertToLocaleCurrency(l),i=F.Util.replace(i,/\[feeType\]/,o),i=F.Util.replace(i,/\[total\]/,l),e+=n=F.Util.replace(n,/\[journeyDetails\]/,i);return e},y.drawConfirmView=function(){var t=0,e=0,n=0,i=0,a=0,r="",s="",o="",l="",u="",d=this.Journeys||[],h=d.length,c=null;for(t=0;t<h;t+=1)c=d[t],l=t===h-1?this.itinerarySummaryLeftViewFinalTableTemplate.text():this.itinerarySummaryLeftViewTableTemplate.text(),l=F.Util.replace(l,/\[flightIndex\]/,t+1),l=F.Util.replace(l,/\[deptDate\]/,c.DepartureDate.date.toDateString()),l=F.Util.replace(l,/\[deptStation\]/,c.DepartureStation),l=F.Util.replace(l,/\[arriveStation\]/,c.ArrivalStation),l=F.Util.replace(l,/\[flightDesignator\]/,c.FlightDesignator),c.Segments&&c.Segments.length&&c.Segments[0].Std&&c.Segments[c.Segments.length-1].Sta&&(c.Segments,a=c.Segments.length,r=c.Segments[0].Std,s=c.Segments[a-1].Sta,l=F.Util.replace(l,/\[departureTime\]/,r.getTime()),l=F.Util.replace(l,/\[arrivalTime\]/,s.getTime())),l=F.Util.replace(l,/\[classPricing\]/,c.JourneyFares[0].ClassOfService),u=y.BookingPricing.JourneyPricingList[t].getConfirmViewPassengerPricingHtml(),n=F.Util.convertToLocaleCurrency(y.BookingPricing.TotalBookingPrice),l=F.Util.replace(l,/\[bookingTotalPrice\]/,n),i=F.Util.convertToLocaleCurrency(y.BookingPricing.JourneyPricingList[t].JourneyTotalPrice),l=F.Util.replace(l,/\[totalJourneyPrice\]/,i),l=F.Util.replace(l,/\[passengersPricing\]/,u),e=F.Util.convertToLocaleCurrency(y.BookingPricing.JourneyPricingList[t].TotalTaxAndFee),l=F.Util.replace(l,/\[totalTaxesAndFees\]/,e),o+=l=F.Util.replace(l,/\[currencyName\]/,y.BookingPricing.CurrencyDescription);this.container.html(o)},y},F.Class.BookingPricing=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.TotalBookingPrice=0,e.JourneyPricingList=[],e.CurrencyCode="",e.CurrencyDescription="",e.DisplayPrefix="",e.DisplaySuffix="",e.init=function(t){this.setSettingsByObject(t),this.initJourneyPricingListArray()},e.initJourneyPricingListArray=function(){var t=0,e=this.JourneyPricingList||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=new F.Class.JourneyPricingInfo).init(e[t]),e[t]=i},e},F.Class.JourneyPricingInfo=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.JourneyTotalPrice=0,e.TotalTaxAndFee=0,e.JourneyPassengerPriceInfoList=[],e.journeyPassengerPricingHtmlTemplateId="journeyPassengerPricingHtmlTemplate",e.journeyPassengerPricingHtmlTemplate=null,e.confirmViewPassengerPriceInfoTemplateId="confirmViewPassengerPriceInfoTemplate",e.confirmViewPassengerPriceInfoTemplate=null,e.init=function(t){this.setSettingsByObject(t),this.setVars()},e.setVars=function(){this.journeyPassengerPricingHtmlTemplate=this.getById(this.journeyPassengerPricingHtmlTemplateId),this.confirmViewPassengerPriceInfoTemplate=this.getById(this.confirmViewPassengerPriceInfoTemplateId)},e.initJourneyPassengerPriceInfoList=function(){var t=0,e=this.JourneyPassengerPriceInfoList||[],n=e.length,i=null;for(t=0;t<n;t+=1)(i=new F.Class.JourneyPricingInfo).init(e[t]),e[t]=i},e.getSelectViewPassengerPricingHtml=function(){var t=0,e="",n="",i=0,a=this.JourneyPassengerPriceInfoList||[],r=a.length,s=null;for(t=0;t<r;t+=1)s=a[t],e=this.journeyPassengerPricingHtmlTemplate.text(),e=F.Util.replace(e,/\[paxType\]/,s.PassengerType),i=F.Util.convertToLocaleCurrency(s.PassengerPrice),n+=e=F.Util.replace(e,/\[passengerPrice\]/g,i);return n},e.getConfirmViewPassengerPricingHtml=function(){var t=0,e="",n="",i=0,a=this.JourneyPassengerPriceInfoList||[],r=a.length,s=null;for(t=0;t<r;t+=1)s=a[t],e=this.confirmViewPassengerPriceInfoTemplate.text(),e=F.Util.replace(e,/\[paxType\]/,s.PassengerType),i=F.Util.convertToLocaleCurrency(s.PassengerPrice),n+=e=F.Util.replace(e,/\[passengerPrice\]/g,i);return n},e},F.Class.JourneyPassengerPriceInfo=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.PassengerType="",e.PassengerPrice=0,e.init=function(t){this.setSettingsByObject(t)},e},F.Class.AllPassengerFees=function(){var t=new F.Class.SkySales,a=F.Util.extendObject(t);return a.AllPassengerFees=[],a.init=function(t){var e,n,i=0;for(a.AllPassengerFees=t||[],e=this.AllPassengerFees.length,i=0;i<e;i+=1)(n=new F.Class.PassengerFee).init(this.AllPassengerFees[i]),this.AllPassengerFees[i]=n},a},F.Class.PassengerFee=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.FeeType="",e.Total=0,e.init=function(t){this.setSettingsByObject(t)},e},F.Class.BookingSum=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.BalanceDue="",e.PassiveSegmentCount=0,e.SegmentCount=0,e.TotalCost="",e.init=function(t){this.setSettingsByObject(t)},e},F.Class.Passenger=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.CustomerNumer=-1,e.FamilyNumber=-1,e.Infant=null,e.Name=null,e.PassengerAddresses=[],e.PassengerBags=[],e.PassengerFees=[],e.PassengerId=-1,e.PassengerInfo=null,e.PassengerNumber=-1,e.PassengerProgram=null,e.PassengerTravelDocuments=[],e.PassengerTypeInfo=null,e.init=function(t){this.setSettingsByObject(t)},e},F.Class.PassengerTypeInfo=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.PaxType="",e.Dob=null,e.init=function(t){this.setSettingsByObject(t)},e},F.Class.TripPlannerFareRules=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.containerId="tripPlannerFareRules",e.container=null,e.tripFareRuleTemplateId="tripPlannerFareRuleTemplate",e.tripFareRuleTemplate=null,e.fareRulesFormattedList=[],e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.draw()},e.setVars=function(){e.container=this.getById(this.containerId),e.tripFareRuleTemplate=this.getById(this.tripFareRuleTemplateId)},e.draw=function(){var t=0,e="",n="",i=this.fareRulesFormattedList||[],a=i.length,r=null;for(t=0;t<a;t+=1)r=i[t],n=this.tripFareRuleTemplate.text(),n=F.Util.replace(n,/\[tripNumber\]/g,t+1),e+=n=F.Util.replace(n,/\[fareRule\]/,F.Util.decodeUriComponent(r));this.container.html(e)},e},F.Class.TripPlannerHelp=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.containerId="tripPlannerHelpLink",e.container=null,e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},e.setVars=function(){this.container=this.getById(this.containerId)},e.addEvents=function(){this.addHelp()},e.addHelp=function(){var t=new F.Class.ToggleView;t.init({elementId:"tripPlannerHelp",hideId:"tripPlannerHelpLink",showId:"tripPlannerHelpLink"}),t.updateHide()},e},F.Class.LoyaltyHistoryList=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.loyaltyTransactionList={},e.startDateId="",e.startDateDayId="",e.startDateMonthYearId="",e.startDate=null,e.startDateDay=null,e.startDateMonthYear=null,e.endDateId="",e.endDateDayId="",e.endDateMonthYearId="",e.endDate="",e.endDateDay="",e.endDateMonthYear="",e.filterButtonId="",e.filterButton=null,e.pageSizeId="",e.pageSizeDom=null,e.currentPageId="",e.currentPageDom=null,e.yearRange="",e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.initFilterDates(),this.addEvents()},e.setVars=function(){this.startDate=this.getById(this.startDateId),this.startDateDay=this.getById(this.startDateDayId),this.startDateMonthYear=this.getById(this.startDateMonthYearId),this.endDate=this.getById(this.endDateId),this.endDateDay=this.getById(this.endDateDayId),this.endDateMonthYear=this.getById(this.endDateMonthYearId),this.pageSizeDom=this.getById(this.pageSizeId),this.currentPageDom=this.getById(this.currentPageId),this.filterButton=this.getById(this.filterButtonId)},e.addEvents=function(){this.filterButton.click(this.updateFilterHandler),this.startDateDay.change(this.updateFilterHandler),this.startDateMonthYear.change(this.updateFilterHandler),this.endDateDay.change(this.updateFilterHandler),this.endDateMonthYear.change(this.updateFilterHandler)},e.initFilterDates=function(){var t=F.Util.parseIsoDate(this.loyaltyTransactionList.startDate),e=F.Util.parseIsoDate(this.loyaltyTransactionList.endDate);this.populateDay(this.startDateDay,t.getDate()),this.populateDay(this.endDateDay,e.getDate()),this.populateMonthYear(this.startDateMonthYear,t.getFullYear(),t.getMonth()+1),this.populateMonthYear(this.endDateMonthYear,e.getFullYear(),e.getMonth()+1),this.populateHiddenDateFields()},e.formatDateValue=function(t){var e=t.toString();return 1===e.length&&(e="0"+e),e},e.populateDay=function(t,e){var n,i=0,a=[];for(i=1;i<=31;i+=1)a[i]={code:this.formatDateValue(i),name:i};n={selectBox:t,objectArray:a,selectedItem:this.formatDateValue(e)},F.Util.populateSelect(n)},e.populateMonthYear=function(t,e,n){var i,a=0,r=0,s=(new Date).getFullYear(),o=[],l=0,u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(s-=2,a=-2;a<=2;a+=1){for(r=1;r<=12;r+=1)o[l]={code:s+"-"+this.formatDateValue(r),name:u[r-1]+" "+s},l+=1;s+=1}i={selectBox:t,objectArray:o,selectedItem:e+"-"+this.formatDateValue(n)},F.Util.populateSelect(i)},e.updateFilterHandler=function(){e.populateHiddenDateFields()},e.populateHiddenDateFields=function(){var t=this.startDateMonthYear.val()+"-"+this.startDateDay.val(),e=this.endDateMonthYear.val()+"-"+this.endDateDay.val();this.startDate.val(t),this.endDate.val(e),this.pageSizeDom.val(this.loyaltyTransactionList.pageSize)},e},F.Class.ParticipantMapping=function(){var t=new F.Class.SkySales,h=F.Util.extendObject(t);return h.containerId="",h.container=null,h.participantInputHash={},h.dropDownInputArray=[],h.yearStart=1900,h.dayCount=31,h.birthDateId="",h.birthDate=null,h.birthDateYearId="",h.birthDateYear=null,h.birthDateMonthId="",h.birthDateMonth=null,h.birthDateDayId="",h.birthDateDay=null,h.disableFields=!1,h.copyContactArray=[],h.copyContactChecked="",h.copyContactCheckedObject=null,h.init=function(t){this.setSettingsByObject(t),this.setVars(),this.initDropDowns(),this.disableFields?this.disableFormFields():this.addEvents(),this.updateBirthDateDropDown()},h.disableFormFields=function(){this.container.find(":input").attr("disabled","disabled")},h.setVars=function(){this.container=this.getById(this.containerId),this.birthDate=this.getById(this.birthDateId),this.birthDateYear=this.getById(this.birthDateYearId),this.birthDateMonth=this.getById(this.birthDateMonthId),this.birthDateDay=this.getById(this.birthDateDayId),this.copyContactCheckedObject=this.getById(this.copyContactChecked)},h.addEvents=function(){this.container.change(this.mapPassengerHandler),this.birthDate.change(this.updateBirthDateDropDownHandler),this.birthDateYear.change(this.updateBirthDateHandler),this.birthDateMonth.change(this.updateBirthDateHandler),this.birthDateDay.change(this.updateBirthDateHandler),this.copyContactCheckedObject.change(this.copyContactDetailsHandler)},h.getDataTypeHash=function(){var t=F.Util.getResource()||{},e=t.countryInfo.CountryList||[],n=t.provinceStateInfo.ProvinceStateList||[],i=t.titleInfo.TitleList||[],a=t.dateCultureInfo.monthNamesShort||[],r="",s=[],o=[],l=[],u=0,d=0,h=this.dayCount,c=this.yearStart,p=(new Date).getFullYear(),g={};for(d=1;d<=h;d+=1)s.push({name:d,code:d});for(u=a.length,d=0;d<u;d+=1)(r=a[d])&&o.push({name:r,code:d});for(d=p;c<=d;d-=1)l.push({name:d,code:d});for(u=n.length,d=0;d<u;d+=1)(g=n[d]||{}).code=g.scode;return{country:e,provinceState:n,title:i,dateDay:s,dateMonth:o,dateYear:l}},h.copyContactDetailsHandler=function(){h.copyContactCheckedObject.children()[0].checked?h.mapContact():h.clearParticipantContact()},h.initDropDowns=function(){var t=0,e=this.dropDownInputArray||[],n=e.length,i=null,a="",r="",s="",o=this.getDataTypeHash()||{},l=null,u={};for(t=0;t<n;t+=1)a=(i=e[t]).id||"",r=i.dataType||"",s=i.value||"",(l=this.getById(a)).length&&o[r]&&(u={objectArray:o[r],input:l,showCode:!1,clearOptions:!1,selectedItem:s},F.Util.populate(u))},h.mapPassengerHandler=function(){h.mapPassenger()},h.updateBirthDateHandler=function(){h.updateBirthDate()},h.updateBirthDate=function(){var t="",e=null,n=0,i=0,a=0;n=this.birthDateYear.val(),i=this.birthDateMonth.val(),a=this.birthDateDay.val(),n&&i&&a&&(n=parseInt(n,10),i=parseInt(i,10),a=parseInt(a,10),e=new Date(n,i,a),t=F.Util.dateToIsoString(e)),this.birthDate.val(t)},h.updateBirthDateDropDownHandler=function(){h.updateBirthDateDropDown()},h.updateBirthDateDropDown=function(){var t,e=null,n=0,i=0,a=0;t=this.birthDate.val(),(e=F.Util.parseIsoDate(t))&&(n=e.getFullYear(),i=e.getMonth(),a=e.getDate(),9999!==n&&(this.birthDateYear.val(n),this.birthDateMonth.val(i),this.birthDateDay.val(a)))},h.clearPreviousPassengerBirthDateDropDown=function(){""===this.birthDate.val()&&(this.birthDateYear.val(""),this.birthDateMonth.val(""),this.birthDateDay.val(""))},h.getParticipantToPassengerMap=function(t,e){var n="",i="",a="",r="",s="",o={},l={};return e?(t.Infant.Name=t.Infant.Name||{},n=t.Infant.Name.Title||"",i=t.Infant.Name.FirstName||"",a=t.Infant.Name.MiddleName||"",r=t.Infant.Name.LastName||"",s=t.Infant.Dob||""):(t.Name=t.Name||{},n=t.Name.Title||"",i=t.Name.FirstName||"",a=t.Name.MiddleName||"",r=t.Name.LastName||"",s=t.PassengerTypeInfo.Dob||"",o=t.PassengerAddresses[0]||{},l=t.PassengerTravelDocuments[0]||{}),s.Year&&(s=new Date(s.Year,s.Month-1,s.Day),s=F.Util.dateToIsoString(s)),{title:n,firstName:i,middleName:a,lastName:r,birthDate:s,address1:o.AddressLine1,address2:o.AddressLine2,city:o.City,stateCode:o.ProvinceState,zipCode:o.PostalCode,countryCode:o.CountryCode,county:"",phoneHome:o.Phone,phoneWork:"",phoneFax:"",emailAddress:"",companyName:o.CompanyName,busOrRes:"",docIssuedBy:l.IssuedByCode,docNumber:l.DocNumber,docTypeCode:l.DocTypeCode,itemSequence:"",participantTypeCode:""}},h.getParticipantToContactMap=function(t,e){var n={},i=0,a=[];for(i=0;i<t.length;i+=1)t[i]&&t[i].value&&(a[i]=t[i].value,n[t[i].dataType]=a[i]);return n},h.mapPassenger=function(){var t,e,n=(F.Util.getResource()||{}).passengerHash||{},i={},a="",r=this.participantInputHash||{},s="",o=null,l=-1,u=-1,d=!1;if(l=(e=(this.container.val()||"").split("_"))[0]||-1,u=e[1]||-1,l=parseInt(l,10),0===(u=parseInt(u,10))&&(d=!0),t=n[l])for(a in i=this.getParticipantToPassengerMap(t,d),r)r.hasOwnProperty(a)&&(s=i[a]||"",o=this.getById(r[a]),""!==s&&o.val(s));else for(a in r)o=this.getById(r[a]),"title"!==a&&"firstName"!==a&&"middleName"!==a&&"lastName"!==a&&"birthDate"!==a||(o.val(""),"birthDate"===a&&h.clearPreviousPassengerBirthDateDropDown());this.updateBirthDateDropDown()},h.mapContact=function(){F.Util.getResource();var t,e,n=this.copyContactArray||[],i={},a="",r=this.participantInputHash||{},s="";if(t=(this.copyContactChecked.split("_")||[])[2]||-1,n)for(a in i=this.getParticipantToContactMap(n,t),r)r.hasOwnProperty(a)&&(e=i[a])&&(s=e,this.getById(r[a]).val(s));this.updateBirthDateDropDown()},h.clearParticipantContact=function(){var t="",e=this.participantInputHash||{},n=null;for(t in e)e.hasOwnProperty(t)&&(n=this.getById(e[t]),"title"!==t&&"firstName"!==t&&"middleName"!==t&&"lastName"!==t&&n.val(""))},h},F.Class.PassThroughPayment=function(){var t=new F.Class.SkySales,a=F.Util.extendObject(t);return a.noOfOrderItems=0,a.noOfYearsFromPresent=7,a.orderItemsListJson=[],a.orderItemsArray=[],a.orderPaymentTypesHash={},a.vendorsHash={},a.passThroughPaymentJson={},a.paymentInputContentIds={},a.paymentInputContent={},a.passThroughPaymentFields={},a.passThroughPaymentContentArray=[],a.init=function(t){this.setSettingsByObject(t),this.initPropertiesFromData(),this.initVendorsHash(),this.initOrderItemsArray(),this.initPaymentInputContentArray(),this.initPassThroughPaymentContentArray()},a.initPropertiesFromData=function(){var t=this.passThroughPaymentJson||{};a.noOfOrderItems=t.noOfOrderItems||"",a.noOfYearsFromPresent=t.noOfYearsFromPresent||7,a.orderItemsListJson=t.orderItemsListJson||[],a.orderPaymentTypesHash=t.orderPaymentTypesHash||[]},a.initVendorsHash=function(){var t=0,e={},n=this.orderPaymentTypesHash,i=n.length;for(t=0;t<i;t+=1)(e=new F.Class.Vendor).init(n[t]),a.vendorsHash[e.vendorCode]=e},a.initOrderItemsArray=function(){var t=0,e={},n=this.orderItemsListJson||[],i=this.noOfOrderItems;for(t=0;t<i;t+=1)(e=new F.Class.OrderItem).init(n[t]),this.orderItemsArray.push(e)},a.initPaymentInputContentArray=function(){var t=new F.Class.PaymentInputBase,e=this.paymentInputContentIds||{};t.init(e),a.paymentInputContent=t,this.paymentInputContent=t},a.initPassThroughPaymentContentArray=function(){var t=0,e=this.noOfOrderItems,n={},i={},a=this.passThroughPaymentFields||{},r=this.orderItemsArray||[];for(t=0;t<e;t+=1)n=new F.Class.PaymentPassThroughContent,i={index:t,vendor:this.vendorsHash[r[t].vendorCode],passThroughPaymentFields:a,paymentInput:this.paymentInputContent,noOfYearsToAdd:this.noOfYearsFromPresent},n.init(i),this.passThroughPaymentContentArray[t]=n},a},F.Class.PaymentPassThroughContent=function(){var t=new F.Class.SkySales,n=F.Util.extendObject(t);return n.noOfYearsToAdd=7,n.index={},n.vendor={},n.passThroughPaymentFields={},n.paymentInput={},n.useSameCardCheckId="",n.useSameCardCheck={},n.ccTypeId="",n.ccType={},n.ccNumberId="",n.ccNumber={},n.ccExpirationMonthId="",n.ccExpirationMonth={},n.ccExpirationYearId="",n.ccExpirationYear={},n.ccExpirationDateId="",n.ccExpirationDate={},n.ccHolderNameId="",n.ccHolderName={},n.ccCvvId="",n.ccCvv={},n.ccIssueNumberId="",n.ccIssueNumber={},n.requiredNameErrorText="",n.requiredCvvErrorText="",n.requiredExpMonthErrorText="",n.requiredExpYearErrorText="",n.requiredCCNumErrorText="",n.init=function(t){this.setSettingsByObject(t),this.setVars(),this.populateCreditCardTypes(),this.populateExpirationMonthYear(),this.setPaymentPassThroughValidationFields(),this.updateIssueNumberVisibility(),this.addEvents()},n.setVars=function(){var t=this.index,e=this.passThroughPaymentFields||{};n.ccCvvId=F.Util.replace(e.ccCvvId,/\[index\]/g,t),n.ccExpirationDateId=F.Util.replace(e.ccExpirationDateId,/\[index\]/g,t),n.ccExpirationMonthId=F.Util.replace(e.ccExpirationMonthId,/\[index\]/g,t),n.ccExpirationYearId=F.Util.replace(e.ccExpirationYearId,/\[index\]/g,t),n.ccHolderNameId=F.Util.replace(e.ccHolderNameId,/\[index\]/g,t),n.ccNumberId=F.Util.replace(e.ccNumberId,/\[index\]/g,t),n.ccTypeId=F.Util.replace(e.ccTypeId,/\[index\]/g,t),n.ccIssueNumberId=F.Util.replace(e.ccIssueNumberId,/\[index\]/g,t),n.useSameCardCheckId=F.Util.replace(e.useSameCardCheckId,/\[index\]/g,t),n.requiredCvvErrorText=e.requiredCvvErrorText,n.requiredNameErrorText=e.requiredNameErrorText,n.requiredExpMonthErrorText=e.requiredExpMonthErrorText,n.requiredExpYearErrorText=e.requiredExpYearErrorText,n.requiredCCNumErrorText=e.requiredCCNumErrorText,n.ccCvv=this.getById(this.ccCvvId),n.ccExpirationDate=this.getById(this.ccExpirationDateId),n.ccExpirationMonth=this.getById(this.ccExpirationMonthId),n.ccExpirationYear=this.getById(this.ccExpirationYearId),n.ccHolderName=this.getById(this.ccHolderNameId),n.ccNumber=this.getById(this.ccNumberId),n.ccType=this.getById(this.ccTypeId),n.ccIssueNumber=this.getById(this.ccIssueNumberId),n.useSameCardCheck=this.getById(this.useSameCardCheckId),this.updateUseSameCardVisibility()},n.updateUseSameCardVisibility=function(){var t=this.getTrimmedPaymentInputCardType(),e=(this.vendor||{}).acceptedPaymentTypesHash||{},n=this.useSameCardCheck||{},i=this.useSameCardCheckId||"",a=$('label[for="'+i+'"]');e[t]?(n.show(),a.show()):(n.hide(),a.hide())},n.populateCreditCardTypes=function(){var t=this.vendor||{},e={input:this.ccType,objectArray:t.acceptedPaymentTypes};F.Util.populate(e)},n.populateExpirationMonthYear=function(){var t,e,n=0,i=(new Date).getFullYear(),a=1,r=this.noOfYearsToAdd||7,s=[],o=[];for(n=0;n<=r;n+=1)s[n]={code:i,name:i},i+=1;for(t={input:this.ccExpirationYear,objectArray:s},F.Util.populate(t),n=0;n<9;n+=1)o[n]={code:"0"+a,name:"0"+a},a+=1;for(n=a-1;n<12;n+=1)o[n]={code:a,name:a},a+=1;e={input:this.ccExpirationMonth,objectArray:o},F.Util.populate(e)},n.updatePaymentPassThroughExpirationDateHandler=function(){n.updatePaymentPassThroughExpirationDate()},n.updatePaymentPassThroughExpirationDate=function(){var t,e;t=this.ccExpirationMonth.val(),e=this.ccExpirationYear.val(),t&&e&&this.ccExpirationDate.val(t+"/"+e)},n.autoPopulateFieldsFromPaymentInputHandler=function(){this.checked&&n.populateFieldsFromPaymentInput(),n.updatePaymentPassThroughExpirationDate(),n.setPaymentPassThroughValidationFields(),n.updateIssueNumberVisibility()},n.getTrimmedPaymentInputCardType=function(){var t=this.paymentInput.paymentInputCreditCardType.val()||"";return F.Util.replace(t,/ExternalAccount:/,"")},n.populateFieldsFromPaymentInput=function(){var t=this.getTrimmedPaymentInputCardType(),e=this.paymentInput||{},n=((this.vendor||{}).acceptedPaymentTypesHash||{})[t]||{};t&&(this.ccType.val(t),this.ccNumber.val(e.paymentInputCreditCardNumber.val()),this.ccExpirationYear.val(e.paymentInputCreditCardExpirationYear.val()),this.ccExpirationMonth.val(e.paymentInputCreditCardExpirationMonth.val()),this.ccHolderName.val(e.paymentInputCreditCardHolderName.val()),this.ccCvv.val(e.paymentInputCreditCardCvv.val()),n.supportsIssueNumber?this.ccIssueNumber.val(e.paymentInputCreditCardIssueNumber.val()):this.ccIssueNumber.val(""))},n.setPaymentPassThroughValidationFieldsHandler=function(){n.setPaymentPassThroughValidationFields()},n.setPaymentPassThroughValidationFields=function(){var t=this.ccType,e=t.val()||"",n=this.ccNumber,i=this.ccHolderName,a=this.ccCvv,r=this.ccExpirationYear,s=this.ccExpirationMonth,o=((this.vendor||{}).acceptedPaymentTypesHash||{})[e]||{requiresCCType:!0},l=F.Util.setRequiredAttribute,u=F.Util.removeRequiredAttribute;u(t),o.requiresCCType&&l(t,this.requiredCCTypeErrorText),u(n),o.requiresCCNum&&l(n,this.requiredCCNumErrorText),u(i),o.requiresCcName&&l(i,this.requiredNameErrorText),u(a),o.requiresCvv&&l(a,this.requiredCvvErrorText),u(s),o.requiresDate&&l(s,this.requiredExpMonthErrorText),u(r),o.requiresDate&&l(r,this.requiredExpYearErrorText)},n.updateIssueNumberVisibilityHandler=function(){n.updateIssueNumberVisibility()},n.updateIssueNumberVisibility=function(){var t=this.ccType.val()||"",e=((this.vendor||{}).acceptedPaymentTypesHash||{})[t]||{},n=this.ccIssueNumber||{},i=this.ccIssueNumberId||"",a=$('label[for="'+i+'"]');e.supportsIssueNumber?(a.show(),n.show()):(n.hide(),a.hide(),n.val(""))},n.addEvents=function(){this.ccExpirationMonth.change(this.updatePaymentPassThroughExpirationDateHandler),this.ccExpirationYear.change(this.updatePaymentPassThroughExpirationDateHandler),this.ccType.change(this.setPaymentPassThroughValidationFieldsHandler),this.ccType.change(this.updateIssueNumberVisibilityHandler),this.useSameCardCheck.click(this.autoPopulateFieldsFromPaymentInputHandler)},n},F.Class.OrderItem=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.vendorCode="",e.init=function(t){this.setSettingsByObject(t)},e},F.Class.Vendor=function(){var t=new F.Class.SkySales,a=F.Util.extendObject(t);return a.vendorCode="",a.acceptedPaymentTypes=[],a.acceptedPaymentTypesHash={},a.init=function(t){this.setSettingsByObject(t),this.initAcceptedPaymentTypesHash()},a.initAcceptedPaymentTypesHash=function(){var t=0,e=this.acceptedPaymentTypes||[],n=e.length,i={};for(t=0;t<n;t+=1)(i=new F.Class.VendorPaymentType).init(e[t]),a.acceptedPaymentTypesHash[i.code]=i},a},F.Class.VendorPaymentType=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.code="",e.name="",e.requiresCvv=!1,e.requiresDate=!1,e.requiresCcName=!1,e.requiresCCNum=!0,e.supportsIssueNumber=!1,e.init=function(t){this.setSettingsByObject(t)},e},F.Class.Property=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.propertyFieldHash={},e.init=function(t){this.setSettingsByObject(t),this.setVars()},e.setVars=function(){var t=F.Class.Property.validationHash||{},e="",n=null,i=this.propertyFieldHash,a="",r=null,s=[],o=0,l=0,u=null,d="",h="",c={},p={},g="";for(a in i)if(i.hasOwnProperty(a))for(l=(s=i[a]||[]).length,o=0;o<l;o+=1)if(r={},e=(u=s[o]).id||"",r.id=e,n=r.input,n=(n=this.getById(e))[0],r.propertyHash={},t=u.propertyHash||{},n)for(d in t)t.hasOwnProperty(d)&&(h=d.toLowerCase(),c=t[d],g=h+".validation",(p=$(n)).data(g,c),"required"===h&&F.Util.formatInputLabel(p))},e},F.Class.Property.validationHash={},F.Class.InsuranceTermsBase=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.containerId="",e.container=null,e.parentContainerId="",e.parentContainer=null,e.url="InsuranceTermsViewAjax-resource.aspx",e.termsInfo="",e.participantBaseId="",e.participant="",e.keyId="",e.key="",e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},e.setVars=function(){var t;e.container=this.getById(this.containerId),e.participant=this.getById(this.participantBaseId),t=this.getById(this.keyId),e.key=t,""!==this.parentContainerId&&(e.parentContainer=this.getById(this.parentContainerId))},e.addEvents=function(){null!==this.parentContainer&&this.parentContainer.click(this.parentContainerClickHandler)},e.parentContainerClickHandler=function(){e.parentContainerClick()},e.parentContainerClick=function(){var t=this.key.val();this.ajax(t)},e.updateTermsHandler=function(t){e.updateTerms(t)},e.updateTerms=function(t){this.container.html(t)},e.ajax=function(t){void 0!==t&&""!==t&&(e.termsInfo="?key="+t,$.post(this.url+this.termsInfo,this.updateTermsHandler))},e},F.Class.SingleInsuranceTerms=function(){var r=new F.Class.InsuranceTermsBase,s=F.Util.extendObject(r);return s.establishmentIds=[],s.establishments=[],s.setVars=function(){var t=0,e=this.establishmentIds,n=e.length,i="",a={};for(r.setVars.call(this),t=0;t<n;t+=1)i=e[t],a=this.getById(i),s.establishments[t]=a},s.parentContainerClickHandler=function(){s.parentContainerClick()},s.parentContainerClick=function(){var t=this.key.val(),e=this.establishments,n=e.length,i=0;for(i=0;i<n&&!(t=e[i].val());i+=1);r.ajax(t)},s.addEvents=function(){null!==this.parentContainer&&this.parentContainer.click(this.parentContainerClickHandler)},s.init=function(t){r.setSettingsByObject.call(this,t),this.setVars(),this.addEvents()},s},F.Class.InsuranceTerms=function(){var t=new F.Class.SkySales,e=F.Util.extendObject(t);return e.singleTermsInsuranceBaseId="",e.singleTermsInsuranceArray=[],e.groupTermsInsuranceBaseId="",e.groupTermsInsuranceArray=[],e.parentSingleBaseId="",e.parentGroupBaseId="",e.participantSingleBaseId="",e.participantGroupBaseId="",e.singleCoverageKey="",e.groupCoverageKey="",e.establishmentIdsByProduct=[],e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.initSingleTermsInsuranceArray(),this.initGroupTermsInsuranceArray()},e.setVars=function(){this.singleTermsInsuranceArray=$("[id^='"+this.singleTermsInsuranceBaseId+"']"),this.groupTermsInsuranceArray=$("[id^='"+this.groupTermsInsuranceBaseId+"']")},e.initSingleTermsInsuranceArray=function(){var t=0,e=this.singleTermsInsuranceArray||[],n=e.length,i=null,a={};for(t=0;t<n;t+=1)a=this.getById(e[t].id),(i=new F.Class.SingleInsuranceTerms).containerId=this.singleTermsInsuranceBaseId+t,i.parentContainerId=this.parentSingleBaseId+t,i.participantBaseId=this.participantSingleBaseId+t,i.establishmentIds=this.establishmentIdsByProduct[t],i.init(a),e[t]=i},e.initGroupTermsInsuranceArray=function(){var t=0,e=this.groupTermsInsuranceArray||[],n=e.length,i=null,a={};for(t=0;t<n;t+=1)a={},i=new F.Class.InsuranceTermsBase,a.containerId=this.groupTermsInsuranceBaseId+t,a.parentContainerId=this.parentGroupBaseId+t,a.participantBaseId=this.participantGroupBaseId+t,a.keyId=this.groupCoverageKey+t,i.init(a),e[t]=i},e},F.Class.MCCInput=function(){var t=F.Class.SkySales(),e=F.Util.extendObject(t),n=F.Util.getResource();return e.bookingCurrencyCode="",e.externalRateId="",e.defaultCurrencyValue="",e.dropDownListCurrencyId="",e.dropDownListCurrency=null,e.externalRateInfo=n.externalRateInfo,e.currencyHash=n.currencyHash,e.setVars=function(){e.dropDownListCurrency=this.getById(this.dropDownListCurrencyId)},e.populateCurrency=function(){var t=this.externalRateInfo.ExternalRateList,e="",n=[],i=null,a=null,r={},s="",o={};if(this.bookingCurrencyCode&&this.dropDownListCurrency){for(e in t)t.hasOwnProperty(e)&&(i=t[e]).quotedCurrency===this.bookingCurrencyCode&&(a=this.currencyHash[i.collectedCurrency],i.name=a?a.name:i.collectedCurrency,n[n.length]=i);s=(a=this.currencyHash[this.bookingCurrencyCode])?a.name:this.bookingCurrencyCode,r={code:this.defaultCurrencyValue,name:s},n[n.length]=r,o={objectArray:n,selectBox:this.dropDownListCurrency,selectedItem:this.externalRateId,showCode:!1},F.Util.populateSelect(o)}},e.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.populateCurrency()},e},F.Class.SFPDPassengerInput=function(){var t=F.Class.SkySales(),e=F.Util.extendObject(t);return e.passengerGenderIdArray=[],e.infantGenderIdArray=[],e.init=function(t){this.setSettingsByObject(t),this.setGenderFieldsToEmpty(this.passengerGenderIdArray),this.setGenderFieldsToEmpty(this.infantGenderIdArray)},e.setGenderFieldsToEmpty=function(t){var e="",n=0,i=(t=t||[]).length;for(n=0;n<i;n+=1)e=t[n],this.getById(e).val("")},e},F.Class.StoredPayment=function(){var t=F.Class.SkySales(),n=F.Util.extendObject(t);return n.url="",n.key="",n.deleteButtonId="",n.deleteButton=null,n.deleteInputId="",n.deleteInput=null,n.defaultInputId="",n.defaultInput=null,n.submitName="",n.message="",n.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents()},n.setVars=function(){this.deleteButton=this.getById(this.deleteButtonId),this.deleteInput=this.getById(this.deleteInputId),this.defaultInput=this.getById(this.defaultInputId)},n.addEvents=function(){this.deleteButton.click(this.updateDeleteInputHandler),this.defaultInput.click(this.updateDefaultInputHandler)},n.updateDeleteInputHandler=function(t){var e=n.updateDeleteInput();return e||t.preventDefault(),e},n.updateDeleteInput=function(){var t=this.message,e=window.confirm(t);return e&&this.deleteInput.val(this.key),e},n.updateDefaultInputHandler=function(){n.updateDefaultInput()},n.updateDefaultInput=function(){var t=this.submitName,e=this.defaultInput,n=e.attr("name"),i=e.val(),a={};a[n]=i,a.__EVENTTARGET="",a[t]="SetDefault",$.post(this.url,a,this.updatePrimaryHandler)},n.updatePrimaryHandler=function(){},n},F.Class.StoredPayment.validate=function(t){t=t||"";var e,n,i,a,r=!1,s=new Date,o=null,l="";return(l=(l=$("#"+t).val())||"")&&(e=(o=F.Util.parseIsoDate(l)).getFullYear(),n=o.getMonth(),i=s.getFullYear(),a=s.getMonth(),(i<e||e===i&&a<=n)&&(r=!0)),r},F.Class.TimeInput=function(){var t=F.Class.SkySales(),r=F.Util.extendObject(t);return r.timeId="",r.time=null,r.timeHourId="",r.timeHour=null,r.timeMinuteId="",r.timeMinute={},r.timeSuffixId="",r.timeSuffix=null,r.timeHourValue=null,r.timeMinuteValue=null,r.timeSuffixValue=null,r.timeSuffixList=[],r.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.initTimeInfo(),this.initDropDownValues()},r.setVars=function(){r.time=this.getById(this.timeId),r.timeHour=this.getById(this.timeHourId),r.timeMinute=this.getById(this.timeMinuteId),r.timeSuffix=this.getById(this.timeSuffixId)},r.formatTimeToIso=function(){var t=Number(this.timeHour.val()),e=Number(this.timeMinute.val()),n=Number(this.timeSuffix.val());return 1===n&&t<12&&(t+=12),0===n&&12===t&&(t=0),1===t.toString().length&&(t="0"+t),1===e.toString().length&&(e="0"+e),t+":"+e+":00"},r.updateTimeInput=function(){0<this.timeHour.val().length&&0<this.timeMinute.val().length&&0<this.timeSuffix.val().length?r.time.val(r.formatTimeToIso()):r.time.val("")},r.updateTimeInputHandler=function(){r.updateTimeInput()},r.addEvents=function(){this.timeHour.change(this.updateTimeInputHandler),this.timeMinute.change(this.updateTimeInputHandler),this.timeSuffix.change(this.updateTimeInputHandler)},r.initDropDown=function(t,e){var n;n={objectArray:t,input:e,showCode:!1,clearOptions:!1,selectedItem:""},F.Util.populate(n)},r.initDropDownValues=function(){var t=this.timeHourValue;null!==t&&null!==this.timeMinuteValue&&null!==this.timeSuffixValue&&(0===t&&(t=12),r.timeHour.val(t),r.timeMinute.val(this.timeMinuteValue),r.timeSuffix.val(this.timeSuffixValue),r.updateTimeInput())},r.initTimeInfo=function(){var t=[],e=[],n=this.timeSuffixList,i=0,a="0";for(i=1;i<=12;i+=1)t.push({name:i,code:i});for(i=0;i<=59;i+=1)(a=i)<10&&(a="0"+i),e.push({name:a,code:a});r.initDropDown(t,this.timeHour),r.initDropDown(e,this.timeMinute),r.initDropDown(n,this.timeSuffix)},r},F.Class.PassiveJourney=function(){var o=F.Class.SkySales(),l=F.Util.extendObject(o);return l.departureDateObj=null,l.departureTimeObj=null,l.arrivalDateObj=null,l.arrivalTimeObj=null,l.dateYearsInAdvance=5,l.init=function(t){this.setSettingsByObject(t),this.setVars(),this.addEvents(),this.initDateAndTime()},l.setSettingsByObject=function(t){o.setSettingsByObject.call(this,t);var e=new F.Class.DateInput,n=new F.Class.TimeInput,i=new F.Class.DateInput,a=new F.Class.TimeInput,r=(new Date).getFullYear(),s=r+this.dateYearsInAdvance;e.yearStart=s,e.yearEnd=r,i.yearStart=s,i.yearEnd=r,e.init(this.departureDateObj),l.departureDateObj=e,n.init(this.departureTimeObj),l.departureTimeObj=n,i.init(this.arrivalDateObj),l.arrivalDateObj=i,a.init(this.arrivalTimeObj),l.arrivalTimeObj=a},l.initDefaultDate=function(t){var e=new Date,n=t.date.val();0<n.length&&(e=F.Util.parseIsoDate(n)),t.dateYearValue=e.getFullYear(),t.dateDayValue=e.getDate(),t.dateMonthValue=e.getMonth()+1,t.initDropDownValues()},l.initDefaultTime=function(t){var e=new Date,n=1,i=0,a=0;0<t.time.val().length&&(e=F.Util.parseIsoTime(t.time.val())),12===(n=Number(e.getHours()))&&(a=1),12<n&&(n-=12,a=1),1===(i=Number(e.getMinutes())).toString().length&&(i="0"+i),t.timeHourValue=n,t.timeMinuteValue=i,t.timeSuffixValue=a,t.initDropDownValues()},l.initDateAndTime=function(){l.departureDateObj.date.hide(),l.arrivalDateObj.date.hide(),l.departureTimeObj.time.hide(),l.arrivalTimeObj.time.hide(),l.initDefaultDate(this.departureDateObj),l.initDefaultDate(this.arrivalDateObj),l.initDefaultTime(this.departureTimeObj),l.initDefaultTime(this.arrivalTimeObj)},l},$(document).ready(F.Util.ready),$(window).on("load",F.Util.load)}(),jQuery(document).ready(function(e){var t;setTimeout(function(){e('#Promotion30Off select[id*="originStation1"] option').each(function(t){""!=e(this).val()&&"MEX"!=e(this).val()&&"HAV"!=e(this).val()&&"GUA"!=e(this).val()&&"MIA"!=e(this).val()&&"BOG"!=e(this).val()&&"SJO"!=e(this).val()&&"IAH"!=e(this).val()&&"MTY"!=e(this).val()&&e(this).remove()}),"MEX"==e('#Promotion30Off select[id*="originStation1"]').val()?e('#Promotion30Off select[id*="destinationStation1"] option').each(function(t){""!=e(this).val()&&"HAV"!=e(this).val()&&"GUA"!=e(this).val()&&"MIA"!=e(this).val()&&"BOG"!=e(this).val()&&"SJO"!=e(this).val()&&e(this).remove()}):"MTY"==e('#Promotion30Off select[id*="originStation1"]').val()?e('#Promotion30Off select[id*="destinationStation1"] option').each(function(t){""!=e(this).val()&&"IAH"!=e(this).val()&&e(this).remove()}):"IAH"==e('#Promotion30Off select[id*="originStation1"]').val()?e('#Promotion30Off select[id*="destinationStation1"] option').each(function(t){""!=e(this).val()&&"MTY"!=e(this).val()&&e(this).remove()}):e('#Promotion30Off select[id*="destinationStation1"] option').each(function(t){""!=e(this).val()&&"MEX"!=e(this).val()&&e(this).remove()})},200),e('#Promotion30Off select[id*="originStation1"]').click(function(){"MEX"==e(this).val()?e('#Promotion30Off select[id*="destinationStation1"] option').each(function(t){""!=e(this).val()&&"MEX"!=e(this).val()&&"HAV"!=e(this).val()&&"GUA"!=e(this).val()&&"MIA"!=e(this).val()&&"BOG"!=e(this).val()&&"SJO"!=e(this).val()&&e(this).remove()}):"MTY"==e(this).val()?e('#Promotion30Off select[id*="destinationStation1"] option').each(function(t){""!=e(this).val()&&"IAH"!=e(this).val()&&e(this).remove()}):"IAH"==e(this).val()?e('#Promotion30Off select[id*="destinationStation1"] option').each(function(t){""!=e(this).val()&&"MTY"!=e(this).val()&&e(this).remove()}):e('#Promotion30Off select[id*="destinationStation1"] option').each(function(t){""!=e(this).val()&&"MEX"!=e(this).val()&&e(this).remove()})}),e('#Promotion30Off select[id*="originStation1"]').click(function(){"MEX"==e(this).val()?e('#Promotion30Off select[id*="destinationStation1"] option').each(function(t){""!=e(this).val()&&"MEX"!=e(this).val()&&"HAV"!=e(this).val()&&"GUA"!=e(this).val()&&"MIA"!=e(this).val()&&"BOG"!=e(this).val()&&"SJO"!=e(this).val()&&"IAH"!=e(this).val()&&e(this).remove()}):"MTY"==e(this).val()?e('#Promotion30Off select[id*="destinationStation1"] option').each(function(t){""!=e(this).val()&&"IAH"!=e(this).val()&&e(this).remove()}):"IAH"==e(this).val()?e('#Promotion30Off select[id*="destinationStation1"] option').each(function(t){""!=e(this).val()&&"MTY"!=e(this).val()&&e(this).remove()}):e('#Promotion30Off select[id*="destinationStation1"] option').each(function(t){""!=e(this).val()&&"MEX"!=e(this).val()&&e(this).remove()})}),window.mobilecheck=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},e("#MemberLoginAnonymous").click(function(){document.location.protocol,document.location.host,e("#LoginIFrame").attr("src","loginIFrame.aspx")}),t=e("div.dropdown-menu-custom"),e("a.dropdown-toggle").on("mouseenter",function(){if(767<window.screen.availWidth)return t.show()}),e("a.dropdown-toggle").on("click",function(){if(767<window.screen.availWidth)return t.show()}),e("a.dropdown-toggle").on("mouseleave",function(){return t.hide()}),t.on("mouseenter",function(){return t.show()}),t.on("mouseleave",function(){return t.hide()}),e("#origen").keydown(function(t){if(13===t.keyCode)return e(".datepicker-1").datepicker("show")}),e("#destino").keydown(function(t){if(13===t.keyCode)return e(".datepicker-2").datepicker("show")})}),$(".left-section-detail .section-title").click(function(){$(this).next().toggle("fast"),$(this).find("span").hasClass("closed")?($(this).find("span").removeClass("closed"),$(this).find("span").addClass("expand")):($(this).find("span").removeClass("expand"),$(this).find("span").addClass("closed"))}),$("h4.icon-expand").click(function(){$(this).next().toggle("fast"),$(this).find("span").hasClass("closed")?($(this).find("span").removeClass("closed"),$(this).find("span").addClass("expand")):($(this).find("span").removeClass("expand"),$(this).find("span").addClass("closed"))});var test=document.createElement("input");"placeholder"in test||$("input").each(function(){""!=$(this).attr("placeholder")&&""==this.value&&$(this).val($(this).attr("placeholder")).css("color","grey").on({focus:function(){this.value==$(this).attr("placeholder")&&$(this).val("").css("color","#000")},blur:function(){""==this.value&&$(this).val($(this).attr("placeholder")).css("color","grey")}})}),jQuery(document).ready(function(t){t(".list-unstyled > a").on("click",function(){t(this).hasClass("glyphicon-chevron-down")?(t(this).removeClass("glyphicon-chevron-down"),t(this).addClass("glyphicon-chevron-up")):t(this).hasClass("glyphicon-chevron-up")&&(t(this).removeClass("glyphicon-chevron-up"),t(this).addClass("glyphicon-chevron-down"))}),t(window).width()<768&&(t(".arrowDownToggle").css("display","block"),t(".list-unstyled > li > ul").addClass("collapse"))}),function(n){n.fn.validateFreePax=function(t){0<n("select[id *= '_DropDownListPassengerType_FREE']").length&&this.change(function(){var e=0;n("select[id *= 'DropDownListPassengerType_ADT'], select[id *= 'DropDownListPassengerType_CHD']").each(function(t){e+=Number(n(this).val())}),TotalPaxFree=n("select[id *= 'DropDownListPassengerType_FREE']").val(),n(".AlertPassengers").remove(),TotalPaxFree>e&&(n("select[id *= 'DropDownListPassengerType_FREE']").val(0),n("#flightSearchContainer").append('<div class="AlertPassengers bg-blue padd-all-10 text-white marg-top-10">'+n("#ValidateMessage").val()+"</div>"))})}}(jQuery);